/* served 2020-08-12 14:44:04*/
/* gen time 2020-08-12 14:44:04*/
var sublime=sublime||{};(function(sublime){'use strict';var __ts=new Date().getTime();sublime=sublime||{};sublime.originWindow=window;var forceOriginWindow=false||false;var win=window,doc=win.document;var lastTopW=window;while(top!=win){try{lastTopW=win;win=win.parent;win.location.href;doc=win.document;if(!doc){throw"doc undefined";}}catch(e){win=lastTopW;doc=win.document;break;}}
sublime.windowIsTop=top===win;sublime.isNum=function(n){return!isNaN(parseFloat(n))&&isFinite(n);};sublime.pInt=function(s,mag){var integer=parseInt(s,mag||10);return sublime.isNum(integer)?integer:null;};sublime.timeStart=sublime.timeStart&&sublime.pInt(sublime.timeStart)&&sublime.timeStart>(__ts-30000)?sublime.timeStart:__ts;if('performance'in win&&win.performance.timing&&win.performance.timing.navigationStart){sublime.timeStart=win.performance.timing.navigationStart;}
sublime.window=win;sublime.document=doc;if(forceOriginWindow){sublime.window=sublime.originWindow;sublime.document=sublime.originWindow.document;}
win.sublime=sublime;sublime.loadedCount=sublime.loadedCount?sublime.loadedCount++:1;sublime.versionId=20200812084747||"1337";sublime.srcType="a"||'U';sublime.isSSL=win.location.protocol==='https:';sublime.noOp=function(){};sublime.IEVersion=document.documentMode||false;sublime.isEdge=!!window.MSStream;sublime.isIe=sublime.isEdge||sublime.IEVersion;sublime.isChrome=!sublime.isIe&&/Chrom(?:e|ium)/i.test(navigator.userAgent);sublime.isFirefox=!sublime.isIe&&/firefox/i.test(navigator.userAgent);sublime.isWindowsSafari=!sublime.isIe&&!sublime.isChrome&&!sublime.isFirefox&&/Safari/i.test(navigator.userAgent)&&/Windows/i.test(navigator.userAgent);sublime.isIphoneSafari=!sublime.isIe&&!sublime.isChrome&&!sublime.isFirefox&&!sublime.isWindowsSafari&&/Safari/i.test(navigator.userAgent)&&/iPhone/i.test(navigator.userAgent);var supportsConsoleStyles=sublime.isChrome||sublime.isFirefox;var logLevelRank=10;var logLevels={log:{rank:40,css:'background: #ababab'},info:{rank:30,css:'background: #91ddfb'},warn:{rank:20,css:'background: #f9a82b;'},success:{rank:10,css:'background: #6bec7c;'},error:{rank:0,css:'background: #f7470f;'}};for(var method in logLevels){if(!logLevels.hasOwnProperty(method)){continue;}
(function(method,level){sublime[method]='log'in console?function(){var elapsedTimeDebug=(logLevelRank==40)?sublime.elapsedSinceInvocation()+'ms':'';var vendorPrefix="wf"||'sskz';if(supportsConsoleStyles){var prefix='%c'+vendorPrefix+'%c'+method.charAt(0)+'%c'+elapsedTimeDebug;var prefixCss=''+'background: #ED7D04;'+'border-radius: 3px 0 0 3px;'+'color: #fff;'+'padding: 1px 3px;';var suffixCss=''+'color: #3E3E40;'+'padding: 1px 3px;'+
level.css+';';var elapsedTime=''+'background: #dedede;'+'border-radius: 0 3px 3px 0;'+'color: #292929;'+'padding: 1px 3px;';var args=[prefix,prefixCss,suffixCss,elapsedTime];}else{args=['['+vendorPrefix+']['+method.charAt(0)+']['+elapsedTimeDebug+']'];}
for(var i in arguments){if(!arguments.hasOwnProperty(i)){continue;}
args.push(arguments[i]);}
if(level.rank>logLevelRank){return;}
var supportConsoleTrace=(!sublime.isIphoneSafari&&("groupCollapsed"in console)&&("trace"in console)&&("groupEnd"in console));if(supportConsoleTrace){console.groupCollapsed.apply(console,args);console.trace();console.groupEnd();}else if(method in console){console[method].apply(console,args);}else{console.log.apply(console,args);}}:function(){};})(method,logLevels[method]);}
sublime.setLogLevel=function(level){logLevelRank=Math.min(40,Math.max(10,sublime.pInt(level)));if(sublime.isDefined(sublime.storage)&&sublime.isFunction(sublime.storage.set)){sublime.storage.set('logLevel',level,36e5);}
return true;};sublime.getLogLevel=function(){return logLevelRank;};sublime.now=Date.now?function(){return Date.now();}:function(){return new Date().getTime();};sublime.elapsed=('performance'in win&&'now'in win.performance)?function(){return win.performance.now();}:function(){return sublime.now()-sublime.timeStart;};sublime.ivTime=sublime.elapsed();var timings={};sublime.elapsedSinceLastCall=function(key){var tn=sublime.elapsed();if(!(key in timings)){timings[key]=tn;return 0;}
var res=tn-timings[key];timings[key]=tn;return res;};sublime.elapsedSinceInvocation=function(){return Math.round(sublime.now()-(sublime.timeStart+sublime.ivTime));};sublime.merge=function(){var result;if(sublime.isArray(arguments[0])){result=[];}else if(sublime.isObject(arguments[0])){result={};}else{result=arguments[0];}
for(var i in arguments){if(!arguments.hasOwnProperty(i)){continue;}
var obj=arguments[i];if(!obj){continue;}
for(var j in obj){if(!obj.hasOwnProperty(j)){continue;}
if(!sublime.isArray(obj[j])&&typeof obj[j]==='object'&&typeof result[j]==='object'){result[j]=sublime.merge(result[j],obj[j]);}else{result[j]=obj[j];}}}
return result;};sublime.mergeConfig=function(config,pluginName){if((pluginName in sublime)&&sublime[pluginName].config){config=sublime.merge(config,sublime[pluginName].config);}
return config;};sublime.qs={parse:function(url){var params={},qs,tmp,field,subField,value;if(url.indexOf('?')>-1){qs=url.substring(url.indexOf('?')+1);}else if(!sublime.isUrl(url)){qs=url;}
if(!qs){return{};}
if(qs.indexOf('#')>-1){qs=qs.substring(0,qs.indexOf('#'));}
qs=qs.replace(/&amp;/g,'&').split("&");for(var i in qs){if(!qs.hasOwnProperty(i)){continue;}
tmp=qs[i].split('=');field=tmp[0];value=decodeURIComponent(tmp[1]);if(field.indexOf('[')===-1){params[field]=value;continue;}
if(field.indexOf('[')===0){continue;}
tmp=field.match(/^([a-z0-9]+)\[([a-z-0-9]*)]$/i);field=tmp[1];subField=tmp[2];if(subField){if(typeof(params[field])==='undefined'){params[field]={};}
params[field][subField]=value;}else{if(typeof(params[field])==='undefined'){params[field]=[];}
params[field].push(value);}}
return params;},build:function(params){var qs=[],j,subField;if(!params){return'';}
for(var i in params){if(!params.hasOwnProperty(i)){continue;}
if(sublime.isArray(params[i])||sublime.isObject(params[i])){for(j in params[i]){if(!params[i].hasOwnProperty(j)){continue;}
subField=!sublime.isArray(params[i])?j:'';if(!sublime.isDefined(params[i][j])){qs.push(i+'['+subField+']');}else{qs.push(i+'['+subField+']='+encodeURIComponent(params[i][j]));}}}else{if(!sublime.isDefined(params[i])){qs.push(i);}else{qs.push(i+'='+encodeURIComponent(params[i]));}}}
return qs.join('&');},merge:function(data){if(arguments.length===0){throw"Merge needs arguments";}
var params=[],qs={};for(var i=0;i<arguments.length;i++){if(typeof(arguments[i])==='string'){params[i]=sublime.qs.parse(arguments[i]);}else if(!sublime.isObject(arguments[i])){throw"Can't merge non object";}else{params[i]=arguments[i];}
qs=sublime.merge(qs,params[i]);}
return qs;},mergeAndBuild:function(data){return sublime.qs.build(sublime.qs.merge.apply({},arguments));}};sublime.isScalar=function(mixed){return(/boolean|number|string/).test(typeof mixed);};var varTypes=["Array","Function","Object","String"],varType;for(var e in varTypes){if(!varTypes.hasOwnProperty(e)){continue;}
varType=varTypes[e];(function(varType){sublime["is"+varType]=function(a){return"undefined"!=typeof a&&Object.prototype.toString.call(a)=="[object "+varType+"]";};}(varType));}
sublime.isDefined=function(mixed){if(typeof mixed==='undefined'){return false;}else if(mixed==='undefined'){return false;}else if(mixed===undefined){return false;}else if(mixed===null){return false;}
return true;};sublime.isEmpty=function(mixed){if(mixed==null){return true;}
if(sublime.isArray(mixed)){return mixed.length===0;}
if(sublime.isObject(mixed)){return sublime.length(mixed)===0;}
return mixed?false:true;};sublime.length=function(obj){if('keys'in{}){return Object.keys(obj).length;}
var cnt=0;for(var k in obj){if(obj.hasOwnProperty(k)){cnt++;}}
return cnt;};sublime.inArray=Array.indexOf?function(needle,haystack,returnIndex){var index=haystack.indexOf(needle);return returnIndex?index:(index!==-1);}:function(needle,haystack,returnIndex){for(var i in haystack){if(!haystack.hasOwnProperty(i)){continue;}
if(haystack[i]==needle){return returnIndex?i:true;}}
return returnIndex?-1:false;};var BASECHAR_62="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";sublime.base62Encode=function(integer){if(integer===0){return'0';}
var output='';while(integer>0){output=BASECHAR_62[integer%62]+output;integer=Math.floor(integer / 62);}
return output;};sublime.base62Decode=function(str){var output=0,chars=(''+str).split('').reverse();chars.forEach(function(c,i){output+=BASECHAR_62.indexOf(c)*Math.pow(62,i);});return output;};sublime.url={parse:function(url){var regex=/^(?:(https?):)?(?:\/\/)?([0-9a-z-._]+)?(\/[^?#]*)?(?:\?([^#]*))?(?:#(.*))?$/i;var parts=url.match(regex)||[];var output={url:url,scheme:parts[1]||'',host:parts[2]||'',path:parts[3]||'',query:parts[4]||'',hash:parts[5]||''};return output;},build:function(params){var output=(params.scheme?params.scheme+':':'')+'//'+
params.host+
params.path+
(params.query?'?'+params.query:'')+
(params.hash?'#'+params.hash:'');return output;},setProtocol:function(url,ssl){var parts=sublime.url.parse(url);if(ssl===true){parts.scheme='https';}else if(ssl===false){parts.scheme='http';}else{parts.scheme='';}
return sublime.url.build(parts);},merge:function(url,params){var qs,baseUrl;if(!sublime.isObject(params)||sublime.isEmpty(params)){return url;}
if(url.indexOf('?')>-1){baseUrl=url.substring(0,url.indexOf('?'));qs=sublime.qs.mergeAndBuild(url,params);}else{baseUrl=url;qs=sublime.qs.mergeAndBuild('',params);}
return baseUrl+(qs?'?'+qs:'');}};sublime.isUrl=function(url){var pattern=/^((https?:)?\/\/)/;return url&&!!pattern.test(url.toString()+'');};sublime.toArray=function(obj){return Array.prototype.slice.call(obj);};sublime.trim=function(string){return string.replace(/^\s+|\s+$/g,'');};sublime.applyJs=function(js){if(!js){sublime.error('sublime.applyJs(): empty js');return false;}
try{if(sublime.isFunction(js)){js();}else{eval(js);}
return true;}catch(e){sublime.error('sublime.applyJs() failed',{js:js},e);}
return false;};sublime.write=function(html,options){var defaults={id:'sublime-'+(new Date().getTime()).toString(16),iframeAttributes:{},iframeVars:{}};if(!options||!sublime.isObject(options)){options={};}
options=sublime.merge(defaults,options);sublime.info('sublime.write');var doc=sublime.document,i,iWin,iDoc,newId,idSuffix=1;do{newId=options.id+'-'+idSuffix;if(doc.getElementById(newId)){idSuffix++;}else{options.id=newId;break;}}while(true);i=doc.createElement('iframe');i.name=i.id=options.id;i.className=(sublime.env?sublime.env('sublime_prefix'):'sublime')+'-write';i.scrolling="no";i.frameBorder="0";i.hspace="0";i.vspace="0";i.marginwidth="0";i.marginheight="0";i.allowTransparency="true";i.width="1px";i.height="1px";if(sublime.length(options.iframeAttributes)){var attribute;for(var attr in options.iframeAttributes){attribute=doc.createAttribute(attr);attribute.value=options.iframeAttributes[attr];i.setAttributeNode(attribute);}}
if(options.targetElement){var locationElement=options.targetElement;if(locationElement.tagName==='BODY'){locationElement.appendChild(i);}else{locationElement.parentNode.insertBefore(i,locationElement.nextSibling);}}else{doc.body.appendChild(i);}
iWin=i.contentWindow;iDoc=i.contentDocument;iDoc.open();if(sublime.length(options.iframeVars)){for(var v in options.iframeVars){var value=options.iframeVars[v];if(sublime.isFunction(value)){iWin[v]=(function(value){return function(){return value.apply(iWin,arguments);};}(value));}else{iWin[v]=value;}}}
iWin.sublime=sublime;iDoc.write('<!doctype html><html><body>'+html+'</body></html>');iDoc.close();return i;};sublime.writeToIframe=function(target,html){var iframe=target;if(typeof target==='string'){iframe=sublime.document.getElementById(target);}else if(target.frameElement){iframe=target.frameElement;}
var iDoc=iframe.contentDocument;iDoc.open();iDoc.write(html);iDoc.close();};sublime.removeElement=function(element){if(element&&element.parentNode!==null){element.parentNode.removeChild(element);return true;}
return false;};sublime.writeAndEvalScripts=function(targetWindow,html,divId){divId=divId||(sublime.env?sublime.env('sublime_prefix'):'sublime')+'-waes';var win=targetWindow,doc=win.document,div=doc.getElementById(divId);if(!div){div=doc.createElement('div');div.id=divId;doc.body.appendChild(div);}
div.innerHTML=html;var scriptsTags=div.getElementsByTagName('script');for(var i=0;i<scriptsTags.length;i++){evalScriptTag(scriptsTags[i],win);}};var evalScriptTag=function(elem,targetWindow){var doc=targetWindow.document,data=(elem.text||elem.textContent||elem.innerHTML||''),head=doc.getElementsByTagName("head")[0]||doc.documentElement,script=doc.createElement("script");script.type="text/javascript";try{script.appendChild(doc.createTextNode(data));}catch(e){script.text=data;}
head.insertBefore(script,head.firstChild);head.removeChild(script);};sublime.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;sublime.timer.clearTimeout(timeout);timeout=sublime.timer.setTimeout(later,wait);if(callNow){func.apply(context,args);}};};var
cryptObj=win.crypto||win.msCrypto||null,rngU32;if(cryptObj&&'TypedArray'in win){var typedU32=new Uint32Array(1);rngU32=function(){cryptObj.getRandomValues(typedU32);return typedU32[0];};rngU32.isWeak=false;}else{rngU32=function(){return Math.floor(Math.random()*4294967295);};rngU32.isWeak=true;}
sublime.rngU32=rngU32;sublime.DOMReadyTime=null;sublime.computeDOMReadyTime=function(){if(win.performance&&win.performance.timing&&win.performance.timing.domInteractive){sublime.DOMReadyTime=win.performance.timing.domInteractive;}else if(!sublime.DOMReadyTime){sublime.DOMReadyTime=sublime.now();}
return sublime.DOMReadyTime;};sublime.getHash=function(){return(sublime.window.location.hash||'').replace(/^#/,'');};sublime.ucFirst=function(string){return string.toString().charAt(0).toUpperCase()+string.slice(1);};sublime.isFeatureEnabled=function isFeatureEnabled(featureName){var featFlippingZones={sskzGDPR:true,smartConsent:true,smartKeywordConsent:true,stickyConsent:[23651,19014,348,19342,2576,3408,3409,4428,4430,5733,5836,7131,7135,9466,16087,17392,17486,18516,19245,19688,20373,21551,21647,22921,21627,29433],improveConsent:[23651,19014,348,19342,2576,3408,3409,4428,4430,5733,5836,7131,7135,9466,16087,17392,17486,18516,19245,19688,20373,21551,21647,22921,21627,29433],cookieConsent:[23651,19014,348,19342,2576,3408,3409,4428,4430,5733,5836,7131,7135,9466,16087,17392,17486,18516,19245,19688,20373,21551,21647,22921,21627,29433],appnexusSendImpressionId:[16235],smartSendImpressionId:[16235],noPixelBeforeRender:[],blankSJS:[]};var zoneId=32097;var enabled=false,type=null;try{if(typeof(featFlippingZones[featureName])==='boolean'&&featFlippingZones[featureName]===true){enabled=featFlippingZones[featureName];type=enabled?'global':null;}else if(sublime.isArray(featFlippingZones[featureName])&&featFlippingZones[featureName].indexOf(zoneId)>-1){enabled=true;type=enabled?'zone':null;}else{var qs=sublime.qs.parse(sublime.getHash());enabled=qs[featureName]!=undefined;type=enabled?'hash':null;}}catch(e){sublime.error('Error happened when checking front feature flipping',{},e);enabled=false;}
return enabled;};sublime.helpers={};var OPTIMAL_HEIGHT_FOR_MOBILE=3600;var OPTIMAL_HEIGHT_FOR_DESKTOP=2300;sublime.helpers.addCss=function addCss(css){var id=sublime.env('sublime_prefix')+'-style',style=sublime.document.getElementById(id);if(!style){style=sublime.document.createElement('style');style.type='text/css';style.id=id;sublime.document.getElementsByTagName('head')[0].appendChild(style);}
if(style.styleSheet){style.styleSheet.cssText+=css;}else{style.appendChild(sublime.document.createTextNode(css));}};sublime.helpers.createNamespace=function createNamespace(objectPath){var parts=objectPath.split("."),i,parent=sublime;if("sublime"!==parts[0]){return;}
for(parts=parts.slice(1),i=0;i<parts.length;i+=1){void 0===parent[parts[i]]&&(parent[parts[i]]={});parent=parent[parts[i]];}};sublime.helpers.hasProperty=function hasProperty(element,path){if(!sublime.isDefined(element)||!(sublime.isObject(element)||sublime.isArray(element)))return false;var keys=path.split('.');for(var i=0;i<keys.length;i++){if(!sublime.isDefined(element[keys[i]]))return false;element=element[keys[i]];}
return true;};sublime.helpers.tryParseJson=function tryParseJson(jsonStr){try{return JSON.parse(jsonStr);}catch(e){return false;}};sublime.helpers.tryParseXml=function tryParseXml(xmlStr){try{var parser=new sublime.window.DOMParser();var xml=parser.parseFromString(xmlStr,'text/xml');var parserErrors=xml.getElementsByTagName('parsererror');if(parserErrors.length){var parserError=parserErrors[0];throw new Error(parserError.textContent);}
return xml;}catch(e){sublime.warn('XML parsing error:',e.message);return false;}};sublime.helpers.time2secs=function time2secs(time){var parts=time.toString().split(':');if(parts.length!==3){return 0;}
return(parseInt(parts[0])*3600+parseInt(parts[1])*60+parseInt(parts[2]))||0;};sublime.helpers.getBrowserDimensions=function getBrowserDimensions(){var dimensions={};var w=sublime.window;dimensions.bw=Math.max(w.document.documentElement.clientWidth,w.innerWidth||0);dimensions.bh=Math.max(w.document.documentElement.clientHeight,w.innerHeight||0);return dimensions;};sublime.helpers.getScript=function(url,options){return new sublime.Promise(function(resolve,reject){var w=sublime.window;if(options&&options.sandbox){var iframe=sublime.document.createElement('iframe');iframe.className='sublime-iframe';iframe.name='sublime-iframe';iframe.style.display='none';sublime.document.body.appendChild(iframe);iframe.contentDocument.open();iframe.contentDocument.write('<html><body></body></html>');iframe.contentDocument.close();w=iframe.contentWindow;}
var s=sublime.document.createElement('script');s.type='application/javascript';s.async=false;s.addEventListener('load',function(){resolve(w);});s.addEventListener('error',reject);s.src=url;w.document.body.appendChild(s);});};sublime.helpers.getPageHeight=function getPageHeight(){var body=sublime.document.body,element=sublime.document.documentElement,height;if(typeof sublime.document.height!=='undefined'){height=sublime.document.height;}else{height=Math.max(body.scrollHeight,body.offsetHeight,element.clientHeight,element.scrollHeight,element.offsetHeight);}
return height;};sublime.helpers.isSublimeElement=function isSublimeElement(el){if(!el){return false;}
var sublimeReg=/^(ayads|sublime)/;if(el.id&&el.id.match(sublimeReg)){return true;}
for(var i=0;i<el.classList.length;i+=1){if(el.classList[i].match(sublimeReg)){return true;}}
return false;};sublime.helpers.isOptimalHeight=function isOptimalHeight(){var isOptimalHeight=true;if(sublime.device=='desktop'&&sublime.helpers.getPageHeight()<OPTIMAL_HEIGHT_FOR_DESKTOP){isOptimalHeight=false;}
if(sublime.device=='mobile'&&sublime.helpers.getPageHeight()<OPTIMAL_HEIGHT_FOR_MOBILE){isOptimalHeight=false;}
return isOptimalHeight;};var env={app_env:"prod",app_host:"https://sac.ayads.co/",app_debug:false,sublime_prefix:"ayads",delivery_url:"https://cdn.ayads.co/",ads_ayads_url:"https://ads.ayads.co/",sublime_url:"https://sac.ayads.co/sublime/",ayads_host:"ayads.co",ayads_url:"https://ayads.co",cookie_domain:".ayads.co",antenna_host:"antenna.ayads.co",antenna_url:"https://antenna.ayads.co",optchk_url:"https://optchk.ayads.co",xcookie_url:"https://optchk.ayads.co/?xc",geoloc_eeu_host:"geoworker.ayads.co",activate_dar:false}||{};sublime.env=function(name){if(sublime.isDefined(env[name])){return env[name];}
sublime.error('Env '+name+' is not defined');return undefined;};sublime.timer=sublime.timer||{};var timeoutIDS=[];var intervalIDS=[];sublime.timer.setTimeout=function setTimeout(){var tid=sublime.window.setTimeout.apply(null,arguments);timeoutIDS.push(tid);return tid;};sublime.timer.clearTimeout=function clearTimeout(){return sublime.window.clearTimeout.apply(null,arguments);};sublime.timer.clearAllTimeouts=function clearAllTimeouts(){for(var i=timeoutIDS.length-1;i>=0;i--){sublime.window.clearTimeout(timeoutIDS[i]);}};sublime.timer.setInterval=function setInterval(){var tid=sublime.window.setInterval.apply(null,arguments);intervalIDS.push(tid);return tid;};sublime.timer.clearInterval=function clearInterval(){return sublime.window.clearInterval.apply(null,arguments);};sublime.timer.clearAllIntervals=function clearAllIntervals(){for(var i=intervalIDS.length-1;i>=0;i--){sublime.window.clearInterval(intervalIDS[i]);}};sublime.hook={};var hooks=[];var calledHooks={};var d=sublime.document;sublime.hook.call=function(namespace,context){calledHooks[namespace]=context;if(!hooks.hasOwnProperty(namespace)||!hooks[namespace].length){sublime.info('Not registered namespace "'+namespace+'"');return false;}
sublime.info('Called namespace "'+namespace+'"');var hook=hooks[namespace],isOverriden=false;for(var i=0;i<hook.length;i++){if(typeof(hook[i])!=='object'||typeof(hook[i].callback)!=='function'||(!hook[i].multiple&&hook[i].called)){continue;}
if(hook[i].async){(function(i){sublime.timer.setTimeout(function(){sublime.hook.execute(hook[i],context);},0);})(i);}else{sublime.hook.execute(hook[i],context);}
if(hook[i].override){isOverriden=true;}}
return isOverriden;};sublime.hook.execute=function(hook,context){try{hook.callback(context);}catch(e){sublime.warn("Hook: error namespace "+hook.namespace,e);}
hook.called=true;return true;};sublime.hook.register=function(namespace,callback){var options={};if(sublime.isObject(namespace)){options=namespace;}else{options={namespace:namespace,callback:callback};}
var defaults={namespace:namespace,callback:sublime.noOp,only:false,override:false,async:false,called:false,multiple:false,once:false,};if(options.namespace.match(/^event\./)){defaults.multiple=true;}
if(options.once){defaults.multiple=false;}
options=sublime.merge(defaults,options);if(options.namespace.indexOf("dom.")===0){var executeDomCallback=options.namespace==='dom.ready'&&domReady;var executeDomInteractiveCallback=options.namespace==='dom.interactive'&&domReadyInteractive;var executeBodyCallback=options.namespace==='dom.bodyReady'&&bodyReady;if(executeDomCallback||Â executeBodyCallback||executeDomInteractiveCallback){options.callback();return;}}
if(options.only){hooks[options.namespace]=[options];return;}
if(!hooks.hasOwnProperty(options.namespace)){hooks[options.namespace]=[];}
if(hooks[options.namespace][0]&&hooks[options.namespace][0].only){sublime.warn("Hook: namespace "+options.namespace+" already has only");return;}
hooks[options.namespace].push(options);if(calledHooks.hasOwnProperty(options.namespace)){executeCalledHooks(options.namespace,calledHooks[options.namespace]);}};function executeCalledHooks(namespace,context){for(var i=0;i<hooks[namespace].length;i++){if(!hooks[namespace][i].called){sublime.hook.call(namespace,context);}}}
sublime.hook.unregister=function(namespace){if(hooks.hasOwnProperty(namespace)){hooks[namespace]=[];}
return true;};var bodyReady=false;var fireBodyLoaded=function(){if(!bodyReady&&sublime.document.body){bodyReady=true;sublime.hook.call('dom.bodyReady');}
if(!bodyReady){sublime.timer.setTimeout(fireBodyLoaded,42);}};fireBodyLoaded();var domReadyInteractive=false;var fireDOMContentLoadedInteractive=function fireDOMContentLoadedInteractive(){if(!domReadyInteractive&&(d.readyState==="complete"||d.readyState==="interactive")){domReadyInteractive=true;sublime.hook.call('dom.interactive');}
if(!domReadyInteractive){sublime.timer.setTimeout(fireDOMContentLoadedInteractive,42);}};fireDOMContentLoadedInteractive();sublime.document.addEventListener('DOMContentLoaded',fireDOMContentLoadedInteractive);var domReady=false;var fireDOMContentLoaded=function fireDOMContentLoaded(){if(!domReady&&d.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){domReady=true;sublime.computeDOMReadyTime();sublime.hook.call('dom.ready');}
if(!domReady){sublime.timer.setTimeout(fireDOMContentLoaded,42);}};fireDOMContentLoaded();sublime.document.addEventListener('DOMContentLoaded',fireDOMContentLoaded);var fireBeforeUnload=function fireBeforeUnload(){sublime.hook.call('step.beforeunload');};sublime.window.addEventListener('beforeunload',fireBeforeUnload);sublime.hook.register('event.cleanUp',function clearEventListener(){sublime.document.removeEventListener('DOMContentLoaded',fireDOMContentLoadedInteractive);sublime.document.removeEventListener('DOMContentLoaded',fireDOMContentLoaded);sublime.window.removeEventListener('beforeunload',fireBeforeUnload);});sublime.detectDevice=sublime.detectDevice||{};sublime.device=sublime.device||'';sublime.detectDevice.detectType=function(ua){ua=ua||navigator.userAgent;var device='desktop',isMobile=ua.match(/(?:phone|windowss+phone|ipod|blackberry|Galaxy Nexus|SM-G892A|(?:android|bbd+|meego|silk|googlebot) .+?mobile|palm|windowss+ce|opera mini|avantgo|docomo)/i),isTablet=ua.match(/(?:ipad|playbook|Tablet|(?:android|bb\\d+|meego|silk)(?! .+? mobile))/i);if(isMobile){device='mobile'}else if(isTablet){device='tablet'}
return device;};sublime.detectDevice.detectMobileOS=function(ua){ua=ua||navigator.userAgent;var output={name:false,version:false},osNameMatch={windowsPhone:'Windows Phone',iOS:'\\biPhone.*Mobile|\\biPod|\\biPad',android:'Android'},versionMatch={windowsPhone:'Windows Phone (?:OS\\s)?(\\d*.\\d*)',iOS:'CPU iPhone OS (\\d*_\\d*)',android:'Android (\\d*.\\d*)'},regexp;for(var osTest in osNameMatch){regexp=new RegExp(osNameMatch[osTest]);if(!regexp.test(ua)){continue;}
output.name=osTest;var versionRegexp=new RegExp(versionMatch[osTest]);var version=versionRegexp.exec(ua);if(!version||version.length!==2){return output;}
output.version=parseFloat(version[1].replace('_','.'));return output;}
return output;};sublime.detectDevice.isDataSaverEnabled=function(){return sublime.helpers.hasProperty(sublime,'window.navigator.connection')&&sublime.window.navigator.connection.saveData;};sublime.detectDevice.categorizedScreenSize=function(){if(!sublime.window.innerWidth){return'unknown';}
var windowWidth=sublime.window.innerWidth / 1;if(windowWidth<=1024){return'small';}else if(windowWidth<=1299){return'medium';}
return'large';};sublime.device=sublime.detectDevice.detectType();sublime.placeable=sublime.placeable||{};sublime.placeable.canVideoAutoplay=function(noVideo,isDataSaverActive){var output={supports:false,noVideo:undefined,dataSaver:undefined,canAutoplay:undefined,message:''};return new sublime.Promise(function(resolve,reject){output.noVideo=noVideo;if(noVideo){output.message='Zone does not support video';return resolve(output);}
output.dataSaver=isDataSaverActive;if(isDataSaverActive){output.message='Datasaver is active';return resolve(output);}
try{sublime.video.canAutoplay().then(function(canAutoplay){output.canAutoplay=canAutoplay;output.supports=canAutoplay;output.message='The device can autoplay';return resolve(output);}).catch(function(error){output.canAutoplay=false;output.message='Error while testing can autoplay';sublime.error('Error on video can autoplay',output,error);return resolve(output);});}catch(error){sublime.error('Error on video detect video support',output,error);reject(error);}})};sublime.hook.register('step.place',function(){var videoSupportPromise=sublime.placeable.canVideoAutoplay(0,sublime.detectDevice.isDataSaverEnabled());videoSupportPromise.then(function(result){sublime.analytics.fire(32097,'zoneVideo',{inherit:'_commonSkinz',qs:{e:'zvid'+(result.noVideo?0:1)}});if(sublime.isDefined(result.dataSaver)){sublime.analytics.fire(32097,'dataSaver',{inherit:'_commonSkinz',qs:{e:'ddsv'+(result.dataSaver?1:0)}});}
if(sublime.isDefined(result.canAutoplay)){sublime.analytics.fire(32097,'canAutoplay',{inherit:'_commonSkinz',qs:{e:'datp'+(result.canAutoplay?1:0)}});}}).catch(function(){sublime.analytics.fire(32097,'autoplay',{inherit:'_commonSkinz',qs:{e:'datp0'}});});});var promiseFinally=function(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value;});},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason);});});};var setTimeoutFunc=setTimeout;function noop(){}
function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments);};}
function Promise(fn){if(!(this instanceof Promise)){throw new TypeError('Promises must be constructed via new');}
if(typeof fn!=='function'){throw new TypeError('not a function');}
this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this);}
function handle(self,deferred){while(self._state===3){self=self._value;}
if(self._state===0){self._deferreds.push(deferred);return;}
self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return;}
var ret;try{ret=cb(self._value);}catch(e){reject(deferred.promise,e);return;}
resolve(deferred.promise,ret);});}
function resolve(self,newValue){try{if(newValue===self){throw new TypeError('A promise cannot be resolved with itself.');}
if(newValue&&(typeof newValue==='object'||typeof newValue==='function')){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return;}else if(typeof then==='function'){doResolve(bind(then,newValue),self);return;}}
self._state=1;self._value=newValue;finale(self);}catch(e){reject(self,e);}}
function reject(self,newValue){self._state=2;self._value=newValue;finale(self);}
function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value);}});}
for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i]);}
self._deferreds=null;}
function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==='function'?onFulfilled:null;this.onRejected=typeof onRejected==='function'?onRejected:null;this.promise=promise;}
function doResolve(fn,self){var done=false;try{fn(function(value){if(done){return;}
done=true;resolve(self,value);},function(reason){if(done){return;}
done=true;reject(self,reason);});}catch(ex){if(done){return;}
done=true;reject(self,ex);}}
Promise.prototype['catch']=function(onRejected){return this.then(null,onRejected);};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom;};Promise.prototype['finally']=promiseFinally;Promise.all=function(arr){return new Promise(function(resolve,reject){if(!arr||typeof arr.length==='undefined'){throw new TypeError('Promise.all accepts an array');}
var args=Array.prototype.slice.call(arr);if(args.length===0){return resolve([]);}
var remaining=args.length;function res(i,val){try{if(val&&(typeof val==='object'||typeof val==='function')){var then=val.then;if(typeof then==='function'){then.call(val,function(val){res(i,val);},reject);return;}}
args[i]=val;if(--remaining===0){resolve(args);}}catch(ex){reject(ex);}}
for(var i=0;i<args.length;i++){res(i,args[i]);}});};function reverse(promise){return new Promise(function(resolve,reject){return Promise.resolve(promise).then(reject,resolve);});}
Promise.any=function(promises){return reverse(Promise.all([].concat(promises).map(reverse)));};Promise.resolve=function(value){if(value&&typeof value==='object'&&value.constructor===Promise){return value;}
return new Promise(function(resolve){resolve(value);});};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value);});};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject);}});};Promise._immediateFn=(typeof setImmediate==='function'&&function(fn){setImmediate(fn);})||function(fn){setTimeoutFunc(fn,0);};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=='undefined'&&console){console.warn('Possible Unhandled Promise Rejection:',err);}};var globalNS=(function(){if(typeof self!=='undefined'){return self;}
if(typeof window!=='undefined'){return window;}
if(typeof global!=='undefined'){return global;}
throw new Error('unable to locate global object');})();if(sublime.window.Promise){sublime.Promise=sublime.window.Promise;}
if(!sublime.window.Promise){sublime.Promise=Promise;}else{if(!sublime.Promise.prototype['finally']){sublime.Promise.prototype['finally']=promiseFinally;}
if(!sublime.Promise.any){sublime.Promise.any=Promise.any;}}
sublime.helpers.createNamespace('sublime.video');var EMPTY_VIDEO_SRC='data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAu1tZGF0AAACrQYF//+p3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE1NSByMjkwMSA3ZDBmZjIyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxOCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTMgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTI4LjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAAwZYiEAD//8m+P5OXfBeLGOfKE3xkODvFZuBflHv/+VwJIta6cbpIo4ABLoKBaYTkTAAAC7m1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAAPoAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIYdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAPoAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAACgAAAAWgAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAD6AAAAAAAAQAAAAABkG1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAQAAAAEAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAATttaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAD7c3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAACgAFoASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQACv/hABhnZAAKrNlCjfkhAAADAAEAAAMAAg8SJZYBAAZo6+JLIsAAAAAYc3R0cwAAAAAAAAABAAAAAQAAQAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAC5QAAAAEAAAAUc3RjbwAAAAAAAAABAAAAMAAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguMTIuMTAw';sublime.video.SUPPORTED_PLAY_TYPES=['video/webm','video/mp4'];sublime.video.SUPPORTED_PLAY_TYPE_3GPP=['video/3gpp'];sublime.video.BITRATE_REFERENCE=1000;sublime.video.getTestingVideo=function(){return sublime.document.createElement('video');};var TESTING_VIDEO=sublime.video.getTestingVideo();sublime.video.canAutoplay=function(){return new sublime.Promise(function(resolve){var element=sublime.video.getTestingVideo();element.muted=true;element.setAttribute('muted','muted');element.setAttribute('playsinline','playsinline');element.src=EMPTY_VIDEO_SRC;var playResult=element.play();if(playResult!==undefined){playResult.then(function(){resolve(true);}).catch(function(){resolve(false);}).finally(function(){element=null;});}else{element=null;resolve(false);}});};sublime.video.canPlayType=function(type){var result=TESTING_VIDEO.canPlayType(type);switch(result){case'probably':return 2;case'maybe':return 1;default:return 0;}};sublime.base64url={};var b64u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var b64pad='=';function base64CharIndex(c){if(c=='+'){return 62;}
if(c=='/'){return 63;}
return b64u.indexOf(c);}
sublime.base64url.decode=function decode(data){var dst='';var i,a,b,c,d;for(i=0;i<data.length-3;i+=4){a=base64CharIndex(data.charAt(i+0));b=base64CharIndex(data.charAt(i+1));c=base64CharIndex(data.charAt(i+2));d=base64CharIndex(data.charAt(i+3));dst+=String.fromCharCode((a<<2)|(b>>>4));if(data.charAt(i+2)!=b64pad){dst+=String.fromCharCode(((b<<4)&0xF0)|((c>>>2)&0x0F))}
if(data.charAt(i+3)!=b64pad){dst+=String.fromCharCode(((c<<6)&0xC0)|d)}}
dst=decodeURIComponent(encodeURIComponent(dst));return dst;};var configStorage={ttl:864e+5*90,prefix:sublime.env('sublime_prefix')+'-'};configStorage=sublime.mergeConfig(configStorage,'storage');sublime.storage={get:function(name){name=configStorage.prefix+name;var entry;try{entry=JSON.parse(sublime.window.localStorage.getItem(name));}catch(e){return null;}
if(entry&&(entry.expire<sublime.now())){sublime.storage.unset(name);return null;}
return entry?entry.value:null;},set:function(name,value,ttl){var entry={value:value,expire:sublime.now()+(ttl||configStorage.ttl)};try{name=configStorage.prefix+name;sublime.window.localStorage.setItem(name,JSON.stringify(entry));return true;}catch(e){return false;}},list:function(mask){var res={};for(var i=0;i<sublime.window.localStorage.length;i++){var k=sublime.window.localStorage.key(i);k=k.replace(new RegExp('^'+configStorage.prefix),'');if(mask&&!mask.test(k)){continue;}
var v=sublime.storage.get(k);if(v===false||v===null){continue;}
res[k]=v;}
return res;},unset:function(name){name=configStorage.prefix+name;try{sublime.window.localStorage.removeItem(name);return true;}catch(e){return false;}},extend:function(name,ttl){var entry=sublime.storage.get(name);if(!entry){return false;}
return sublime.storage.set(name,entry,ttl);},config:configStorage};sublime.helpers.createNamespace('sublime.gdpr.injected');sublime.gdpr.consentsProcessed=!!sublime.gdpr.consentsProcessed;const SOURCE_DEFAULT=0;const SOURCE_CMP=1;const SOURCE_GEO=2;const SOURCE_INJECTED=3;const PURPOSE_ONE='1';const SUBLIME_PURPOSES=['1','2','3','4','7','9','10',];let gdprApplies=false;let consentString=null;let consentStringVersion=null;const sspConsents={sublime:{id:114,consent:false},smartadserver:{id:45,consent:false},improve:{id:253,consent:false},appnexus:{id:32,consent:false},sticky:{id:285,consent:false},rubicon:{id:52,consent:false},criteo:{id:91,consent:false},};let cmpExists=false;let cmpReady=false;let gdprAppliesSource=SOURCE_DEFAULT;const cmpGetConsentTimeout=1000;const cmpWaitTimeout=1000;const cmpWaitInterval=100;const geolocTimeout=500;const geolocCaching=604800000;if(sublime.helpers.hasProperty(sublime.gdpr,'injected.gdprApplies')){gdprApplies=sublime.gdpr.injected.gdprApplies;gdprAppliesSource=SOURCE_INJECTED;}else if(sublime.isFeatureEnabled('sskzGDPR')){gdprApplies=true;}
sublime.gdpr.tcfVersion=null;sublime.helpers.createNamespace('sublime.gdpr.tcf.v1');sublime.gdpr.tcf.v1.getConsentData=function gdprTcfV1GetConsentData(){sublime.gdpr.tcfVersion=1;return new sublime.Promise(function(resolve,reject){var timeout=sublime.timer.setTimeout(function(){sublime.gdpr.isTooLate=true;return reject({executeGeoloc:true,message:'GDPR: cmp consent on timeout'});},cmpGetConsentTimeout);sublime.window.__cmp('getConsentData',null,function(VendorConsentData,success){if(sublime.gdpr.isTooLate){return reject({executeGeoloc:true,message:'GDPR: cmp consent retrieved too late'});}
sublime.info('GDPR: cmp consent retrieved');sublime.info(VendorConsentData);if(!success||!VendorConsentData){return reject({executeGeoloc:true,message:'GDPR: cmp consent response is on error'});}
consentString=VendorConsentData.consentData;consentStringVersion=VendorConsentData.vendorListVersion;gdprApplies=VendorConsentData.gdprApplies;gdprAppliesSource=SOURCE_CMP;cmpReady=true;sublime.timer.clearTimeout(timeout);return resolve();});});};sublime.gdpr.tcf.v1.getVendorConsents=function gdprTcfV1GetVendorConsents(vendorIds){return new sublime.Promise(function(resolve,reject){try{sublime.window.__cmp('getVendorConsents',vendorIds,function(VendorConsents,success){sublime.info('GDPR: getVendorConsents response:',success,VendorConsents);if(!success||!sublime.isObject(VendorConsents)||VendorConsents.vendorConsents===undefined){sublime.warn('GDPR: getVendorConsents data invalid');sublime.warn(VendorConsents);return resolve();}
for(var sspName in sspConsents){var sspId=sspConsents[sspName].id;var keyExists=sublime.isDefined(VendorConsents.vendorConsents[sspId]);var purposeOne=VendorConsents.purposeConsents[PURPOSE_ONE];if(keyExists&&purposeOne){sspConsents[sspName].consent=VendorConsents.vendorConsents[sspId];}}
sublime.gdpr.consentsProcessed=true;resolve();});}catch(e){sublime.error('GDPR: Cannot process consent',{},e);return resolve();}});};sublime.helpers.createNamespace('sublime.gdpr.tcf.v2');sublime.gdpr.tcf.v2.getConsentData=function gdprTcfV2GetConsentData(){return new sublime.Promise(function(resolve,reject){var timeout=sublime.timer.setTimeout(function(){sublime.gdpr.isTooLate=true;return reject({message:'GDPR: cmp consent on timeout',executeGeoloc:true});},cmpGetConsentTimeout);sublime.window.__tcfapi('addEventListener',2,function(tcData,success){if(!success){return reject({message:'Unable to have events from tcf provider',executeGeoloc:true});}
sublime.gdpr.tcfVersion=tcData.tcfPolicyVersion||2;if(tcData.eventStatus){sublime.gdpr.tcf.v2.getTcString(tcData,timeout).then(function(haveConsent){if(haveConsent){return resolve();}});}else{return reject({message:'GDPR: cmp consent response is on error',executeGeoloc:true});}});});};sublime.gdpr.tcf.v2.getTcString=function gdprTcfV2GetConsentData(tcData,timeout){return new sublime.Promise(function(resolve,reject){if(tcData.tcString){if(sublime.gdpr.isTooLate){sublime.warn('GDPR: cmp consent retrieved too late');return resolve(false);}
sublime.info('GDPR: cmp consent retrieved');sublime.info(tcData);sublime.gdpr.injected.consentString=consentString=tcData.tcString;consentStringVersion=tcData.cmpVersion;sublime.gdpr.injected.gdprApplies=gdprApplies=tcData.gdprApplies;gdprAppliesSource=SOURCE_CMP;cmpReady=true;sublime.timer.clearTimeout(timeout);sublime.window.__tcfapi('removeEventListener',2,function(success){if(success){sublime.info('GDPR: Successfully removed eventListener');}},tcData.listenerId);return resolve(tcData.tcString);}
return resolve(false);});};sublime.gdpr.tcf.v2.getVendorConsents=function gdprTcfV2GetVendorConsents(vendorIds){return new sublime.Promise(function gdprTcfV2GetVendorConsentsPromise(resolve){try{sublime.window.__tcfapi('getTCData',2,function(TCData,success){sublime.info('GDPR: getTCData response:',success,TCData);if(!success||!sublime.isObject(TCData)||TCData.vendor===undefined){sublime.warn('GDPR: getTCData data invalid');sublime.warn(TCData);return resolve(sspConsents);}
Object.keys(sspConsents).forEach(function(sspName){var sspId=sspConsents[sspName].id;var keyExists=sublime.isDefined(TCData.vendor.consents[sspId]);var purposes=TCData.purpose.consents[PURPOSE_ONE];if(sspId===sspConsents.sublime.id){purposes=SUBLIME_PURPOSES.every(function(value){return TCData.purpose.consents[value];});}
if(keyExists&&purposes){sspConsents[sspName].consent=TCData.vendor.consents[sspId];}else{sspConsents[sspName].consent=false;}});sublime.gdpr.consentsProcessed=true;return resolve(sspConsents);},vendorIds);}catch(e){sublime.error('GDPR: Cannot process consent',{},e);return resolve(sspConsents);}});};sublime.gdpr.isActive=function isActive(){return gdprApplies;};sublime.gdpr.isTooLate=false;sublime.gdpr.getConsentString=function getConsentString(){return consentString;};sublime.gdpr.getSublimeConsent=function getSublimeConsent(){return sspConsents.sublime.consent;};sublime.gdpr.getVendorConsent=function getVendorConsent(vendor){return sspConsents[vendor];};sublime.gdpr.cmpHasAnswered=function cmpHasAnswered(){return cmpExists&&cmpReady;};sublime.gdpr.getAllConsentData=function getAllConsentData(){return{gdprApplies:gdprApplies,gdprAppliesSource:gdprAppliesSource,sublimeVendorConsent:sspConsents.sublime.consent,cmpExists:cmpExists,cmpReady:cmpReady,consentString:consentString,consentStringVersion:consentStringVersion,sspConsents:sspConsents,};};sublime.gdpr.run=function run(){sublime.info('GDPR: run');if(sublime.gdpr.consentsProcessed){sublime.info('GDPR: already have consents, no work needed');return sublime.Promise.resolve({consentString:sublime.gdpr.getConsentString(),isActive:sublime.gdpr.isActive(),});}
if(!sublime.isEmpty(sublime.gdpr.injected)){sublime.info('GDPR: consent injected...');consentString=sublime.gdpr.injected.consentString;gdprApplies=sublime.gdpr.injected.gdprApplies;gdprAppliesSource=SOURCE_INJECTED;cmpExists=true;cmpReady=true;}
return sublime.gdpr.waitForCmp().then(function(cmpFramework){cmpExists=!!cmpFramework;sublime.info('GDPR: isFramework present ?',cmpFramework);sublime.gdpr.framework=cmpFramework.framework;if(!consentString){return sublime.gdpr.framework.getConsentData();}
return sublime.Promise.resolve();}).then(sublime.gdpr.processConsents).then(function(){sublime.info(sublime.gdpr.getAllConsentData());return sublime.Promise.resolve({consentString:sublime.gdpr.getConsentString(),isActive:sublime.gdpr.isActive(),});}).catch(function(error){sublime.warn('GDPR: Error in cmp',error);if(error.message){sublime.warn(error.message);}
if(error.executeGeoloc){sublime.info('GDPR: cmp consent fallback via geoloc',error);return sublime.gdpr.getGeolocConsent().then(function(){for(var vendor in sspConsents){sspConsents[vendor].consent=!sublime.gdpr.isActive();}
return sublime.Promise.resolve({consentString:sublime.gdpr.getConsentString(),isActive:sublime.gdpr.isActive(),});});}
sublime.info('GDPR: gdprApplies ?',sublime.gdpr.isActive());return sublime.Promise.resolve({consentString:sublime.gdpr.getConsentString(),isActive:sublime.gdpr.isActive(),});});};sublime.gdpr.waitForCmp=function waitForCmp(){sublime.info('GDPR: wait for cmp framework...');return new sublime.Promise(function(resolve,reject){var i;var
t;i=sublime.timer.setInterval(function(){var framework=sublime.gdpr.getFramework();if(framework){sublime.timer.clearInterval(i);sublime.timer.clearTimeout(t);return resolve(framework);}},cmpWaitInterval);t=sublime.timer.setTimeout(function(){sublime.timer.clearInterval(i);return reject({executeGeoloc:true});},cmpWaitTimeout);});};sublime.gdpr.getFramework=function getFramework(){if(sublime.isFunction(sublime.window.__tcfapi)){return{framework:sublime.gdpr.tcf.v2,};}
if(sublime.isFunction(sublime.window.__cmp)){return{framework:sublime.gdpr.tcf.v1,};}
return null;};sublime.gdpr.getCachedGeolocConsent=function getCachedGeolocConsent(){return sublime.storage.get('is_eea');};sublime.gdpr.getGeolocConsent=function getGeolocConsent(){sublime.info('GDPR: call geoloc endpoint...');return new sublime.Promise(function(resolve,reject){var cachedGeoConsent=sublime.gdpr.getCachedGeolocConsent();if(cachedGeoConsent!==null){gdprApplies=cachedGeoConsent;gdprAppliesSource=SOURCE_GEO;sublime.info('GDPR: geoloc endpoint caching on success, gdpr applies ? '+gdprApplies);return resolve();}
function onError(){sublime.warn('GDPR: geoloc endpoint on error');return resolve();}
function onTimeout(){sublime.warn('GDPR: geoloc endpoint on timeout');return resolve();}
function onSuccess(response){try{if(response===''){throw new Error('Geoloc response is empty');}
gdprApplies=!!sublime.pInt(response);gdprAppliesSource=SOURCE_GEO;sublime.storage.set('is_eea',gdprApplies,geolocCaching);sublime.info('GDPR: geoloc endpoint on success, gdpr applies ? '+gdprApplies);}catch(error){sublime.error('GDPR: geoloc endpoint response unreadable',{},error);}
return resolve();}
try{sublime.xhr('https://'+sublime.env('geoloc_eeu_host'),{timeout:geolocTimeout,async:true,success:onSuccess,error:onError,onTimeout:onTimeout,});}catch(error){sublime.error('GDPR: geoloc endpoint execution on error',{},error);return resolve();}});};sublime.gdpr.processConsents=function processConsents(){sublime.info('GDPR: processConsents');if(!cmpReady||!consentString){sspConsents.sublime.consent=!sublime.gdpr.isActive();return sublime.Promise.resolve();}
var vendorIds=[];for(var sspName in sspConsents){vendorIds.push(sspConsents[sspName].id);}
return sublime.gdpr.framework.getVendorConsents(vendorIds);};if(sublime.isFeatureEnabled('sskzGDPR')){if(true&&sublime.gdpr.getCachedGeolocConsent()!==null){gdprApplies=sublime.gdpr.getCachedGeolocConsent();gdprAppliesSource=SOURCE_GEO;}}
sublime.gdpr.resetValues=function resetValues(){sublime.info('GDPR: reset default values');consentString=null;gdprApplies=false;gdprAppliesSource=SOURCE_DEFAULT;cmpExists=false;cmpReady=false;sublime.storage.unset('is_eea');if(sublime.isFeatureEnabled('sskzGDPR')){gdprApplies=true;}
return{consentString:consentString,isActive:gdprApplies,};};sublime.gdpr.setValue=function setValue(key,value){if(sublime.env('app_env')!=='prod'){switch(key){case'isActive':gdprApplies=value;break;case'consentString':consentString=value;break;case'cmpExists':cmpExists=value;break;case'cmpReady':cmpReady=value;break;case'sublimeConsent':sspConsents.sublime.consent=value;break;}}};var gdprConstants={NO_CMP:0,CMP_NOT_READY:1,CMP_READY:2};sublime.pixels={_common:{preFireCallback:function(){this.qs=this.qs||{};if(sublime.device){this.qs.device=sublime.device.charAt(0);}
this.qs.puid=sublime.uuid.get('p');this.qs.suid=sublime.uuid.get('s');if(sublime.isFeatureEnabled('sskzGDPR')){var gdprData=sublime.gdpr.getAllConsentData();var sublimeConsent=sublime.gdpr.getVendorConsent('sublime');this.qs.gc=sublimeConsent&&sublimeConsent.consent?1:0;if(gdprData.cmpExists&&gdprData.cmpReady){this.qs.gm=gdprConstants.CMP_READY;}else if(gdprData.cmpExists){this.qs.gm=gdprConstants.CMP_NOT_READY;}else{this.qs.gm=gdprConstants.NO_CMP;}
this.qs.ga=gdprData.gdprApplies?1:0;this.qs.gs=gdprData.gdprAppliesSource;}
if(sublime.gdpr&&sublime.gdpr.tcfVersion){this.qs.gv=sublime.gdpr.tcfVersion;}},qs:{src:"wf",t:sublime.timeStart,ver:20200812084747}},_commonSkinz:{inherit:'_common',preFireCallback:function(){if(sublime.ad||!sublime.isEmpty(sublime.creativeAd)){this.qs=this.qs||{};if(sublime.helpers.hasProperty(sublime,'creativeAd.id')){this.qs.a=sublime.creativeAd.id;}else if(sublime.helpers.hasProperty(sublime,'ad.id')){this.qs.a=sublime.ad.id;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.raid')){this.qs.ra=sublime.creativeAd.raid;}else if(sublime.helpers.hasProperty(sublime,'ad.raid')){this.qs.ra=sublime.ad.raid;}else{delete this.qs.ra;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.rcid')){this.qs.rcid=sublime.creativeAd.rcid;}else if(sublime.helpers.hasProperty(sublime,'ad.rcid')){this.qs.rcid=sublime.ad.rcid;}else{delete this.qs.rcid;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.type')){this.qs.at=sublime.creativeAd.type;}else if(sublime.helpers.hasProperty(sublime,'ad.type')){this.qs.at=sublime.ad.type;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.creative_id')&&sublime.creativeAd.creative_id!=="[sas_creativeId]"){this.qs.creaid=sublime.creativeAd.creative_id;}else if(sublime.helpers.hasProperty(sublime,'ad.creative_id')&&sublime.ad.creative_id!=="[sas_creativeId]"){this.qs.creaid=sublime.ad.creative_id;}else{delete this.qs.creaid;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.placementType')){this.qs.pt=sublime.creativeAd.placementType;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.deal_id')){this.qs.di=sublime.creativeAd.deal_id;}else if(sublime.helpers.hasProperty(sublime,'ad.deal_id')){this.qs.di=sublime.ad.deal_id;}else{delete this.qs.di;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.insertion_id')){this.qs.ii=sublime.creativeAd.insertion_id;}else if(sublime.helpers.hasProperty(sublime,'ad.insertion_id')){this.qs.ii=sublime.ad.insertion_id;}else{delete this.qs.ii;}
if(sublime.helpers.hasProperty(sublime,'creativeAd.response_format')){this.qs.ssprf=sublime.creativeAd.response_format;}else if(sublime.helpers.hasProperty(sublime,'ad.response_format')){this.qs.ssprf=sublime.ad.response_format;}else{delete this.qs.ssprf;}
if(sublime.helpers.hasProperty(sublime.creativeAd,'vpaid.provider')){this.qs.vtpp=sublime.creativeAd.vpaid.provider;}
if(sublime.helpers.hasProperty(sublime,'ad.ssp_name')){this.qs.sspname='sspv3-'+sublime.ad.ssp_name;}else{delete this.qs.sspname;}}
if(sublime.isFeatureEnabled('sskzGDPR')){if(sublime.helpers.hasProperty(sublime,'ad.ssp_name')){var vendorConsent=sublime.gdpr.getVendorConsent(sublime.ad.ssp_name);this.qs.gcp=vendorConsent&&vendorConsent.consent?1:0;}}
if(sublime.helpers.hasProperty(sublime,'prebider.pbav')){this.qs.pbav=sublime.prebider.pbav;}},qs:{}},_external:{isInternal:false,preFireCallback:function(){if(this.url){this.url=sublime.macros.replace(this.url);}},qs:{}},_videoQuartile:{inherit:'_commonSkinz',qs:{},preFireCallback:function(){if('video_duration'in sublime.creativeAd){this.qs.avd=sublime.creativeAd.video_duration;}},},call:{inherit:'_commonSkinz',qs:{e:'l'},addBrowserDimensions:true},unload:{inherit:'_commonSkinz',qs:{e:'ul'}},place:{preFireCallback:function(){if(sublime.isFeatureEnabled('sskzGDPR')){var gdprData=sublime.gdpr.getAllConsentData();this.qs.gd=gdprData.consentString;this.qs.gdv=gdprData.consentStringVersion;}},inherit:'_commonSkinz',addBrowserDimensions:true,addPageHeightDimension:true,qs:{e:'p'}},impression:{inherit:'_commonSkinz',qs:{e:'i0',mm:0},addBrowserDimensions:true,addPageHeightDimension:true,members:{sec1:{delay:1000,inherit:'impression',qs:{e:'i1',mm:0}},sec3:{delay:3000,inherit:'impression',qs:{e:'i3',mm:0}},sec4:{delay:4000,inherit:'impression',qs:{e:'i4',mm:0}},sec5:{delay:5000,inherit:'impression',qs:{e:'i5',mm:0}}}},click:{url:'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==',repeat:1337,addBrowserDimensions:true,addPageHeightDimension:true,}};var mi;if(sublime.device==='mobile'){mi=3;}else{mi=0;}
if(mi&&sublime.pixels.impression.members['sec'+mi]){sublime.pixels.impression.members['sec'+mi].qs.mm=1;sublime.pixels.impression.members['sec'+mi].onFire=function(){sublime.hook.call('step.impression.monetized');};}else{sublime.pixels.impression.qs.mm=1;sublime.pixels.impression.onFire=function(){sublime.hook.call('step.impression.monetized');};}
var getAdType=function(ad){return ad.type.charAt(0)=='v'?'v':'i';};sublime.helpers.createNamespace('sublime.vpaid');var vpaidHookNames={adLoaded:'step.vpaid.adLoaded',adError:'step.vpaid.adError',adStopped:'step.vpaid.adStopped',adPaused:'event.vpaid.adPaused',adPlaying:'event.vpaid.adPlaying',adClickThru:'event.vpaid.adClickThru',pauseAd:'event.vpaid.pauseAd',resumeAd:'event.vpaid.resumeAd'};sublime.vpaid.hookNames=vpaidHookNames;sublime.vpaid.create=function(VPAIDCreative){return(new Wrapper())._init(VPAIDCreative);};sublime.vpaid.render=function(vpaidConfig,player){var scriptSandbox=sublime.helpers.getScript(vpaidConfig.mediaFile,{sandbox:true});return scriptSandbox.then(function(window){return new sublime.Promise(function(resolve,reject){var vpaidAd=window.getVPAIDAd();var vpaidWrapper=sublime.vpaid.create(vpaidAd);vpaidWrapper._config=vpaidConfig;player.video.isVpaid=true;player.video.vpaid=vpaidWrapper;vpaidWrapper.initAd(vpaidConfig.config.width,vpaidConfig.config.height,vpaidConfig.config.viewMode,vpaidConfig.config.bitrate,{AdParameters:vpaidConfig.adParameters},{slot:player.container,videoSlot:player.video,videoSlotCanAutoPlay:true});sublime.hook.register({namespace:sublime.vpaid.hookNames.adLoaded,callback:function(){vpaidWrapper.startAd();resolve(vpaidWrapper);}});sublime.hook.register({namespace:sublime.vpaid.hookNames.adError,callback:function(){sublime.error('AdError from vpaid.',{adUnitMessage:message,adUnit:JSON.stringify(vpaidConfig)});reject(vpaidWrapper);}});});}).catch(function(e){delete sublime.creativeAd.vpaid;player.container.remove();sublime.error('Could not load VPAID media.',{adUnit:JSON.stringify(vpaidConfig)},e);});};sublime.vpaid.clean=function clean(videoContainer){var children=videoContainer.children;var toRemove=[];for(var i=0;i<children.length;i+=1){if(!sublime.helpers.isSublimeElement(children[i])){toRemove.push(children[i]);}}
for(i=0;i<toRemove.length;i+=1){videoContainer.removeChild(toRemove[i]);}};sublime.vpaid.addExtraCss=function addExtraCss(provider){var css=null;switch(provider){case'ias':css='#'+sublime.display.elements.VIDEO_ID[sublime.device]+' ~ .play-button {background-color: rgba(0, 0, 0, 0.4); background-size: 60px;}'+'#'+sublime.display.elements.VIDEO_ID[sublime.device]+' + div {position: absolute !important;}'+'#'+sublime.display.elements.VIDEO_ID[sublime.device]+' + svg {top: 0;}';break;case'doubleverify':case'moat':case'adledge':break;default:break;}
if(sublime.device==='mobile'){css='#'+sublime.display.elements.VIDEO_CONTAINER_ID[sublime.device]+' > div:first-of-type '+'{ position: absolute;transform: translateY(0); z-index: 0 !important; }'+'#'+sublime.display.elements.VIDEO_CONTAINER_ID[sublime.device]+' > div:first-of-type > video '+'{ position: initial !important; }'+'div[class*=" integral-vid-"] '+'{ top: 0 }';}
if(css){sublime.display.addCss(css);}};function Wrapper(){this.isDeleted=false;this.isPaused=false;this._config={};this._init=function(VPAIDCreative){this._creative=VPAIDCreative;this._isVideoFinished=false;this._version=this._creative.handshakeVersion();this._setCallbacksForCreative();this._checkVPAIDInterface(this._creative);return this;};this.collapseAd=function(){var self=this;sublime.info('VPAID > Emit collapseAd');sublime.hook.register({namespace:sublime.vpaid.hookNames.adLoaded,callback:self._creative.collapseAd()});};this.expandAd=function(){var self=this;sublime.info('VPAID > Emit expandAd');sublime.hook.register({namespace:sublime.vpaid.hookNames.adLoaded,callback:self._creative.expandAd()});};this.initAd=function(width,height,viewMode,desiredBitrate,creativeData,environmentVars){this._creative.initAd(width,height,viewMode,desiredBitrate,creativeData,environmentVars);};this.pauseAd=function(){sublime.info('VPAID > Emit pauseAd');if(!this.isPaused){sublime.hook.call(sublime.vpaid.hookNames.pauseAd);}};this.resizeAd=function(width,height,viewMode){var self=this;sublime.info('VPAID > Emit resizeAd');sublime.hook.register({namespace:sublime.vpaid.hookNames.adLoaded,callback:function(){sublime.info('VPAID > Resizing ad w='+width+' h='+height+' v='+viewMode);self._creative.resizeAd(width,height,viewMode);}});};this.resumeAd=function(){sublime.info('VPAID > Emit resumeAd');if(this.isPaused){sublime.hook.call(sublime.vpaid.hookNames.resumeAd);}};this.startAd=function(){sublime.info('VPAID > startAd');this._creative.startAd();};this.stopAd=function(){this._creative.stopAd();};this.on=function(eventName,callback){sublime.info('VPAID > New subscribtion on event : ',eventName,callback);this._creative.subscribe(callback,eventName,this);};this.onAdClickThru=function(url,id,playerHandles){sublime.info('VPAID > Clickthrough portion of the ad was clicked, url: ',url);sublime.ad.url=url?url:sublime.ad.url;sublime.creativeAd.url=url?url:sublime.creativeAd.url;var playerReallyHandles=playerHandles;if(!sublime.ad.isExternal){var shouldOpenTargetUrlProviders=['ias','doubleverify','moat'];playerReallyHandles=playerHandles&&sublime.inArray(sublime.ad.vpaid.provider,shouldOpenTargetUrlProviders);}
if(playerReallyHandles&&!this._isVideoFinished){sublime.hook.call(sublime.vpaid.hookNames.adClickThru);}else{sublime.analytics.fire(32097,'click');}};this.onAdDurationChange=function(){};this.onAdError=function(message){sublime.error('AdError from vpaid.',{adUnitMessage:message,adUnit:JSON.stringify(this._config)});};this.onAdExpandedChange=function(){sublime.info('VPAID > Ad Expanded Changed to: '+this._creative.getAdExpanded());};this.onAdImpression=function(){sublime.info('VPAID > Ad Impression');};this.onAdInteraction=function(id){sublime.info('VPAID > A non-clickthrough event has occured');};this.onAdLinearChange=function(){sublime.info('VPAID > Ad linear has changed: '+this._creative.getAdLinear());};this.onAdLoaded=function(){sublime.info('VPAID > ad has been loaded');sublime.hook.call(sublime.vpaid.hookNames.adLoaded);if(window.google&&window.google.ima){window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE);}};this.onAdLog=function(message){sublime.info('VPAID > onAdLog: '+message);};this.onAdPaused=function(){sublime.info('VPAID > onAdPaused');sublime.hook.call(sublime.vpaid.hookNames.adPaused);this.isPaused=true;};this.onAdPlaying=function(){sublime.info('VPAID > onAdPlaying');sublime.hook.call(sublime.vpaid.hookNames.adPlaying);this.isPaused=false;};this.onAdRemainingTimeChange=function(){};this.onAdSizeChange=function(){sublime.info('VPAID > Ad size changed to: w='+this._creative.getAdWidth()+' h ='+this._creative.getAdHeight());};this.onAdSkippableStateChange=function(){sublime.info('VPAID > Ad Skippable State Changed to: '+this._creative.getAdSkippableState());};this.onAdUserAcceptInvitation=function(){sublime.info('VPAID > onAdUserAcceptInvitation');};this.onAdUserClose=function(){sublime.info('VPAID > onAdUserClose');sublime.clean();};this.onAdUserMinimize=function(){sublime.info('VPAID > onAdUserMinimize');};this.onAdVideoStart=function(){sublime.info('VPAID > Video 0% completed');sublime.analytics.fire(32097,'videoQ0');sublime.hook.call('step.video.quartile0',{quartile:0,quartileName:'start',});};this.onAdVideoFirstQuartile=function(){sublime.info('VPAID > Video 25% completed');sublime.analytics.fire(32097,'videoQ1');sublime.hook.call('step.video.quartile1',{quartile:1,quartileName:'firstQuartile',});};this.onAdVideoMidpoint=function(){sublime.info('VPAID > Video 50% completed');sublime.analytics.fire(32097,'videoQ2');sublime.hook.call('step.video.quartile2',{quartile:2,quartileName:'midpoint',});};this.onAdVideoThirdQuartile=function(){sublime.info('VPAID > Video 75% completed');sublime.analytics.fire(32097,'videoQ3');sublime.hook.call('step.video.quartile3',{quartile:3,quartileName:'thirdQuartile',});};this.onAdVideoComplete=function(){sublime.info('VPAID > Video 100% completed');sublime.analytics.fire(32097,'videoQ4');sublime.hook.call('step.video.quartile4',{quartile:4,quartileName:'complete',});};this.onAdVolumeChange=function(){sublime.info('VPAID > Ad Volume has changed to - '+this._creative.getAdVolume());};this.onStartAd=function(){sublime.info('VPAID > Ad has started');this.isPaused=false;sublime.hook.register({namespace:sublime.vpaid.hookNames.pauseAd,callback:this._creative.pauseAd.bind(this._creative)});sublime.hook.register({namespace:sublime.vpaid.hookNames.resumeAd,callback:this._creative.resumeAd.bind(this._creative)});};this.onStopAd=function(){sublime.info('VPAID > Ad has stopped');this._isVideoFinished=true;sublime.hook.call(sublime.vpaid.hookNames.adStopped);};this.onSkipAd=function(){sublime.info('VPAID > Ad was skipped');};this.getAdExpanded=function(){sublime.info('VPAID > getAdExpanded');return this._creative.getAdExpanded();};this.getAdLinear=function(){sublime.info('VPAID > getAdLinear');return this._creative.getAdLinear();};this.getAdRemainingTime=function(){sublime.info('VPAID > getAdRemainingTime');return this._creative.getAdRemainingTime();};this.getAdSkippableState=function(){sublime.info('VPAID > getAdSkippableState');return this._creative.getAdSkippableState();};this.getAdVolume=function(){return this._creative.getAdVolume();};this.setAdVolume=function(val){this._creative.setAdVolume(val);};this._setCallbacksForCreative=function(){var callbacks={AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog};for(var eventName in callbacks){sublime.info('VPAID > Subscribe to ',eventName);this._creative.subscribe(callbacks[eventName],eventName,this);}};this._checkVPAIDInterface=function(VPAIDCreative){if(!VPAIDCreative.handshakeVersion||typeof VPAIDCreative.handshakeVersion!=='function'||!VPAIDCreative.initAd||typeof VPAIDCreative.initAd!=='function'||!VPAIDCreative.startAd||typeof VPAIDCreative.startAd!=='function'||!VPAIDCreative.stopAd||typeof VPAIDCreative.stopAd!=='function'||!VPAIDCreative.skipAd||typeof VPAIDCreative.skipAd!=='function'||!VPAIDCreative.resizeAd||typeof VPAIDCreative.resizeAd!=='function'||!VPAIDCreative.pauseAd||typeof VPAIDCreative.pauseAd!=='function'||!VPAIDCreative.resumeAd||typeof VPAIDCreative.resumeAd!=='function'||!VPAIDCreative.expandAd||typeof VPAIDCreative.expandAd!=='function'||!VPAIDCreative.collapseAd||typeof VPAIDCreative.collapseAd!=='function'||!VPAIDCreative.subscribe||typeof VPAIDCreative.subscribe!=='function'||!VPAIDCreative.unsubscribe||typeof VPAIDCreative.unsubscribe!=='function'){sublime.error('VPAID > The creative doesn\'t conform to the VPAID spec',{adUnit:JSON.stringify(this._creative)});return false;}
sublime.info('VPAID > The creative is conform to the VPAID spec');return true;};}
sublime.moat={};var moatTracking={disabled:0,display:1,video:2,both:3,};sublime.moat.register=function register(){if(32097===803){sublime.log('Moat: disabled on preview zone');return false;}
sublime.hook.register('step.creativeContainerAdded',function(){if(!sublime.creativeAd){return false;}
switch(sublime.creativeAd.moat){case moatTracking['display']:sublime.log('Moat: Inject script `Display`');injectScriptDisplay(sublime.creativeAd,false);break;case moatTracking['video']:sublime.log('Moat: Inject script `Video`');injectScriptVideo(sublime.creativeAd);break;case moatTracking['both']:sublime.log('Moat: Inject scripts `Display` & `Video`');injectScriptDisplay(sublime.creativeAd,false);injectScriptVideo(sublime.creativeAd);break;default:sublime.log('Moat: disabled in Ad');break;}});sublime.hook.register('step.impression.monetized',function(){if((!sublime.creativeAd.moat||sublime.creativeAd.moat===2)&&Math.random()<.15){sublime.log('Moat: sampling enabled');injectScriptDisplay(sublime.creativeAd,true);}});};function getApiParams(ad,scriptType,sampling){var p={moatClientLevel1:ad.rcid||ad.campaign_id||'0',moatClientLevel2:ad.raid||ad.id||'0',moatClientLevel3:ad.ssp_name?ad.ssp_name+'_'+(ad.creative_id||'0'):'',moatClientLevel4:32097||'0'};if(scriptType==='video'){p.slicer1="www.gumtree.com";p.slicer2="www.gumtree.com";}
if(sampling===true){p.moatClientLevel1='sfkh';p.moatClientLevel2='sfkh_'+p.moatClientLevel2;p.moatClientLevel3='sfkh_'+p.moatClientLevel3;}
sublime.log('Moat: '+scriptType+' params generated',p);return p;}
function injectScriptDisplay(creativeAd,sampling){try{var creativeContainer;if(creativeAd.creative_type==='mobile kargo sticky'){creativeContainer=sublime.display.getKargoCreativeContainer().contentWindow.document.getElementsByClassName('celtra-ad-v3')[0];}else{creativeContainer=sublime.display.getCreativeContainer();}
if(!creativeContainer){throw new Error('Can\'t inject Moat display, creativeContainer is not available');}
var isSkin=sublime.device==='desktop',scriptElement;var moatParams=getApiParams(creativeAd,'display',sampling);scriptElement=createDisplayScript(moatParams,isSkin);if(!scriptElement){throw new Error('Moat Display script not available')}
creativeContainer.appendChild(scriptElement);sublime.log('Moat: tracking display script injected');}catch(e){sublime.error('Error on Moat Display script injection',{'creativeAd':creativeAd,'sampling':sampling},e);}};function createDisplayScript(params,isSkin){try{if(isSkin){params.skin=1;}
var src="https://z.moatads.com/sublimeskinz337986118618/moatad.js"+'#'+sublime.qs.build(params);var s=sublime.document.createElement('script');s.type='text/javascript';s.src=src;return s;}catch(e){sublime.error('Error on Moat Video initialization',{'params':params},e);return null;}};function createVideoScript(a,c,d){try{var f=sublime.document.createElement("script");var b=[];var e,g;c={adData:{ids:c,duration:d,url:a.src},dispatchEvent:function(a){this.sendEvent?(b&&(b.push(a),a=b,b=!1),this.sendEvent(a)):b.push(a)}};d="_moatApi"+Math.floor(1E8*Math.random());try{e=a.ownerDocument,g=e.defaultView||e.parentWindow}catch(l){e=document,g=window}
g[d]=c;f.type="text/javascript";a&&a.insertBefore(f,a.childNodes[0]||null);f.src="https://z.moatads.com/sublimeskinzjsvidint156314443957/moatvideo.js"+'#'+d;return c;}catch(e){sublime.error('Error on Moat Display script injection',{'params':c},e);return null;}}
function injectScriptVideo(creativeAd){try{if(creativeAd.creative_type==='mobile kargo sticky'){sublime.log('Moat: video tracking is disabled due to Celtra integration');return;}
var player=sublime.display.getVideoPlayer();if(sublime.previewing&&sublime.preview.params.device){player=sublime.display.getVideoPlayer(sublime.preview.params.device);}
if(typeof player==="undefined"||player===null){sublime.log('Moat: video not ready');sublime.timer.setTimeout(function injectScriptVideoNewAttempt(){injectScriptVideo(creativeAd)},50);return false;}
var params=getApiParams(creativeAd,'video',false);var duration='41';var moatVideoApiService=createVideoScript(player,params,duration);if(!moatVideoApiService){throw new Error('moatVideoApiService not available');}
registerVideoEvents(player,moatVideoApiService);sublime.log('Moat: tracking video script injected');}catch(e){sublime.error('Error on Moat Video script injection',{'creativeAd':creativeAd},e);}}
function registerVideoEvents(player,moatVideoApiService){sublime.hook.register('step.video.quartile0',function(){try{moatVideoApiService.dispatchEvent({"type":"AdVideoStart","adVolume":player.volume,});}catch(e){sublime.error('Moat event `AdVideoStart` failed',{'player':player,'moatVideoApiService':moatVideoApiService},e);}});sublime.hook.register('step.video.quartile1',function(){try{moatVideoApiService.dispatchEvent({"type":"AdVideoFirstQuartile","adVolume":player.volume,});}catch(e){sublime.error('Moat event `AdVideoFirstQuartile` failed',{'player':player,'moatVideoApiService':moatVideoApiService},e);}});sublime.hook.register('step.video.quartile2',function(){try{moatVideoApiService.dispatchEvent({"type":"AdVideoMidpoint","adVolume":player.volume,});}catch(e){sublime.error('Moat event `AdVideoMidpoint` failed',{'player':player,'moatVideoApiService':moatVideoApiService},e);}});sublime.hook.register('step.video.quartile3',function(){try{moatVideoApiService.dispatchEvent({"type":"AdVideoThirdQuartile","adVolume":player.volume,});}catch(e){sublime.error('Moat event `AdVideoThirdQuartile` failed',{'player':player,'moatVideoApiService':moatVideoApiService},e);}});sublime.hook.register('step.video.quartile4',function(){try{moatVideoApiService.dispatchEvent({"type":"AdVideoComplete","adVolume":player.volume,});}catch(e){sublime.error('Moat event `AdVideoComplete` failed',{'player':player,'moatVideoApiService':moatVideoApiService},e);}});}
sublime.moat.register();sublime.pixels=sublime.pixels||{};var pixelsWaterfall={place_passback:{inherit:'_commonSkinz',qs:{e:'ppb'}},impression_passback:{inherit:'_commonSkinz',qs:{e:'ipb'}},script_passback:{inherit:'_commonSkinz',qs:{e:'spb'}}};sublime.pixels=sublime.merge(sublime.pixels,pixelsWaterfall);var configCookie={ttl:0,expires:null,path:'/',domain:sublime.env('cookie_domain'),secure:''};configCookie=sublime.mergeConfig(configCookie,'cookie');var decodeCookieValue=function(value){try{value=decodeURIComponent(value);if(value.charAt(0)==='{'&&value.slice(-1)==='}'){value=JSON.parse(value);}
return value;}catch(e){return null;}};var encodeCookieValue=function(value){try{if(!sublime.isScalar(value)){value=JSON.stringify(value);}
return encodeURIComponent(value);}catch(e){return null;}};sublime.cookie={get:function(name){var result=name?null:{},cookies=document.cookie?document.cookie.split('; '):[];for(var i in cookies){var parts=cookies[i].split('='),key=parts[0],value=decodeCookieValue(parts[1]);if(key===name){return value;}else if(!name){result[key]=value;}}
return result;},set:function(name,value,options){options=sublime.merge(configCookie,options);if(options.ttl){options.expires=new Date();options.expires.setTime(sublime.now()+options.ttl);}
try{document.cookie=[name,'=',encodeCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join('');return true;}catch(e){return false;}},del:function(name){return sublime.cookie.set(name,null,{ttl:-1e12});},config:configCookie};var nonce=sublime.now();var jsonpCallbackFnPrefix='sublimeCb';var XMLHTTPRequestObject=XMLHttpRequest;sublime.xhr=function(url,options){var defaults={jsonp:false,timeout:false,async:false,success:null,error:null,cacheBuster:false,onTimeout:sublime.noOp,qs:{}};if(!sublime.isUrl(url)){sublime.warn('Invalid url');if(sublime.isFunction(options.error)){options.error();}
return false;}
options=sublime.merge(defaults,options);var isAbs=url.indexOf('http')===0||url.indexOf('https')===0||url.indexOf('//')===0;if(!isAbs){sublime.error('Invalid url: non absolute url');if(sublime.isFunction(options.error)){options.error();}
return false;}
var extraUrlParam=options.qs||{};if(options.cacheBuster){extraUrlParam._=nonce++;}
url=sublime.url.merge(url,extraUrlParam);if(options.jsonp){return jsonpRequest(url,options);}
return xmlRequest(url,options);};var xmlRequest=function(url,options){options.method=options.method||'GET';options.headers=options.headers||{};var requestBody=null;if(options.headers["Content-Type"]==="application/x-www-form-urlencoded"){requestBody=sublime.qs.build(options.data);}else if(sublime.isObject(options.data)){requestBody=JSON.stringify(options.data);}
var request=new XMLHTTPRequestObject(),ironFlag=false;if(url.match(/^\/\//)){url=sublime.isSSL?'https:'+url:'http:'+url;}
sublime.info('xhr.xmlRequest call',url);request.open(options.method,url,options.async);for(var prop in options.headers){if(!options.headers.hasOwnProperty(prop)){continue;}
request.setRequestHeader(prop,options.headers[prop]);}
if(options.withCredentials){request.withCredentials=!!options.withCredentials;}
if(!options.async&&navigator.userAgent.indexOf('Gecko')===-1){request.withCredentials=true;}
request.onload=function(){if(sublime.isFunction(options.success)){if(ironFlag){return;}
ironFlag=true;return options.success.call(this,this.responseText);}};if(options.async&&options.timeout){request.timeout=options.timeout;request.ontimeout=function(){if(sublime.isFunction(options.onTimeout)){if(ironFlag){return;}
ironFlag=true;options.onTimeout.call(this);}};}
if(sublime.isFunction(options.error)){request.onerror=function(){if(ironFlag){return;}
ironFlag=true;return options.error.call(this,this.responseText);};}
sublime.hook.register('event.cleanUp',function abortXHR(){request.abort();});try{request.send(requestBody);}catch(e){if(sublime.isFunction(options.error)){if(ironFlag){return false;}
ironFlag=true;return options.error.call(request,request.responseText);}
return false;}
return request.responseText;};var jsonpRequest=function(url,options){var jsonpCallbackFnName=options.callbackName||jsonpCallbackFnPrefix+nonce++;var timeoutTimer;var abort=false;if(sublime.isFunction(options.success)){var callbackGetVar=sublime.isString(options.jsonp)&&options.jsonp.length>1?options.jsonp:'callback';var extraUrlParam={};extraUrlParam[callbackGetVar]=jsonpCallbackFnName;url=sublime.url.merge(url,extraUrlParam);sublime.window[jsonpCallbackFnName]=function(result){if(abort){return;}
timeoutTimer&&sublime.timer.clearTimeout(timeoutTimer);try{options.success(result);}catch(e){if(sublime.isFunction(options.error)){if(abort){return;}
options.error(e);}}};sublime.hook.register('event.cleanUp',function abortXHR(){abort=true;delete sublime.window[jsonpCallbackFnName];});}else{sublime.error("xhr: can't run a jsonp request without success callback");return;}
var h=sublime.document.getElementsByTagName('head')[0],s=sublime.document.createElement('script');s.type='text/javascript';s.id=jsonpCallbackFnName;s.async=options.async||false;s.src=url;if(sublime.isFunction(options.error)){s.onerror=function(e){if(abort){return;}
timeoutTimer&&sublime.timer.clearTimeout(timeoutTimer);return options.error(e);};}
if(options.timeout&&options.timeout>0&&options.onTimeout){timeoutTimer=sublime.timer.setTimeout(options.onTimeout,options.timeout);}
sublime.info('xhr.jsonpRequest call',url);h.appendChild(s);};sublime.uuid=sublime.uuid||{};var
uuidTypes={p:1,s:1,u:1},uuidTtl=864e+5*365,uuidRegex=/^[a-z][0-9]+$/i,uuids={};sublime.uuid.generate=function(type){if(!(type in uuidTypes)){sublime.warn("Unspecified Uniquid");type='U';}
return type+(sublime.rngU32()*sublime.rngU32());};sublime.uuid.get=function(type){return type&&type in uuids?uuids[type]:null;};sublime.uuid.isValid=function(uuid){return uuid&&typeof uuid==='string'&&uuidRegex.test(uuid);};var initUuids=function(){var localSuid=sublime.storage.get('suid');uuids={s:localSuid?localSuid:sublime.uuid.generate('s'),p:sublime.uuid.generate('p')};};initUuids();if(!sublime.analytics){sublime.analytics={};var pixels={};var slotIdx=1;var renderPassed=false;var pixelDefault={url:sublime.env('antenna_url'),qs:{},repeat:false,delay:0,fired:0,parent:null,members:{},inherit:'',slot:'',isInternal:true,preFireCallback:function(){},addBrowserDimensions:false,addPageHeightDimension:false,};var sequenceId=0;var getPixelDefault=function(){return JSON.parse(JSON.stringify(pixelDefault));};sublime.analytics.getPixels=function(){return pixels;};var setIsInternal=function(pixel){if(!sublime.helpers.hasProperty(pixel,'isInternal')){if(pixel.url){var urlParts=sublime.url.parse(pixel.url);pixel.isInternal=(urlParts.host===sublime.env('antenna_host')||urlParts.host===sublime.env('ayads_host'));}else{pixel.isInternal=true;}}
return pixel;};sublime.analytics.setPixels=function(zoneId,modulePixels,slotPrefix){if(!zoneId){sublime.error('Can\'t set pixel with empty zoneId');return[];}
var pixelsList={},newPixels={},addedParentSlot=[];if(modulePixels.qs||modulePixels.url){modulePixels.slot=modulePixels.slot||'slot'+slotIdx++;pixelsList[modulePixels.slot]=modulePixels;}else{pixelsList=modulePixels;}
for(var name in pixelsList){if(!pixelsList.hasOwnProperty(name)){continue;}
var pixel=pixelsList[name];if(!sublime.isObject(pixel)||(!pixel.qs&&!pixel.url)){sublime.warn('Can\'t setup pixel, must have a `qs` or `url`',pixel);continue;}
pixel=setIsInternal(pixel);if(!pixel.isInternal){delete pixel.qs;}else{pixel.qs=pixel.qs||{};pixel.qs.z=zoneId;}
if(!pixel.slot){pixel.slot=name;}
if(slotPrefix){pixel.slot=slotPrefix+pixel.slot;}
if(pixel.members){for(var key in pixel.members){if(!pixel.members.hasOwnProperty(key)){continue;}
var p=pixel.members[key];p=setIsInternal(p);if(!p.isInternal){delete p.qs;}else{p.qs=p.qs||{};p.qs.z=zoneId;}}}
if(pixel.slot.indexOf('.')>-1){var parts=pixel.slot.split('.'),parent=parts[0],slot=parts[1];pixel.slot=slot;pixel.parent=parent;if(!sublime.isDefined(newPixels[parent])){newPixels[parent]={members:{}};}
newPixels[parent].members[slot]=pixel;addedParentSlot.push(parent);}else{newPixels[pixel.slot]=pixel;addedParentSlot.push(pixel.slot);}}
pixels[zoneId]=pixels[zoneId]||{};pixels[zoneId]=sublime.merge(pixels[zoneId],newPixels);return addedParentSlot;};sublime.analytics.fire=function(zoneId,slot,param){if(sublime.isFeatureEnabled('noPixelBeforeRender')){if(slot==='render'){renderPassed=true;}
var bypass=false;switch(slot){case'place':case'bid':bypass=true;break;default:break;}
if(!bypass&&Â !renderPassed){return false;}}
if(!sublime.isNum(zoneId)){param=slot;slot=zoneId;zoneId=sublime.helpers.hasProperty(param,'qs.z')?param.qs.z:null;}
if(!zoneId){sublime.error('Can\'t send pixel with empty zoneId');return false;}
if(typeof slot==='string'&&sublime.isUrl(slot)){var pixel={url:slot};slot=sublime.analytics.setPixels(zoneId,pixel)[0];}
if(param&&sublime.isObject(param)){param.slot=param.slot||slot;sublime.analytics.setPixels(zoneId,param);}
if(!pixels[zoneId]){sublime.error('Tried to fire non registered zoneId',{zoneId:zoneId,pixels:pixels});return false;}
if(!(slot in pixels[zoneId])){sublime.error('Tried to fire non registered slot',{slot:slot,pixels:pixels});return false;}
if(slot.charAt(0)==='_'){sublime.error('Tried to fire a config');return false;}
return executeFire(pixels[zoneId][slot]);};var executeFire=function(pixel){pixel=sublime.merge(getPixelDefault(),pixel);pixel=sublime.analytics.handleInheritance(pixel);pixel.url=sublime.url.merge(pixel.url,pixel.qs||'');var canFire=!pixel.fired||(pixel.repeat&&pixel.repeat>pixel.fired);if(!canFire){return pixel;}
var slotNamespace=(pixel.parent?pixel.parent+'.':'')+pixel.slot,message='Analytics: Fire (delay '+pixel.delay+') '+slotNamespace;sublime.info(message+' #'+pixel.fired);(function(pixel){sublime.timer.setTimeout(function(){sendPixel(pixel);},pixel.delay||0);})(pixel);if(!pixel.parent){if(sublime.helpers.hasProperty(pixel,'qs.z')&&sublime.helpers.hasProperty(pixels,pixel.qs.z.toString())){pixels[pixel.qs.z][pixel.slot]=pixel;}}
if(!pixel.parent&&pixel.members&&sublime.length(pixel.members)){for(var id in pixel.members){if(!pixel.members.hasOwnProperty(id)){continue;}
if(!pixel.members[id].parent){pixel.members[id].parent=pixel.slot;}
pixel.members[id].slot=id;pixel.members[id]=executeFire(pixel.members[id]);}}
return pixel;};sublime.analytics.clearAllPixels=function(){pixels={};sequenceId=0;};var sendPixel=function(pixel){var url=pixel.url,isInternal=pixel.isInternal,tfz=sublime.elapsedSinceInvocation();pixel.fired=(pixel.fired||0)+1;if(isInternal){url+='&tse='+sublime.now();url+='&et='+Math.round(sublime.elapsed());url+='&tfz='+tfz;pixel.qs.tfz=tfz;url+='&sqid='+(++sequenceId);pixel.qs.sqid=sequenceId;}
if(pixel.addBrowserDimensions&&sublime.isUrl(url)){var dimensions=sublime.helpers.getBrowserDimensions();url+='&bw='+dimensions.bw;url+='&bh='+dimensions.bh;}
if(pixel.addPageHeightDimension&&sublime.isUrl(url)){var pageHeight=sublime.helpers.getPageHeight();url+='&ph='+pageHeight;}
if(sublime.isFunction(pixel.onFire)){pixel.onFire();}
if(sublime.previewing){sublime.info('Preview: pixel send to '+url);return;}
var img=new sublime.window.Image(1,1);img.src=url;sublime.info('Analytics: fired pixel "'+pixel.slot+'"',pixel.qs);return img;};var applyPrefire=function(pixel){if(sublime.isFunction(pixel.preFireCallback)){pixel.preFireCallback.apply(pixel);}};sublime.analytics.handleInheritance=function(pixel){if(!pixel.inherit){applyPrefire(pixel);return sublime.merge({},pixel);}else if(sublime.helpers.hasProperty(pixel,'qs.z')&&sublime.helpers.hasProperty(pixels,pixel.qs.z+'.'+pixel.inherit)){var parentPixel=sublime.analytics.handleInheritance(pixels[pixel.qs.z][pixel.inherit]);delete parentPixel.members;delete parentPixel.onFire;var inherit=sublime.merge({},parentPixel);applyPrefire(pixel);return sublime.merge(inherit,pixel);}
return sublime.merge({},pixel);}}
sublime.helpers.createNamespace('sublime.macros');sublime.macros.replace=function macrosReplace(string,data){if(typeof string!=='string'){sublime.error('macrosReplace first argument MUST be of "string" type');return'';}
var defaultConfig={id:'',raid:'',campaign_id:'',ssp_name:'',creative_type:'',type:'',deal_id:'',insertion_id:'',click_url:'',url:'',click_macro:'',rcid:'',originalUrl:'',html:'',};var config=sublime.merge(defaultConfig,data);var newString=string;var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3};var replacements={'\\[timezone_offset\\]':(new Date().getTimezoneOffset()),'\\[REFERRER_URL\\]':encodeURIComponent(sublime.window.location.href),'\\[Ref_Url\\]':encodeURIComponent(sublime.window.location.href),'\\[Random_Number\\]':sublime.now(),'\\[timestamp\\]':sublime.now(),'\\${CACHEBUSTER}':sublime.now(),'\\$\\[CACHEBUSTER\\]':sublime.now(),'\\[CACHEBUSTER\\]':sublime.now(),'\\${sub:timestamp}':sublime.now(),'\\${sub:puid}':sublime.uuid.get('p'),'\\${sub:suid}':sublime.uuid.get('s'),'\\${sub:zone_id}':32097,'\\${sub:site_id}':10546,'\\${sub:zone_reminder}':!zone.noreminder,'\\${sub:domain}':encodeURIComponent(sublime.window.location.hostname),'\\${sub:ad_id}':config.raid||config.id,'\\${sub:campaign_id}':config.campaign_id||config.rcid,'\\${sub:ssp}':config.ssp_name,'\\${sub:creative_type}':config.creative_type,'\\${sub:ad_type}':config.type,'\\${sub:deal_id}':config.deal_id,'\\${sub:insertion_id}':config.insertion_id,'\\${CLICK_URL}':config.click_url,'\\${sub:click_url_encoded}':config.click_url?encodeURIComponent(config.click_url):'','\\${sub:landing_page}':config.originalUrl,'\\${sub:landing_page_encoded}':config.originalUrl?encodeURIComponent(config.originalUrl):'','\\${ext:clickmacro}':config.click_macro,'\\${ext:clickmacro_encoded}':config.click_macro?encodeURIComponent(config.click_macro):'',};for(var regexString in replacements){newString=newString.replace(new RegExp(regexString,'gi'),replacements[regexString]);}
return newString;};var translations={de:{swipeBack:'Wischen Sie zurück',shopDiscover:'Ich entdecke',enableFullscreen:'Zum Vollbildmodus wechseln',},en:{swipeBack:'Swipe back',shopDiscover:'Discover',enableFullscreen:'Switch to fullscreen',},es:{swipeBack:'Swipe para regresar',shopDiscover:'Yo descubro',enableFullscreen:'Cambiar a pantalla completa',},fr:{swipeBack:'Swipe pour revenir',shopDiscover:'Je découvre',enableFullscreen:'Passer en plein \xE9cran',},it:{swipeBack:'Scorri per tornare indietro',shopDiscover:'Mi decovero',enableFullscreen:'Passa a schermo intero',}};sublime.i18n=function(namespace){var language=sublime.window.navigator.userLanguage||sublime.window.navigator.language;language=language.split('-')[0];if(!language||!translations[language]){language='en';}
return translations[language][namespace];};sublime.preview={};sublime.previewing=false;sublime.preview.params={};var hashPrefix=sublime.env('sublime_prefix');var adTestCard={id:14,url:'https://cdn.ayads.co/creatives/redirectUrl/index.html',images:{bg:'https://cdn.ayads.co/creatives/redirectUrl/test.jpg',},supported_devices:['desktop'],top:220,type:'skinz',noCookieMatch:true,};sublime.preview.init=function init(){let previewData=sublime.storage.get('sublime-preview');if(!previewData){previewData=sublime.getHash();}
if(previewData){const args=sublime.qs.parse(previewData);if(args[hashPrefix+'-aid']){var adId=sublime.pInt(args[hashPrefix+'-aid']);delete args[hashPrefix+'-aid'];sublime.preview.params=args;sublime.preview.params.adId=adId;}else if(hashPrefix+'-test'in args){sublime.preview.params.testCard=true;}else if(hashPrefix+'-ssp'in args){sublime.preview.params.ssp=args[hashPrefix+'-ssp'];}
if('device'in args){sublime.preview.params.device=args['device'];}
if(hashPrefix+'-traffic_type'in args){sublime.preview.params.trafficType=args[hashPrefix+'-traffic_type'];delete args[hashPrefix+'-traffic_type'];}
if(hashPrefix+'-vast'in args){sublime.preview.params.vastUrl=args[hashPrefix+'-vast'];sublime.info('Previewing VAST',sublime.preview.params.vastUrl);}
if(!sublime.isEmpty(sublime.preview.params)){sublime.previewing=true;sublime.setLogLevel(40);}}};sublime.preview.init();sublime.preview.run=function previewRun(){if(sublime.preview.params.adId===0){sublime.adServer.passback('preview_passback');return;}
if(sublime.preview.params.adId){const url=sublime.env('sublime_url')+'ad/'+sublime.preview.params.adId+'/'+32097;sublime.xhr(url,{jsonp:true,success:sublime.preview.callback,});}else if(sublime.preview.params.testCard){const url=sublime.env('sublime_url')+'ad/0/'+32097;sublime.xhr(url,{jsonp:true,success:sublime.preview.callback,});sublime.adServer.displayAd();}else if(sublime.preview.params.ssp){let url=sublime.env('sublime_url')+'ad/ssp/'+sublime.preview.params.ssp+'/'+32097;if(sublime.preview.params.trafficType){url+='/'+sublime.preview.params.trafficType;}
sublime.xhr(url,{jsonp:true,success:sublime.preview.callback,});}else if(sublime.preview.params.vastUrl){const vastRequest=new sublime.Promise(function vastPreviewXHR(resolve,reject){sublime.parseVast.query(sublime.preview.params.vastUrl,{successCallback:resolve,errorCallback:reject,});});vastRequest.then(function successPreviewCallback(response){return sublime.preview.callback({ad:response});}).catch(function errorPreviewCallback(error){sublime.warn('Preview > Error in XHR call',error);});}};sublime.preview.callback=function previewCallback(response){sublime.previewing=true;if(!response.ad){sublime.ad=adTestCard;}else{sublime.ad=response.ad;}
sublime.preview.zone=response.zone;sublime.setLogLevel(40);sublime.adServer.serveAd();};sublime.display=sublime.display||{};sublime.creativeAd={};sublime.zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3}||{};var stampImageUrl='https://cdn.ayads.co/creatives/watermark803-v3.png';sublime.display.elements={VIDEO_ID:{desktop:'ayads-video',mobile:'sublime-mobile-video',},VIDEO_CONTAINER_ID:{desktop:'ayads-video-container',mobile:'sublime-mobile-video-container'}};sublime.display.adIsReady=function(ad){if(!ad||!sublime.isObject(ad)){sublime.warn('display: Ad is not ready, missing ad');return false;}
var displayClass=getDisplayClass(ad);if(!displayClass){return false;}
if(!sublime.isFunction(displayClass.adIsReady)||!displayClass.adIsReady(ad)){sublime.warn('Ad NOT complete',sublime.merge({},ad));return false;}
return true;};sublime.display.adIsCompatibleWithDevice=function(ad,device){var displayClass=getDisplayClass(ad);if(!displayClass){return false;}
if(sublime.adServer.isRedirectPreview){return true;}
if(ad.supported_devices.indexOf(device)<0){sublime.warn('Ad IS NOT compatible with device',sublime.merge({},ad));return false;}
return true;};sublime.display.render=function(ad){if(sublime.isObject(ad)){ad.click_url=sublime.adServer.clickurlizeAntenna(ad.click_macro);}
if(sublime.preview&&sublime.preview.zone){sublime.zone=sublime.preview.zone;}
var displayClass=getDisplayClass(ad);if(!displayClass){return false;}
if(!sublime.isFunction(displayClass.render)){sublime.warn('Display Class has no render function');return false;}
sublime.creativeAd=sublime.merge(sublime.creativeAd,ad);sublime.creativeAd.placementType='skinz';sublime.ad=sublime.merge(sublime.ad,sublime.creativeAd);displayClass.render(ad);};var getDisplayClass=function(ad){if(!ad||sublime.isEmpty(ad)){return false;}
var className='',desktopAdType=['skinz','video','html5'],isDesktop=desktopAdType.indexOf(ad.type)>-1;if(ad.type==='mobile'){className='mobile';}else if(ad.format==='generic'){className='generic';}else if(isDesktop){className='desktop';}
if(sublime.display[className]){return sublime.display[className];}
sublime.error('Display type not supported',{ad:ad,className:className});return false;};sublime.display.addCreativeContainer=function(){var divId=sublime.env('sublime_prefix')+'-html',div=sublime.document.getElementById(divId);if(!div){div=sublime.document.createElement('div');div.id=divId;sublime.document.body.insertBefore(div,sublime.document.body.firstChild);sublime.hook.call('step.creativeContainerAdded');}
return div;};sublime.display.getCreativeContainer=function(){var divId=sublime.env('sublime_prefix')+'-html',div=sublime.document.getElementById(divId);return div;};sublime.display.getKargoCreativeContainer=function(){var divId=sublime.env('sublime_prefix')+'-kargo-1',div=sublime.document.getElementById(divId);return div;};sublime.display.writeToContainer=function(html,toTopId){toTopId=toTopId||sublime.env('sublime_prefix')+'-html';var globalVar=sublime.env('sublime_prefix');var stampHtml='';if(32097===803){stampHtml='<div class="sublime-preview-stamp"'+'style="width: 100%; height: 100%; max-width: 1800px; max-height: 1800px; margin: 0px auto;'+'background:url('+stampImageUrl+') no-repeat top center;'+'z-index:0; pointer-events:none;">'+'</div>';var stampedIframeCss='#ayads-html #iframe-container, #ayads-html #sublime-iframe-container {z-index:-1;} #ayads-html {height:0;}';sublime.display.addCss(stampedIframeCss);}
html='<script class="dont-pull">window.'+globalVar+' = top.'+globalVar+';<\/script>'+
html+
stampHtml;var iframe=sublime.write(html,{id:sublime.env('sublime_prefix')+'-pull-creative'});sublime.display.pullToCreativeContainer(iframe,toTopId);};sublime.display.pullToCreativeContainer=function(iframe,toTopId){var element=iframe.contentDocument.body,elementsToMove=[],child,i;for(i=0;i<element.childNodes.length;i++){child=element.childNodes[i];if(!child||(child.className&&child.className.match(/dont-pull/))){continue;}
if(child.classList){child.classList.add(sublime.env('sublime_prefix')+'-pulled');}
elementsToMove.push(child);}
if(32097===803){var stampCss='#sublime-day-overlay {'+'content: url('+stampImageUrl+');'+'}';sublime.display.addCss(stampCss);}
for(i=0;i<elementsToMove.length;i++){child=elementsToMove[i];sublime.document.getElementById(toTopId).appendChild(child);}};sublime.display.addCssLinkToHead=function(src){var link=sublime.document.createElement('link');link.href=src;link.type='text/css';link.rel='stylesheet';sublime.document.head.append(link);return link;};sublime.display.addJavascriptToHead=function(src){var script=sublime.document.createElement('script');script.src=src;sublime.document.head.append(script);return script;};sublime.display.addCss=function(css){sublime.helpers.addCss(css);};sublime.display.loadImage=function(src,callback){var img=new Image(),isLoaded=false;img.onload=function(){isLoaded=true;callback.apply(this);};img.onerror=function(){sublime.warn("display: couldn't load image",src);};img.src=src;sublime.timer.setTimeout(function(){if(isLoaded){return true;}
img.onload();img.onload=sublime.noOp;},500);};sublime.display.getFinalClickUrl=function(creativeAd,targetUrl,event,extraParams){var clickMacro='';targetUrl=targetUrl||null;if(targetUrl===null&&sublime.isObject(creativeAd)){targetUrl=creativeAd.originalUrl;}
if(targetUrl){targetUrl=sublime.macros.replace(targetUrl,creativeAd);}
if(sublime.isObject(creativeAd)&&creativeAd.click_macro){clickMacro=creativeAd.click_macro;targetUrl=window.encodeURIComponent(targetUrl);}
var globalEvent=event||'c';return sublime.adServer.clickurlizeAntenna(clickMacro,globalEvent,extraParams)+targetUrl;};sublime.display.openTargetUrl=function(domEvent,creativeAd,targetUrl,event,extraParams){sublime.adServer.incrementCappings('clicks');sublime.hook.call('event.click',{x:domEvent.clientX,y:domEvent.pageY,click_area:creativeAd.click_area});sublime.analytics.fire(32097,'click');sublime.window.open(sublime.display.getFinalClickUrl(creativeAd,targetUrl,event,extraParams));};sublime.display.getVideoPlayer=function getVideoPlayer(device){return sublime.document.getElementById(sublime.display.elements.VIDEO_ID[device||sublime.device]);};sublime.compat={};sublime.window.ayads={};sublime.compat.toAyads=function(){var output={additionalScriptsLoaded:sublime.window.ayads.additionalScriptsLoaded||false,ads_url:sublime.env('delivery_url'),antenna_url:sublime.env('antenna_url'),criteoData:sublime.criteoData||false,addcss:sublime.helpers.addCss,adSspName:function(){return sublime.ad.ssp_name;},applyJs:sublime.applyJs,call_antenna:function(e,p){if(e==='c'){sublime.analytics.fire(32097,'click');return true;}
return false;},clickurlize:sublime.adServer.clickurlize,cookiesBlocked:sublime.cookiesBlocked,debounce:sublime.debounce,detectDevice:sublime.adServer.detectDevice,elapsedSinceLastCall:sublime.elapsedSinceLastCall,get:function(u,p){if(p.callback){p.success=p.error=p.callback;}
return sublime.xhr(u,p);},getItem:function(k){return sublime.storage.get('ayads-'+k)||sublime.storage.get(k);},getWindow:function(){return sublime.window;},is_secure:function(){return sublime.window.location.protocol==='https:';},isArray:sublime.isArray,isPlaceable:sublime.adServer.isPlaceable,isUrl:sublime.isUrl,matchSupported:function(){sublime.error('Function matchSupported deprecated',{ad:sublime.ad.id,zone:32097});},merge:sublime.merge,relativize:function(u){return sublime.url.setProtocol(u);},removeItem:function(k){sublime.storage.unset('ayads-'+k)||sublime.storage.unset(k);},setItem:function(k,v,d){var name=k,value=v,ttl;if(d){ttl=parseInt(d)*1000;}
sublime.storage.set(name,value,ttl);sublime.storage.unset('ayads-'+name);},setWindow:sublime.noOp,write:sublime.write};sublime.window.ayads=output;sublime.originWindow.ayads=output;return output;};sublime.hook.register('step.setupZoneAd.before',sublime.compat.toAyads);sublime.compat.toAd=function(){if(!sublime.ad){return;}
var ad=sublime.ad;var output={aid:ad.id,cid:ad.campaign_id,creative_type:ad.creative_type,format:1,moat:ad.moat,name:ad.name,type:ad.type,viewability:ad.viewability,data:{capping_duration:ad.cappings&&ad.cappings.duration,capping_clicks:ad.cappings&&ad.cappings.clicks,capping_impressions:ad.cappings&&ad.cappings.impressions,click_area:ad.click_area||'double',color:ad.color,conversion:false,criteo_id:ad.criteo_id||null,fixed:ad.fixed||false,html:ad.html||null,iframe:ad.iframe||null,image:ad.images&&ad.images.bg||null,improve_id:null,optimize_viewability:ad.optimize_viewability,shop:null,soar_id:null,sticky:null,top:ad.top,url:ad.url,video:ad.videos&&ad.videos.top||undefined,width:ad.width||null}};switch(ad.ssp_name){case'appnexus':output.data.improve_id='appnexus3:'+ad.ssp_id;break;case'criteo':output.data.criteo_id=ad.ssp_id;break;case'sticky':if(ad.vast_url){output.data.sticky=ad.vast_url;}else{output.data.sticky=ad.ssp_id;}
break;case'rubicon':output.data.improve_id='rubicon:'+ad.ssp_id;break;case'improve':if(ad.script_url){output.data.improve_id=ad.script_url;}else{output.data.improve_id=ad.ssp_id;}
break;default:if(ad.script_url){output.data.script_url=ad.script_url;}else if(ad.vast_url){output.data.vast_url=ad.vast_url;}
break;}
sublime.window.ayads.ad=output;return output;};sublime.hook.register('step.setupZoneAd.before',sublime.compat.toAd);sublime.compat.toZone=function(){var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3}||{};var output={format:zone.format,name:zone.name,nortb:zone.nortb,novideo:zone.novideo,sid:zone.site_id,zid:zone.id,data:{block_cookies:zone.block_cookies,capping_impressions:zone.cappings&&zone.cappings.impressions?zone.cappings.impressions:0,capping_impressions_mobile:zone.cappings&&zone.cappings.impressions_mobile?zone.cappings.impressions_mobile:0,html:zone.html||'',main_channel:zone.main_category_id,mobilecss:zone.mobilecss||'',mobilejs:zone.mobilejs||'',passback:zone.passback||'',mobilepassback:zone.mobilepassback||'',premium:zone.premium,scale:zone.scaleCompat,sub_channel:zone.sub_category_id,"sublime:state":zone.status||'',url:zone.url,width:zone.width||0}};sublime.window.ayads.zone=output;return output;};sublime.hook.register('step.setupZoneAd.before',sublime.compat.toZone);sublime.compat.fromAyadsAd=function(ad,exclude){exclude=exclude||false;var regexNoBgVideo=/#ayads-video-bg[\r\n\t ]{[\r\n\t ].*?display:\s*none.*?[\r\n\t ]}/;var hideBgVideo=false;if(sublime.isObject(ad.data)){ad.aid=ad.data.aid||0;ad.raid=ad.data.raid||0;ad.cid=ad.data.cid||0;ad.moat=ad.moat||ad.data.moat||0;ad.viewability=ad.viewability||ad.data.viewability||0;ad.rtype=ad.data.rtype||null;if(sublime.isDefined(ad.data.type)){ad.type=ad.data.type;if(ad.data.type==='mobile'){ad.mobile_setup=ad.data.mobile_setup;ad.supported_devices=['mobile'];}else{ad.desktop_setup=ad.data.desktop_setup;ad.supported_devices=['desktop'];}}}else{ad.data={};}
var output={campaign_id:ad.cid,cappings:{clicks:ad.data.capping_clicks,impressions:ad.data.capping_impressions,duration:ad.data.capping_duration},click_area:ad.data.click_area||'double',click_macro:ad.data.click_macro,color:ad.data.color,creative_type:ad.data.creative_type,creative_id:ad.data.creative_id,fixed:ad.data.fixed,html:ad.data.html,html_usage:ad.data.html_usage,id:ad.aid,image:ad.data.image,images:{bg:ad.data.image},moat:ad.moat,mobile_setup:ad.mobile_setup||null,desktop_setup:ad.desktop_setup||null,name:ad.name,priority:ad.priority||1,ssp_id:'',ssp_name:'',swipe_macro:ad.data.swipe_macro,supported_devices:ad.supported_devices||['desktop'],top:ad.data.top,type:ad.type||'skinz',url:ad.data.url,originalUrl:ad.data.original_url||null,videos:{},viewability:ad.viewability||0,weight:10};if(ad.raid){output.raid=ad.raid;}
if(ad.rtype){output.rtype=ad.rtype;}
if(ad.data.criteo_id){output.ssp_name='criteo';output.ssp_id=ad.data.criteo_id;}else if(ad.data.sticky){output.ssp_name='sticky';if(ad.data.sticky.toString().indexOf('://')>-1){output.vast_url=ad.data.sticky;}else{output.vast_url='https://ads.stickyadstv.com/www/delivery/swfIndex.php?reqType=AdsSetup&protocolVersion=2.0&zoneId='+ad.data.sticky;}
output.ssp_id=null;}else if(ad.data.improve_id){if(ad.data.improve_id.match(/^rubicon:/)){output.ssp_name='rubicon';output.ssp_id=ad.data.improve_id.split(':')[1];}else if(ad.data.improve_id&&ad.data.improve_id.match(/^appnexus3:/)){output.ssp_name='appnexus';output.ssp_id=ad.data.improve_id.split(':')[1];}else if(ad.data.improve_id.toString().indexOf('://')>-1){output.script_url=ad.data.improve_id;}else{output.ssp_name='improve';output.ssp_id=ad.data.improve_id;}}
if(ad.data.video){var videoSrc=sublime.env('delivery_url'),videoBg,videoId;var matchedVideoId=(''+ad.data.video).match(/^video-(\d+)\.mp4/);if(matchedVideoId&&matchedVideoId[1]){sublime.error("Erroneous video format in Redirect: bad format",{from:"fromAyadsAd",redirect:ad,tags:{level:"debug"}});ad.data.video=matchedVideoId[1];}
if(sublime.isUrl(ad.data.video)){var regex=new RegExp(sublime.env('delivery_url').replace('/','\\/'));if(ad.data.video.match(regex)){videoSrc=ad.data.video;if(sublime.isUrl(ad.data.video_bg)&&ad.data.video_bg.match(regex)){videoBg=ad.data.video_bg;}}else{videoBg='';}}else{sublime.error("Erroneous video format in Redirect: noUrl",{from:"fromAyadsAd",redirect:ad,tags:{level:"debug"}});videoSrc+='/delivery/video-';videoBg=videoSrc+'bg-';videoId=(ad.data.video==1)?(ad.raid||ad.aid):ad.data.video;videoSrc+=videoId+'.mp4';videoBg+=videoId+'.mp4';}
output.videos.top=videoSrc;output.videos.bg=videoBg;hideBgVideo=(ad.data.html&&ad.data.html.match(regexNoBgVideo));if(hideBgVideo){output.videos.bg=null;}}
if(ad.data.shop&&ad.data.shop.products){output.shopData={url:'',showProduct:true,showPrice:true,products:ad.data.shop.products,prependWings:{left:'',right:''},appendWings:{left:'',right:''},privacy:{optout_click_url:"",optout_image_url:""}};output.type='html5';}
if(exclude){var recursiveClean=function(output){for(var i in output){if(!output.hasOwnProperty(i)){continue;}
if(sublime.isObject(output[i])){recursiveClean(output[i]);}
if(sublime.inArray(i,['top','fixed','footer_fixed','top_sticky','moat'])){continue;}
if(!output[i]){delete output[i];}}};recursiveClean(output);}
return output;};sublime.compat.windowHasAds=function(someWindow){var asAds=someWindow.ayads_ads||null;if(!asAds||!sublime.isArray(asAds)){if(someWindow.ayads_data){asAds=[{data:someWindow.ayads_data}];}}
if(sublime.isEmpty(asAds)){var childrenIframe=someWindow.document.querySelector('iframe[id^="tm_ad_"]');if(childrenIframe){var childrenIframeWindow=childrenIframe.contentWindow;if(childrenIframeWindow.ayads_data){asAds=[{data:childrenIframeWindow.ayads_data}];}}}
if(sublime.isEmpty(asAds)){return[];}
var sublimeAds=[];for(var i=0,ad;i<asAds.length;i++){ad=sublime.compat.fromAyadsAd(asAds[i],true);ad.response_format='html';if(ad.raid){ad.isRedirect=true;}else{ad.isAdserving=true;}
sublimeAds.push(ad);}
return sublimeAds;};sublime.compat.windowHasRedirect=function(someWindow){var sublimeAds=sublime.compat.windowHasAds(someWindow);if(sublimeAds&&sublimeAds[0]){return sublimeAds[0];}
return null;};sublime.hook.register('step.creativeContainerAdded',function(){sublime.window.ayads.additionalScriptsLoaded=true;});sublime.helpers.createNamespace('sublime.display.desktop');function isReminder(creativeAd){var creativeHasReminder=sublime.helpers.hasProperty(creativeAd,'desktop_setup.reminder')&&sublime.pInt(creativeAd.desktop_setup.reminder);var creativeHasVideo=creativeAd.videos&&creativeAd.videos.top;var creativeIsVpaid=!!creativeAd.vpaid;return!0&&creativeHasReminder&&(creativeHasVideo||creativeIsVpaid);}
function desktopRenderVPaid(ad){const VIDEO_RATIO=16 / 9;sublime.info('VPAID > AdUnit provided by '+(ad.vpaid.provider||ad.vpaid.mediaFile));ad.vpaid.config={width:ad.top*VIDEO_RATIO,height:ad.top,viewMode:'normal',bitrate:100000,};sublime.display.desktop.skinz.commonsVideo.registerPixels();const player=sublime.display.desktop.skinz.commonsVideo.createPlayerElement(ad,ad.vpaid.config.width);sublime.vpaid.render(ad.vpaid,player).then(function vpaidRenderSuccess(vpaidWrapper){sublime.hook.call('step.impression.before');sublime.vpaid.addExtraCss(ad.vpaid.provider);vpaidWrapper.on('AdStopped',function AdStopped(message){vpaidWrapper.onStopAd();sublime.info('VPAID > Ad has stopped',message);sublime.info('Reload video.');sublime.vpaid.clean(player.container);const ayadsVideo=sublime.document.getElementById(sublime.display.elements.VIDEO_ID.desktop);if(sublime.isUrl(ad.videos.top)){ayadsVideo.src=ad.videos.top;ayadsVideo.loop=true;ayadsVideo.play();}});if(isReminder(ad)){sublime.display.desktop.skinz.videoReminder.render(ad);}else{sublime.display.desktop.skinz.video.render(ad);}
sublime.hook.call('step.impression.after');});}
sublime.display.desktop.adIsReady=function adIsReady(ad){if(ad.creative_type==='video toproll classic'){return topRollAdIsReady(ad);}
if(ad.shopData){return sublime.display.desktop.skinz.shop.adIsReady(ad);}
if(isReminder(ad)){return sublime.display.desktop.skinz.videoReminder.adIsReady(ad);}
if((ad.videos&&ad.videos.top)||ad.vpaid){return sublime.display.desktop.skinz.video.adIsReady(ad);}
if(ad.type==='html5'){return sublime.display.desktop.skinz.html5.adIsReady(ad);}
return sublime.display.desktop.skinz.classic.adIsReady(ad);};sublime.display.desktop.render=function render(ad){sublime.info('sublime.display.desktop');ad.top=Object.prototype.hasOwnProperty.call(ad,'top')?sublime.pInt(ad.top||0):220;ad.top=Math.round(ad.top*1);if(ad.creative_type==='video toproll classic'){topRollRender(ad,sublime.window);return;}
if(ad.vpaid){desktopRenderVPaid(ad);return;}
sublime.hook.call('step.impression.before');if(ad.shopData){sublime.display.desktop.skinz.shop.render(ad);}else if(isReminder(ad)){sublime.display.desktop.skinz.videoReminder.render(ad);}else if(ad.videos&&ad.videos.top){sublime.display.desktop.skinz.video.render(ad);}else if(ad.type==='html5'){sublime.display.desktop.skinz.html5.render(ad);}else{sublime.display.desktop.skinz.classic.render(ad);}
sublime.hook.call('step.impression.after');};sublime.display.desktop.setupZoneAd=function setupZoneAd(ad){sublime.hook.call('step.setupZoneAd.before');let html="<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>"+(ad.html||'');if(html){html=sublime.macros.replace(html,ad);sublime.display.writeToContainer(html);}
sublime.hook.call('step.setupZoneAd.after');};sublime.helpers.createNamespace('sublime.display.desktop.skinz');var stampImageUrlDesktop=sublime.env('delivery_url')+'creatives/watermark803-v3.png';sublime.display.desktop.skinz.adIsReady=function adIsReady(ad){return!sublime.isEmpty(ad);};sublime.display.desktop.skinz.render=function render(ad){var clickCallback=clickCallbackCreator(ad);if(0&&ad.html&&typeof ad.html==='string'){ad.html=ad.html.replace(/(\<!-- Start video reminder.*?\<!-- End video reminder -->)/gm,'');}
sublime.display.addCreativeContainer();sublime.document.documentElement.addEventListener('click',clickCallback,false);sublime.hook.register('event.cleanUp',function clearEventListener(){sublime.document.documentElement.removeEventListener('click',clickCallback,false);});sublime.display.desktop.setupZoneAd(ad);addCommonCss(ad);};sublime.display.desktop.skinz.addBgImage=function addBgImage(imageUrl,selector){selector=selector||Â 'body';var cssBackgroundImgProperty='background-image: url("'+imageUrl+'") !important;';if(32097===803){cssBackgroundImgProperty='background-image:url('+stampImageUrlDesktop+'), url("'+imageUrl+'") !important;';}
sublime.display.loadImage(imageUrl,function(){var width=this.width||1800,css=selector+' {'+
cssBackgroundImgProperty+'background-size:'+Math.round(width*1)+'px auto !important;'+'background-position: center top;'+'background-repeat: no-repeat;'+'}';sublime.display.addCss(css);});};function addCommonCss(ad){var scale=1;ad.color=ad.color||'#fff';if(ad.fixed){ad.bgPosition='50% '+sublime.window.getComputedStyle(sublime.document.documentElement).marginTop;ad.bgAttachement='fixed';}else{ad.bgPosition='center top';ad.bgAttachement='scroll';}
var css='body {'+'cursor:default;'+'background-position:'+ad.bgPosition+' !important;'+'background-repeat:no-repeat !important;'+'background-image:none;'+'background-color:'+ad.color+' !important;'+'background-attachment:'+ad.bgAttachement+' !important;'+'margin-left:auto !important;'+'margin-right:auto !important;'+'margin-top:'+ad.top+'px !important;'+'max-width:'+(1000*scale)+'px'+'}'+'html {'+'background-image:none !important;'+'background-color:transparent !important;'+'cursor:pointer'+'}';sublime.display.addCss(css);}
var DEFAULT_SKINZ_WIDTH=1800;function getMouseRelativePosition(absoluteX,absoluteY){var scale=1,w=sublime.window||window,d=w.document,browserwidth=Math.max(d.body.parentNode.clientWidth,d.body.clientWidth),scrolltop=Math.max(d.body.scrollTop,w.pageYOffset),marginLeft=Math.round((browserwidth-DEFAULT_SKINZ_WIDTH*scale)/ 2),html=d.body.parentElement,style=html.currentStyle||window.getComputedStyle(html),marginTop=sublime.pInt(style.marginTop),x=absoluteX-marginLeft,y=!document.documentMode?(absoluteY-marginTop):absoluteY;if(sublime.ad.fixed){y-=scrolltop;}
return{x:Math.round(x / scale),y:Math.round(y / scale)};}
function clickCallbackCreator(ad){return function clickCallback(e){var target=false,videoTargets=['ayads-video','ayads-video-bg','ayads-video-layer'],allowedClickAreas=['double','full','strict'],pos=getMouseRelativePosition(e.clientX,e.pageY),clickheight=ad.height||1000,clickInSideGutter=false,clickInBottom=false,gutterWidth=0;if(ad.disableClick){sublime.warn("Click disabled");return;}
if(!ad.url){sublime.warn("No url");return;}
if(e.target===sublime.document.documentElement){target='html';}else if(sublime.inArray(e.target.id,videoTargets)){target='video';}
if(!target){return;}
sublime.info('Sublime click',e.clientX,e.pageY);if(!ad.click_area||!sublime.inArray(ad.click_area,allowedClickAreas)){ad.click_area=allowedClickAreas[0];}
if(ad.click_area=='double'){clickheight*=2;}
if(ad.click_area=='strict'||ad.click_area=='double'){if(!ad.fixed){clickInBottom=pos.y<0||pos.y>clickheight;}}
clickInSideGutter=sublime.document.documentElement.clientWidth-e.clientX<gutterWidth;if(clickInSideGutter||clickInBottom){return false;}
sublime.adServer.incrementCappings('clicks');sublime.hook.call('event.click',{x:e.clientX,y:e.pageY,click_area:ad.click_area});sublime.info(ad.click_area);var positionQueryString={clickx:pos.x,clicky:pos.y};sublime.analytics.fire(32097,'click');sublime.window.open(sublime.display.getFinalClickUrl(ad,null,null,positionQueryString));};}
var hoverMetricsSent=false,hoverMetricsTimeout=null,videoTop=null,skinzVideoContainer=null,videoTopControls=null,videoBg=null,muteBtn=null,triggeredQuartiles=[],defaultVideoBgSrc='https://cdn.ayads.co/17/07/video-bg-170781.mp4';sublime.helpers.createNamespace('sublime.display.desktop.skinz.commonsVideo');var videoPixelsDesktop={videoQ0:{inherit:'_videoQuartile',qs:{e:'q0'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ1:{inherit:'_videoQuartile',qs:{e:'q1'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ2:{inherit:'_videoQuartile',qs:{e:'q2'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ3:{inherit:'_videoQuartile',qs:{e:'q3'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ4:{inherit:'_videoQuartile',qs:{e:'q4'},addBrowserDimensions:true,addPageHeightDimension:true,},videoHover:{inherit:'_commonSkinz',qs:{e:'h'}},videoStartedLoading:{inherit:'_commonSkinz',qs:{e:'vsl'}},videoCanplaythrough:{inherit:'_commonSkinz',qs:{e:'dicpt'}},videoLoadeddata:{inherit:'_commonSkinz',qs:{e:'dild'}},videoPlaying:{inherit:'_commonSkinz',qs:{e:'dip'}},};sublime.display.desktop.skinz.commonsVideo.adIsReady=function adIsReady(ad){var isReadableAd=sublime.isUrl(ad.url)&&ad.videos&&sublime.isUrl(ad.videos.top);var isExternalVPAID=ad.vpaid&&ad.isExternal;return isReadableAd||isExternalVPAID;};sublime.display.desktop.skinz.commonsVideo.render=function render(ad){if(!ad.vpaid){sublime.display.desktop.skinz.commonsVideo.registerPixels();sublime.display.desktop.skinz.commonsVideo.createPlayerElement(ad);}else{sublime.document.getElementById(sublime.display.elements.VIDEO_CONTAINER_ID.desktop).style.marginTop='-'+ad.top+'px';}
if(ad.images.bg){sublime.display.desktop.skinz.addBgImage(ad.images.bg,'#ayads-video-layer');}
addEventsOnVideoTop();if(!ad.vpaid){videoTop.src=ad.videos.top;}
if(ad.videos.bg||ad.isExternal){videoBg=createVideoBgElement();addEventsOnVideoBg();if(ad.videos.bg){videoBg.src=ad.videos.bg;}else if(ad.isExternal){var videoTopMutationPromise=new sublime.Promise(function(resolve,reject){var videoTopMutationObserver=new MutationObserver(function(mutationsList){mutationsList.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='src'&&sublime.isUrl(videoTop.src)&&videoBg.src!==videoTop.src){videoTopMutationObserver.disconnect();resolve(videoTop.src);}});});videoTopMutationObserver.observe(videoTop,{attributes:true});});var adPlayingPromise=new sublime.Promise(function(resolve){sublime.hook.register({namespace:sublime.vpaid.hookNames.adPlaying,callback:function(){resolve(defaultVideoBgSrc);}});});if(sublime.isUrl(videoTop.src)){videoBg.src=videoTop.src;}else{sublime.Promise.any([videoTopMutationPromise,adPlayingPromise]).then(function(src){videoBg.src=src;videoBg.play();});}
videoBg.classList.add('blurred');}
sublime.document.body.insertBefore(videoBg,sublime.document.body.firstChild);}
sublime.hook.call('step.videoContainerAdded');};sublime.display.desktop.skinz.commonsVideo.registerPixels=function(){sublime.analytics.setPixels(32097,videoPixelsDesktop);};sublime.display.desktop.skinz.commonsVideo.createPlayerElement=function createPlayerElement(ad,width){videoTop=createVideoTopElement();skinzVideoContainer=createVideoControlsContainer(ad.top,width);videoTopControls=createVideoControls();skinzVideoContainer.appendChild(videoTopControls);var loadingBar=createVideoLoadingBar();skinzVideoContainer.appendChild(loadingBar);muteBtn=createvideoMuteButton();skinzVideoContainer.appendChild(muteBtn);addCommonVideoCss(ad.fixed,ad.top);skinzVideoContainer.appendChild(videoTop);sublime.document.body.insertBefore(skinzVideoContainer,sublime.document.body.firstChild);var layer=createVideoLayer(skinzVideoContainer.style.marginTop);sublime.document.body.insertBefore(layer,sublime.document.body.firstChild);videoTop.addEventListener('loadstart',function(){sublime.analytics.fire(32097,'videoStartedLoading');});videoTop.addEventListener('ended',computeVideoMetrics);videoTop.addEventListener('loadeddata',function videoLoadeddataCallback(){sublime.analytics.fire(32097,'videoLoadeddata');});videoTop.addEventListener('playing',function videoPlayingCallback(){sublime.analytics.fire(32097,'videoPlaying');});return{video:videoTop,container:skinzVideoContainer}};function createVideoTopElement(){var doc=sublime.document,ayadsVideo=doc.getElementById(sublime.display.elements.VIDEO_ID.desktop);var video=ayadsVideo?ayadsVideo:doc.createElement('video');video.id=sublime.display.elements.VIDEO_ID.desktop;if(!sublime.creativeAd.vpaid){video.loop=true;}
video.autoplay=true;video.preload=true;video.muted=true;video.volume=0;return video;}
function createVideoBgElement(){var video=sublime.document.createElement('video');video.id='ayads-video-bg';video.preload=true;video.loop=true;video.muted=true;video.volume=0;return video;}
function createVideoControlsContainer(top,width){var container=sublime.document.getElementById(sublime.display.elements.VIDEO_CONTAINER_ID.desktop);if(!container){container=sublime.document.createElement('div');container.id=sublime.display.elements.VIDEO_CONTAINER_ID.desktop;}
container.style.height=top+'px';container.style.marginTop='-'+container.style.height;if(width){container.style.width=width+'px';}
container.addEventListener('mouseover',function(){videoTop.volume=.75;if(!hoverMetricsSent){sublime.timer.clearTimeout(hoverMetricsTimeout);hoverMetricsTimeout=sublime.timer.setTimeout(function(){hoverMetricsSent=true;sublime.analytics.fire(32097,'videoHover');},2000);}});container.addEventListener('mouseout',function(){videoTop.volume=0;sublime.timer.clearTimeout(hoverMetricsTimeout);});return container;}
function createVideoLoadingBar(){var loadingBar=sublime.document.createElement('div'),progressBar=sublime.document.createElement('div');loadingBar.classList.add('sublime-loading-bar');progressBar.classList.add('sublime-loading-bar-progress');loadingBar.appendChild(progressBar);videoTop.addEventListener('timeupdate',function(){var loadingBarPercentage=Math.abs((((videoTop.duration-videoTop.currentTime)/ videoTop.duration)*100)-100);progressBar.style.width=loadingBarPercentage+'%';});return loadingBar;}
function createVideoLayer(marginTop){var layer=sublime.document.createElement('div');layer.id='ayads-video-layer';layer.style.marginTop=marginTop;layer.addEventListener('mouseover',videoMouseOver);layer.addEventListener('mouseout',videoMouseOut);return layer;}
function createVideoControls(){var controls=sublime.document.createElement('div');controls.id='ayads-video-controls';controls.classList.add('ayads-video-buttons');controls.addEventListener('click',function(){playPause();});return controls;}
function createvideoMuteButton(){var muteBtn=sublime.document.createElement('div');muteBtn.id='ayads-video-controls-sound';muteBtn.classList.add('ayads-video-buttons','ayads-video-controls-sound','mute','pulsing-sound-button');muteBtn.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();muteBtn.classList.remove('pulsing-sound-button');toggleMute(!muteBtn.classList.contains('mute'));});return muteBtn;}
function addEventsOnVideoTop(){videoTop.addEventListener('mouseover',videoMouseOver);videoTop.addEventListener('mouseout',videoMouseOut);videoTop.addEventListener('canplaythrough',videoTopCanplaythroughCallback);videoTop.addEventListener('play',function(){pausePlayElementsRender('playing');});videoTop.addEventListener('pause',function(){pausePlayElementsRender('paused');});var isIE=/*@cc_on!@*/ false||!!document.documentMode;if(isIE){sublime.window.document.querySelector('html').addEventListener('mousemove',soundVideoIE);sublime.window.document.querySelector('html').addEventListener('mouseout',soundVideoIE);}
sublime.hook.register(sublime.vpaid.hookNames.adClickThru,function(){sublime.display.openTargetUrl({},sublime.creativeAd,sublime.ad.url);});}
function addEventsOnVideoBg(){videoBg.addEventListener('mouseover',videoMouseOver);videoBg.addEventListener('mouseout',videoMouseOut);videoBg.addEventListener('canplaythrough',videoBgCanplaythroughCallback);}
function videoMouseOver(){videoTop.volume=0.2;}
function videoMouseOut(){videoTop.volume=0;}
function videoTopCanplaythroughCallback(){var computeInterval=500
sublime.creativeAd.video_duration=parseInt(videoTop.duration,10);sublime.analytics.fire(32097,'videoCanplaythrough');playPause(1&&!!sublime.creativeAd.video_autoplay);videosSynchronizer();computeVideoMetrics();sublime.timer.setInterval(function(){if(!videoTop.paused){videosSynchronizer();computeVideoMetrics();}},computeInterval);sublime.hook.call('step.videoCanplaythrought',{video:videoTop});videoTop.removeEventListener('canplaythrough',videoTopCanplaythroughCallback);}
function videoBgCanplaythroughCallback(){sublime.hook.call('step.videoBgCanplaythrought',{video:videoBg});videoBg.removeEventListener('canplaythrough',videoBgCanplaythroughCallback);}
function soundVideoIE(e){if(e.toElement===this){videoTop.volume=0.2;}else if(e.toElement!==videoTop||e.type==="mouseout"){videoTop.volume=0;}}
function playPause(play){play=typeof(play)!=='undefined'?play:videoTop.paused;if(play){videoTop.play();videoBg&&videoBg.play();videoTop.isVpaid&&videoTop.vpaid.resumeAd();}else{videoTop.pause();videoBg&&videoBg.pause();videoTop.isVpaid&&videoTop.vpaid.pauseAd();}}
function computeVideoMetrics(){if(sublime.ad.vpaid){return;}
var quartileNames=['start','firstQuartile','midpoint','thirdQuartile','complete'];if(!sublime.isDefined(videoTop.currentTime)||!sublime.isDefined(videoTop.duration)){sublime.error('video.currentTime or video.duration is not defined, no metrics sent.');return;}
if(videoTop.paused&&videoTop.duration!==videoTop.currentTime){sublime.warn('Video is paused, no metrics sent.');return;}
var quartileLength=videoTop.duration / 4,unroundedQuartile=videoTop.currentTime / quartileLength,quartile=Math.floor(unroundedQuartile),quartileName;if(unroundedQuartile<3&&triggeredQuartiles[3]){quartile=4;}
if(quartile>4||triggeredQuartiles[quartile]){return;}
for(var index=0;index<quartile;index++){var quartileIndex='videoQ'+index;var pixels=sublime.analytics.getPixels();if(sublime.helpers.hasProperty(pixels,32097+'.'+quartileIndex)&&pixels[32097][quartileIndex].fired!==1){sublime.analytics.fire(32097,quartileIndex);}}
sublime.analytics.fire(32097,'videoQ'+quartile);quartileName=quartileNames[quartile];sublime.hook.call('step.video.quartile'+quartile,{duration:videoTop.duration,quartile:quartile,quartileName:quartileName,currentTime:videoTop.currentTime});triggeredQuartiles[quartile]=true;};function pausePlayElementsRender(videoStatus){if(videoTop.isVpaid){return;}
if(videoStatus==='playing'){var playButton=sublime.document.getElementById('ayads-video-buttons-play');var pauseButtonPulseCircle=sublime.document.getElementById('play-video-pulsar');var vidOverlay=sublime.document.getElementById('ayads-video-overlay');videoTopControls.classList.add('ayads-video-buttons');if(playButton){playButton.remove();}
if(pauseButtonPulseCircle){pauseButtonPulseCircle.remove();}
if(vidOverlay){vidOverlay.remove();}}else{var playButton=sublime.document.createElement('div');playButton.id='ayads-video-buttons-play';playButton.classList.add('ayads-video-buttons','play');videoTopControls.classList.add('ayads-video-buttons','paused');videoTopControls.appendChild(playButton);var pauseButtonPulseCircle=sublime.document.createElement('div');pauseButtonPulseCircle.id='play-video-pulsar';videoTopControls.appendChild(pauseButtonPulseCircle);var vidOverlay=sublime.document.createElement('div');vidOverlay.id='ayads-video-overlay';skinzVideoContainer.appendChild(vidOverlay);}}
function toggleMute(mute){if(mute){muteBtn.classList.add('mute');videoTop.muted=true;}else{muteBtn.classList.remove('mute');videoTop.muted=false;}};function videosSynchronizer(){if(!videoBg){return false;}
if(videoTop.readyState!==4||videoBg.readyState!==4){return false;}
if(videoTop.duration!==videoBg.duration){return false;}
var timeDiff=Math.abs(videoBg.currentTime-videoTop.currentTime);if(timeDiff<.1){return false;}
videoBg.currentTime=videoTop.currentTime;if(!videoTop.paused&&videoBg.paused){videoBg.play();}}
function addCommonVideoCss(fixed,top){var css='body {position:static !important}'+'#ayads-video {height:100%;min-height:80px}'+'#ayads-video-bg {min-width:100%;min-height:100%;position:fixed;top:0;left:0;right:0;z-index:-2147483648;cursor:pointer}'+'#ayads-video-bg.blurred {filter: blur(5px) brightness(75%); transform: scale(1.06);}'+'#ayads-video-layer {position:'+(fixed?'fixed':'absolute')+';z-index:-2147483647;margin:auto;width:100%;'+'height:'+(1000*1)+'px;left:0;right:0;-webkit-transform:translate3d(0,0,0);cursor:pointer}'+'#ayads-video-container {position:absolute;margin:auto;left:50%;transform:translate3d(-50%,0,0);-webkit-transform:translate3d(-50%,0,0);-webkit-transform:translate3d(-50%,0,0);cursor:pointer;height:'+top+'px;}'+'#ayads-video-overlay {height:100%;width:100%;position:fixed;top:0;left:0;background-color:black;opacity:0.5}'+'#ayads-video-controls {display:flex;justify-content:center;align-items:center;position:absolute;z-index:1;bottom:0;margin:auto;}'+'#ayads-video-controls.paused {height:100%;width:100%;position:fixed;top:0;left:0}'+'#ayads-video-controls-sound {opacity:.5;-webkit-transition:opacity .2s;transition:opacity .3s;position:absolute;right: 10px; bottom: 10px; height: 25px; width: 25px; margin:0; background-image: url(https://cdn.ayads.co/creatives/commons/volume-up.svg); }'+'#ayads-video-controls-sound.mute {opacity:1;background-image: url(https://cdn.ayads.co/creatives/commons/volume-off.svg);}'+'#ayads-video-controls-sound.mute.pulsing-sound-button {transition: opacity .2s cubic-bezier(0.4, 0, 1, 1);animation-name: pulsing-sound-button;animation-duration: 1s;animation-iteration-count: infinite;animation-direction: alternate-reverse;animation-timing-function: cubic-bezier(0.4, 0, 1, 1);cursor: pointer;}'+'@keyframes pulsing-sound-button {from {transform: scale(1);} to {transform: scale(1.4);}}'+'.ayads-video-buttons {background:no-repeat center;position:absolute;background-size:contain;z-index:1;bottom:0;margin:10px 12px;}'+'#ayads-video-buttons-play {height:37px;width:37px;position:initial;background-image:url(https://cdn.ayads.co/creatives/commons/icon-play.svg)}'+'#play-video-pulsar{position:absolute;background:transparent;border:1px solid white;width:35px;border-radius:50%;height:35px;z-index:5;transform-origin:center;animation-name:play-video-pulsar;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate-reverse;animation-timing-function:cubic-bezier(0.4,0,1,1);}'+'@keyframes play-video-pulsar{ from {transform:scale(1.5);opacity:.2;} to {transform:scale(1.2);opacity:1;}}'+'.sublime-loading-bar {position: absolute;bottom:0;height: 5px;width: 100%;background-color:white}'+'.sublime-loading-bar-progress {position: relative;height: 5px;width: 0%;background-color:#e9531d}';sublime.display.addCss(css);}
sublime.hook.register('event.cleanUp',function clearEventListener(){var isIE=/*@cc_on!@*/ false||!!document.documentMode;if(isIE){sublime.window.document.querySelector('html').removeEventListener('mousemove',soundVideoIE);sublime.window.document.querySelector('html').removeEventListener('mouseout',soundVideoIE);}});sublime.helpers.createNamespace('sublime.display.desktop.skinz.classic');sublime.display.desktop.skinz.classic.adIsReady=function adIsReady(ad){var hasValidUrl=sublime.isUrl(ad.url),hasImage=ad.images&&sublime.isUrl(ad.images.bg);return sublime.display.desktop.skinz.adIsReady(ad)&&hasImage&&hasValidUrl;};sublime.display.desktop.skinz.classic.render=function render(ad){sublime.info('sublime.display.desktop.skinz.classic');sublime.display.desktop.skinz.render(ad);sublime.display.desktop.skinz.addBgImage(ad.images.bg);};sublime.helpers.createNamespace('sublime.display.desktop.skinz.video');sublime.display.desktop.skinz.video.adIsReady=function adIsReady(ad){return sublime.display.desktop.skinz.adIsReady(ad)&&sublime.display.desktop.skinz.commonsVideo.adIsReady(ad);};sublime.display.desktop.skinz.video.render=function render(ad){sublime.info('sublime.display.desktop.skinz.video');sublime.display.desktop.skinz.render(ad);sublime.display.desktop.skinz.commonsVideo.render(ad);};sublime.helpers.createNamespace('sublime.display.desktop.skinz.videoReminder');sublime.window=sublime.window||window;var videoTop,skinzVideoContainer,originalVideoWidth=0,originalVideoHeight=0,originalVideoRatio,fullVideoWidth,fullVideoHeight,videoIsReminder=false,videoClosed=false,videoTopCss,skinzVideoContainerCss,switchVideoScrollPosition,BASE_SITE_WIDTH=1000,MAX_VIDEO_WIDTH=400*1,MIN_WING_SIZE=140,PERCENTAGE_TO_DISPLAY_REMINDER=40;var videoReminderPixels={reminderClose:{inherit:'_commonSkinz',qs:{e:'vdrc'}},noVideoReminder:{inherit:'_commonSkinz',qs:{e:'vdrn',},addBrowserDimensions:true},};sublime.display.desktop.skinz.videoReminder.adIsReady=function adIsReady(ad){return sublime.display.desktop.skinz.adIsReady(ad)&&sublime.display.desktop.skinz.commonsVideo.adIsReady(ad);};sublime.display.desktop.skinz.videoReminder.render=function render(ad){sublime.info('sublime.display.desktop.skinz.videoReminder');sublime.analytics.setPixels(32097,videoReminderPixels);ad.html=ad.html.replace(/(\<!-- Start video reminder.*?\<!-- End video reminder -->)/gm,'');sublime.display.desktop.skinz.render(ad);sublime.display.desktop.skinz.commonsVideo.render(ad);videoTop=sublime.document.getElementById(sublime.display.elements.VIDEO_ID.desktop);skinzVideoContainer=sublime.document.getElementById(sublime.display.elements.VIDEO_CONTAINER_ID.desktop);createCloseVideoReminderBtn();addVideoReminderCss();if(ad.vpaid){videoTop.vpaid.on('AdStarted',function(){videoReady.apply(videoTop);});}
videoTop.addEventListener("loadedmetadata",videoReady,false);};function videoReady(){videoTopCss=videoTopCss||videoTop.style.cssText;skinzVideoContainerCss=skinzVideoContainerCss||skinzVideoContainer.style.cssText;originalVideoWidth=originalVideoWidth||videoTop.offsetWidth;originalVideoHeight=originalVideoHeight||videoTop.offsetHeight;fullVideoWidth=this.videoWidth*1;fullVideoHeight=this.videoHeight*1;originalVideoRatio=fullVideoWidth / fullVideoHeight;videoReminderScrollCallback();sublime.window.addEventListener('scroll',videoReminderScrollCallback);sublime.window.addEventListener('resize',sublime.debounce(videoReminderResizeCallback,100));}
function createCloseVideoReminderBtn(){var closeBtn=sublime.document.createElement('div');closeBtn.id='sublime-video-close';closeBtn.className='ayads-video-buttons';skinzVideoContainer.insertBefore(closeBtn,skinzVideoContainer.firstChild);closeBtn.addEventListener('click',function(){videoClosed=true;closeBtn.classList.add('hide');closeBtn.classList.remove('show');displayVideoAtTop();sublime.analytics.fire(32097,'reminderClose')});}
function videoReminderScrollCallback(){if(videoClosed){return;}
if(!canDisplayVideoAsReminder()){sublime.analytics.fire(32097,'noVideoReminder');return;}
if(!videoIsReminder&&!videoIsVisibleEnough(getViewablePointsToCheck())){switchVideoScrollPosition=sublime.window.pageYOffset;displayVideoAsReminder();videoIsReminder=true;return;}
if(videoIsReminder&&sublime.window.pageYOffset<switchVideoScrollPosition){displayVideoAtTop()
videoIsReminder=false;}}
function videoReminderResizeCallback(){if(videoClosed||!videoIsReminder){return;}
if(!canDisplayVideoAsReminder()){sublime.analytics.fire(32097,'noVideoReminder');videoIsReminder=false;displayVideoAtTop();return;}
resizeVideoReminder();}
function canDisplayVideoAsReminder(){var siteWidth=Math.ceil(1*BASE_SITE_WIDTH);return sublime.window.document.documentElement.clientWidth-siteWidth>MIN_WING_SIZE*2;}
function getViewablePointsToCheck(){var videoTopY=videoTop.getBoundingClientRect().y||videoTop.getBoundingClientRect().top,videoTopX=videoTop.getBoundingClientRect().x||videoTop.getBoundingClientRect().left,originalVideoMidPointY=videoTopY+(videoTop.offsetHeight / 2),originalVideoMidPointX=videoTopX+(videoTop.offsetWidth / 2),percentageToCheckFromMid=Math.abs(50-PERCENTAGE_TO_DISPLAY_REMINDER),distanceFromMid=videoTop.offsetHeight / percentageToCheckFromMid;return{topPointX:originalVideoMidPointX,topPointY:originalVideoMidPointY-distanceFromMid,bottomPointX:originalVideoMidPointX,bottomPointY:originalVideoMidPointY+distanceFromMid,};}
function videoIsVisibleEnough(pointsToCheck){var elementOnTopPoint=sublime.document.elementFromPoint(pointsToCheck.topPointX,pointsToCheck.topPointY),elementOnBottomPoint=sublime.document.elementFromPoint(pointsToCheck.bottomPointX,pointsToCheck.bottomPointY);return skinzVideoContainer.contains(elementOnTopPoint)&&skinzVideoContainer.contains(elementOnBottomPoint);}
function displayVideoAsReminder(){skinzVideoContainer.classList.add('sublime-reminder');videoTop.classList.add('sublime-reminder');resizeVideoReminder();}
function displayVideoAtTop(){if(videoTop.vpaid){videoTop.vpaid.resizeAd(originalVideoWidth,originalVideoHeight,'normal');}
skinzVideoContainer.classList.remove('sublime-reminder');videoTop.style.cssText=videoTopCss;skinzVideoContainer.style.cssText=skinzVideoContainerCss;videoTop.classList.remove('sublime-reminder');}
function resizeVideoReminder(){var siteWidth=Math.ceil(1*BASE_SITE_WIDTH),sideWidth=(sublime.window.document.documentElement.clientWidth-siteWidth)/ 2;var videoWidth=Math.max(originalVideoWidth,fullVideoWidth);videoWidth=Math.min(sideWidth,videoWidth);videoWidth=Math.min(MAX_VIDEO_WIDTH,videoWidth);var videoHeight=videoWidth / originalVideoRatio;if(videoTop.vpaid){videoTop.vpaid.resizeAd(videoWidth,videoHeight,'thumbnail');}
skinzVideoContainer.style.right=sideWidth+'px';skinzVideoContainer.style.marginRight=-videoWidth+'px';skinzVideoContainer.style.setProperty('width',videoWidth+'px','important');skinzVideoContainer.style.setProperty('height',videoHeight+'px','important');}
function addVideoReminderCss(){var css='#ayads-video-container{margin-right: 0;transition:margin-right 0.5s ease-out;box-shadow:none!important;}'+'#ayads-video-container.sublime-reminder{position:fixed!important;bottom:0!important;margin-top:auto!important;z-index:100000000!important;transform:translate3d(0%,0,0)!important;left:inherit;}'+'#ayads-video{width:inherit;display:block;}'+'#ayads-video.sublime-reminder{width:100%!important;height:initial!important;min-height:initial!important;}'+'#sublime-video-close{transition:opacity 0.2s ease-out, top 0.3s ease-out;top:10px;right:0;width:20px;height:20px;opacity:0;background-image:url("https://cdn.ayads.co/creatives/commons/close-up.svg");}'+'#ayads-video-container.sublime-reminder:hover #sublime-video-close{opacity:1;top:0;}'+'#sublime-video-close.show{display:inherit!important;}'+'#sublime-video-close.hide{display:none!important;}';sublime.display.addCss(css);}
sublime.helpers.createNamespace('sublime.display.desktop.skinz.html5');sublime.display.desktop.skinz.html5.adIsReady=function adIsReady(ad){var hasValidUrl=sublime.isUrl(ad.url),hasHTML=!sublime.isEmpty(ad.html);return sublime.display.desktop.skinz.adIsReady(ad)&&hasHTML&&hasValidUrl;};sublime.display.desktop.skinz.html5.render=function render(ad){sublime.info('sublime.display.desktop.skinz.html5');sublime.display.desktop.skinz.render(ad);if(ad.images.bg){sublime.display.desktop.skinz.addBgImage(ad.images.bg);}};sublime.helpers.createNamespace('sublime.display.desktop.skinz.shop');sublime.display.desktop.skinz.shop.adIsReady=function adIsReady(ad){var hasShop=!sublime.isEmpty(ad.shopData);return sublime.display.desktop.skinz.adIsReady(ad)&&sublime.isUrl(ad.url)&&hasShop;};sublime.display.desktop.skinz.shop.render=function render(ad){sublime.info('sublime.display.desktop.skinz.shop');sublime.display.desktop.skinz.render(ad);if(ad.images.bg){sublime.display.desktop.skinz.addBgImage(ad.images.bg);}
displayShop(ad);};function displayShop(ad){var data=ad.shopData,i=0;if(!data.showProduct){sublime.info("displayShop: don't show products");return;}
if(!data.products||!data.products.length){sublime.info("displayShop: no products");return;}
data.gutterWidth=data.gutterWidth||180;data.repeatProducts=sublime.isDefined(data.repeatProducts)?data.repeatProducts:10;data.showCurrency=sublime.isDefined(data.showCurrency)?data.showCurrency:true;var siteWidth=1*1000,sideWidth=Math.ceil((sublime.document.documentElement.clientWidth-siteWidth)/ 2),gutterWidth=Math.ceil(data.gutterWidth*1),position,wings={left:null,right:null};var css='body{position: static!important;}'+'#sublime-ad-shop-left, #sublime-ad-shop-right {z-index: -1; position: absolute; transition: all 0.7s linear;  -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; padding:0;}'+'#sublime-ad-shop-left {-webkit-transform: translateX(-100%); -ms-transform: translateX(-100%); transform: translateX(-100%); }'+'#sublime-ad-shop-right {-webkit-transform: translateX(100%); -ms-transform: translateX(100%); transform: translateX(100%); }'+'.sublime-ad-item { text-align: center; transition: all 0.3s linear;  /*box-sizing: border-box;*/ }'+'.sublime-ad-item a {display: block; position: relative; }'+'.sublime-ad-item-title {font-weight: 600; font-size: 12px; margin: 5px 0 0 0; padding: 0 30%; }'+'.sublime-ad-privacy-link {position: absolute; }'+'.sublime-ad-item { background: #FFF; color: #000; font-size: 12px; overflow: hidden; text-align: center; }'+'.sublime-ad-item a { box-sizing: border-box; color: #555; display: block; text-decoration: none; width: 100%; }'+'.sublime-ad-item img.sublime-ad-item-image { display: inline; }'+'.sublime-ad-item-name { height: 28px; overflow: hidden; font-family: Arial,sans-serif !important; margin-top: 2px; }'+'.sublime-ad-item-price-container { font-weight: bold; font-family: Arial,sans-serif !important; }'+'img.sublime-ad-item-logo { height: 20px !important; vertical-align: middle; border: none; display: inline-block; }'+'.sublime-ad-item-discount_price {text-decoration:line-through;color:#999}'+'.sublime-ad-item-discount{color: #FFF;position: absolute;top: 10px;left: 10px;background: #fe0d54;border-radius: 20px;font-size: 15px;line-height: 40px;width: 40px;}';sublime.display.addCss(css);if(!sublime.isString(data.css)||!data.css.length){data.css=''+'#sublime-ad-shop-left, #sublime-ad-shop-right { padding: 0 2px;}'+'.sublime-ad-item { border-radius: 6px; box-shadow: 0 0 7px rgba(0,0,0,.8); margin-bottom: 30px; height: 180px; line-height: 14px;}'+'.sublime-ad-item a { box-sizing: border-box; color: #555; display: block; padding: 23px 18px; position: absolute; text-decoration: none; width: 100%; }'+'.sublime-ad-item-price-container { color: red; }'+'img.sublime-ad-item-image {height: 85px; }'+'.sublime-ad-item:hover {-webkit-transform: scale(1.1); transform: scale(1.1); }'+'.sublime-ad-item-price {margin-left: 5px;}';}
sublime.display.addCss(data.css);if(data.privacy&&data.privacy.optout_click_url&&data.privacy.optout_image_url){var privacyLink=sublime.document.createElement('a');privacyLink.id='sublime-ad-privacy-link';privacyLink.href=data.privacy.optout_click_url;privacyLink.classList.add('sublime-ad-privacy-link');privacyLink.style.marginTop=(ad.top*-1)+"px";privacyLink.target="_blank";privacyLink.innerHTML='<img src="'+data.privacy.optout_image_url+'">';privacyLink.style.right=sideWidth+"px";sublime.document.body.insertBefore(privacyLink,sublime.document.body.firstChild);}
for(position in wings){if(!wings.hasOwnProperty(position)){continue;}
wings[position]=sublime.document.createElement('div');wings[position].id="sublime-ad-shop-"+position;wings[position].style.width=gutterWidth+"px";sublime.document.body.insertBefore(wings[position],sublime.document.body.firstChild);if(data.prependWings&&data.prependWings[position]){wings[position].innerHTML=data.prependWings[position];wings[position].style.display='inline-block';}}
if(data.repeatProducts){data.repeatProducts=sublime.pInt(data.repeatProducts);var repeat=Math.ceil(data.repeatProducts / data.products.length);var products=[];for(i=0;i<repeat;i++){products=products.concat(data.products);}
data.products=products.slice(0,data.repeatProducts);}
for(i=0;i<data.products.length;i++){var product=data.products[i],target=i%2?'right':'left',itemUrl=sublime.display.getFinalClickUrl(ad,product.url),itemHTML='<div class="sublime-ad-item">'+'<a href="'+itemUrl+'" title="'+product.name+'" target="_blank">'+'<img class="sublime-ad-item-image" src="'+product.image+'" />'+'<div class="sublime-ad-item-name">'+product.name+'</div>';if(data.showPrice){itemHTML+='<div class="sublime-ad-item-price-container">';if(product.logo){itemHTML+='<img src="'+product.logo+'" class="sublime-ad-item-logo" />';}
if(product.price){if(product.price.match(/[Â£â¬$]/)){data.showCurrency=false;}
itemHTML+='<span class="sublime-ad-item-price">'+
product.price+
(data.showCurrency?'&euro;':'')+'</span>';}
if(product.discount_price){itemHTML+='<div class="sublime-ad-item-discount_price">'+product.discount_price+'</div>';}
if(product.discount){itemHTML+='<div class="sublime-ad-item-discount">'+product.discount+'</div>';}
itemHTML+='</div>';}
wings[target].innerHTML+=itemHTML;wings[target].style.display='inline-block';}
for(position in wings){if(!wings.hasOwnProperty(position)){continue;}
if(data.appendWings&&data.appendWings[position]){wings[position].innerHTML=data.appendWings[position];wings[position].style.display='inline-block';}}
adjustWings(wings,siteWidth);var resizeCallback=sublime.debounce(function(){adjustWings(wings,siteWidth);},10,true);sublime.window.addEventListener('resize',resizeCallback,false);sublime.hook.register('event.cleanUp',function clearEventListener(){sublime.window.removeEventListener('resize',resizeCallback,false);});};function adjustWings(wings,siteWidth){var sideWidth=Math.ceil((sublime.document.documentElement.clientWidth-siteWidth)/ 2);wings.left.style.left=sideWidth+"px";wings.right.style.right=sideWidth+"px";};sublime.helpers.createNamespace('sublime.display.mobile');sublime.display.mobile.adIsReady=function(ad){switch(ad.creative_type){case'mobile toproll classic':return topRollAdIsReady(ad);case'mobile m-skinz2 video':return sublime.display.mobile.panel2.mskinzVideo.adIsReady(ad);case'mobile m-skinz2 video simple':return sublime.display.mobile.panel2.mskinzSimple.adIsReady(ad);case'mobile m-skinz2':case'mobile m-skinz2-a':case'mobile m-skinz2 classic':case'mobile m-skinz2 capsule':case'mobile m-skinz2 video celtra':case'mobile m-skinz2 duo':case'mobile m-skinz2 sliding':case'mobile m-skinz2 story':case'mobile m-skinz2 swapping':case'mobile m-skinz2 travelling':case'mobile m-skinz2 vertical video':case'mobile m-skinz2 wipeable':case'mobile m-skinz2 plus':case'mobile m-skinz2 swipetosite':return sublime.display.mobile.panel2.mskinz.adIsReady(ad);case'mobile kargo sticky':return sublime.display.mobile.kargo.adIsReady(ad);case'mobile m-skinz video':return sublime.display.mobile.panel.mskinzVideo.adIsReady(ad);default:return sublime.display.mobile.panel.mskinz.adIsReady(ad);}};sublime.display.mobile.render=function(ad){applyOrientationClass();if(!sublime.display.mobile.isPortrait()){return;}
checkViewPortMeta();addOrientationEvents();if(ad.vpaid){sublime.info('VPAID > AdUnit provided by '+(ad.vpaid.provider||ad.vpaid.mediaFile));var player={};var adWithoutVideo=sublime.merge(ad,{mobile_setup:{top:{video:null}}});var displayClass=ad.isExternal?sublime.display.mobile.panel2.mskinzSimple:sublime.display.mobile.panel2.mskinzVideo;displayClass.render(adWithoutVideo).then(function(mskinzPlayer){return new sublime.Promise(function(resolve,reject){sublime.hook.register({namespace:sublime.display.mobile.panel2.mskinzVideo._hookNames.topImageLoaded,callback:function(){ad.vpaid.config={width:sublime.window.innerWidth,height:sublime.display.mobile.panel2.mskinzVideo._top.getMediaHeight(),viewMode:'normal',bitrate:100000,};if(sublime.display.mobile.panel2.mskinzVideo.videoSize){ad.vpaid.config.width=sublime.display.mobile.panel2.mskinzVideo.videoSize.top.width;ad.vpaid.config.height=sublime.display.mobile.panel2.mskinzVideo.videoSize.top.height;}
player=mskinzPlayer;try{resolve(sublime.vpaid.render(ad.vpaid,player));}catch(error){reject(error);}},once:true});});}).then(function(vpaidWrapper){sublime.hook.call('step.impression.before');sublime.vpaid.addExtraCss(ad.vpaid.provider);sublime.hook.register({namespace:sublime.vpaid.hookNames.adStopped,callback:function(){sublime.info("Reload video.");if(!ad.isExternal){sublime.vpaid.clean(player.container);vpaidWrapper.isDeleted=true;var ayadsVideo=player.video;ayadsVideo.src=ad.mobile_setup.top.video;ayadsVideo.loop=true;sublime.display.mobile.panel2.mskinzVideo._playVideo();}}});sublime.hook.register({namespace:sublime.display.mobile.panel2.mskinzVideo._hookNames.clickMuteBtn,callback:function(isMuted){var volume=isMuted?0:1;vpaidWrapper.setAdVolume(volume);}});vpaidWrapper.on('AdRemainingTimeChange',function(){var duration=vpaidWrapper._creative.getAdDuration();var remainingTime=vpaidWrapper._creative.getAdRemainingTime();var percentage=100*(duration-remainingTime)/ duration;var progressBar=sublime.document.querySelector('.sublime-mobile-loading-bar-progress');progressBar.style.width=percentage+'%';});sublime.hook.call('step.impression.after');});return;}
switch(ad.creative_type){case'mobile toproll classic':return topRollRender(ad);case'mobile m-skinz2 video':return sublime.display.mobile.panel2.mskinzVideo.render(ad);case'mobile m-skinz2 video simple':return sublime.display.mobile.panel2.mskinzSimple.render(ad);case'mobile m-skinz2':case'mobile m-skinz2-a':case'mobile m-skinz2 classic':case'mobile m-skinz2 capsule':case'mobile m-skinz2 video celtra':case'mobile m-skinz2 duo':case'mobile m-skinz2 sliding':case'mobile m-skinz2 story':case'mobile m-skinz2 swapping':case'mobile m-skinz2 travelling':case'mobile m-skinz2 vertical video':case'mobile m-skinz2 wipeable':case'mobile m-skinz2 plus':case'mobile m-skinz2 swipetosite':return sublime.display.mobile.panel2.mskinz.render(ad);case'mobile kargo sticky':return sublime.display.mobile.kargo.render(ad);case'mobile m-skinz video':return sublime.display.mobile.panel.mskinzVideo.render(ad);case'mobile m-skinz shop':return sublime.display.mobile.panel.mskinzShop.render(ad);default:return sublime.display.mobile.panel.mskinz.render(ad);}};function addOrientationEvents(){sublime.window.addEventListener('orientationchange',applyOrientationClass);sublime.window.addEventListener('resize',applyOrientationClass);sublime.hook.register('event.cleanUp',function clearEventListeners(){sublime.window.removeEventListener('orientationchange',applyOrientationClass);sublime.window.removeEventListener('resize',applyOrientationClass);});}
function checkViewPortMeta(){var viewport=sublime.document.querySelector('meta[name="viewport"]');if(!viewport){viewport=sublime.document.createElement('meta');viewport.id='sublime-viewport';viewport.name='viewport';sublime.document.querySelector('head').appendChild(viewport);}
viewport.content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0';}
function getOrientation(){return(sublime.window.innerHeight<sublime.window.innerWidth)?'landscape':'portrait';}
function applyOrientationClass(){sublime.document.body.classList.remove('sublime-portrait','sublime-landscape');sublime.document.body.classList.add('sublime-'+getOrientation());sublime.hook.call('event.mobile.orientationChange');}
sublime.display.mobile.isPortrait=function(){return getOrientation()==='portrait';};const START_PLAYBACK_POSITION=0;const END_PLAYBACK_POSITION=1;function range(value,min,max){min=Number(min)||0;max=Number(max)||0;let n=parseFloat(value);if(Number.isNaN(n)){n=min;}
if(String(value).slice(-1)==='%'){n=n / 100;}
return Math.min(Math.max(n,min),max);}
function videoProgress(video){return video.currentTime / video.duration;}
function normalizeTrackActions(actions){return Object.keys(actions).map(function(key){return{time:range(key,START_PLAYBACK_POSITION,END_PLAYBACK_POSITION),callback:actions[key]};}).filter(function(obj){return typeof obj.callback==='function';}).sort(function(a,b){return a.time>b.time?1:-1;});}
function trackVideoPlayback(video,trackActions,loop){let actions=normalizeTrackActions(trackActions);let prev=START_PLAYBACK_POSITION;function trigger(now){while(actions[0]&&now>=actions[0].time){const action=actions.shift();action.callback.call(null,now);}}
function onTimeUpdate(){const now=videoProgress(video);if(prev>now){if(actions.length>0){trigger(END_PLAYBACK_POSITION);}
if(loop){actions=normalizeTrackActions(trackActions);}}else{trigger(now);}
prev=now;}
video.addEventListener('timeupdate',onTimeUpdate);}
const VIDEO_QUARTILES=[];const pixelsVideo={videoQ0:{inherit:'_videoQuartile',qs:{e:'q0'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ1:{inherit:'_videoQuartile',qs:{e:'q1'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ2:{inherit:'_videoQuartile',qs:{e:'q2'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ3:{inherit:'_videoQuartile',qs:{e:'q3'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ4:{inherit:'_videoQuartile',qs:{e:'q4'},addBrowserDimensions:true,addPageHeightDimension:true,},complete:{inherit:'_commonSkinz',qs:{e:'complete'}},mute:{inherit:'_commonSkinz',qs:{e:'mute'}},unmute:{inherit:'_commonSkinz',qs:{e:'unmute'}},rewind:{inherit:'_commonSkinz',qs:{e:'rewind'}},pause:{inherit:'_commonSkinz',qs:{e:'pause'}},resume:{inherit:'_commonSkinz',qs:{e:'resume'}},creativeView:{inherit:'_commonSkinz',qs:{e:'creativeView'}},videoStartedLoading:{inherit:'_commonSkinz',qs:{e:'vsl'}},videoCanplaythrough:{inherit:'_commonSkinz',qs:{e:'dicpt'}},videoLoadeddata:{inherit:'_commonSkinz',qs:{e:'dild'}},videoPlaying:{inherit:'_commonSkinz',qs:{e:'dip'}},};function initVideoQuartiles(){if(VIDEO_QUARTILES.length>0){return;}
window.sublime.analytics.setPixels(32097,pixelsVideo);['start','firstQuartile','midPoint','thirdQuartile','complete',].forEach(function init(name,quartile){const hook=window.sublime.hook;const analytics=window.sublime.analytics;const namespace='step.video.quartile'+quartile;hook.register(namespace,function registerHooks(){analytics.fire(32097,'videoQ'+quartile);});VIDEO_QUARTILES.push({name:name,namespace:namespace});});}
function setUpVideoQuartiles(video){const hook=window.sublime.hook;initVideoQuartiles();trackVideoPlayback(video,VIDEO_QUARTILES.reduce(function makeTrackers(trackers,info,quartile){const name=info.name;const namespace=info.namespace;trackers[quartile / 4]=function cb(){hook.call(namespace,{duration:video.duration,currentTime:video.currentTime,quartile:quartile,quartileName:name,});};return trackers;},{}),);}
function getOptimalVideoHeight(container){const isLandscape=container.innerWidth>container.innerHeight;if(isLandscape){return{optimal:container.innerHeight / 4,min:container.innerHeight / 8,max:container.innerHeight / 2,};}
const VIDEO_RATIO_HEIGHT=9 / 16;const root=container.document.documentElement;const width=Math.max(root.clientWidth,container.innerWidth);const height=width*VIDEO_RATIO_HEIGHT;return{optimal:height,min:height / 2,max:container.innerHeight,};}
function topRollNormalizeData(ad){let type;let video;try{if(ad.creative_type==='mobile toproll classic'){type='mobile';}else if(ad.creative_type==='video toproll classic'){type='desktop';}
if(type==='mobile'){video=ad.mobile_setup.top.video;}else if(type==='desktop'){video=ad.videos.top;}}catch(e){type=undefined;video=undefined;}
return{type:type,video:video,};}
function topRollBuildDOMTree(container){const doc=container.document;const sublimeContainer=doc.createElement('div');sublimeContainer.id='sublime-container';const wrapper=doc.createElement('div');wrapper.id='sublime-video-wrapper';const videoBackground=doc.createElement('video');videoBackground.id='sublime-video-background';const video=doc.createElement('video');video.id='sublime-video';['muted','loop','autoplay','playsinline'].forEach(function setupAttributes(attributeName){videoBackground.setAttribute(attributeName,'');video.setAttribute(attributeName,'');videoBackground[attributeName]=true;video[attributeName]=true;});const videoOverlay=doc.createElement('div');videoOverlay.id='sublime-video-overlay';const soundButton=doc.createElement('span');soundButton.id='sublime-ui-sound';soundButton.className='sublime--hide sublime--muted';soundButton.setAttribute('role','button');sublimeContainer.appendChild(wrapper);wrapper.appendChild(videoBackground);wrapper.appendChild(video);wrapper.appendChild(videoOverlay);videoOverlay.appendChild(soundButton);return{container:sublimeContainer,videoWrapper:wrapper,video:video,videoBackground:videoBackground,videoOverlay:videoOverlay,soundButton:soundButton,};}
function adjustLandscape(mHeight,container,nodes){const video=nodes.video;const videoWrapper=nodes.videoWrapper;const videoBackground=nodes.videoBackground;const height=Math.max(mHeight.min,mHeight.max-container.scrollY);videoWrapper.style.height=height+'px';videoBackground.style.height=height+'px';if(height<mHeight.optimal){video.style.height=mHeight.optimal+'px';video.style.transform='translateY(-'+((1-height / mHeight.optimal)*100)/ 2+'%)';}}
function adjustPortrait(mHeight,container,nodes){const videoWrapper=nodes.videoWrapper;const videoBackground=nodes.videoBackground;const height=Math.max(mHeight.min,mHeight.max-container.scrollY);videoWrapper.style.height=height+'px';if(height<mHeight.optimal){videoBackground.style.height=height+'px';}else{videoBackground.style.height=mHeight.max+'px';}}
function adjustVideoSizeFactory(frame,nodes){const container=nodes.container;const video=nodes.video;return function adjustVideoSize(){const height=getOptimalVideoHeight(frame);container.style.height=height.max+'px';video.style.height='';video.style.transform='';if(frame.innerWidth>frame.innerHeight){adjustLandscape(height,frame,nodes);}else{adjustPortrait(height,frame,nodes);}};}
function topRollBindEventForSound(container,nodes){const video=nodes.video;const wrapper=nodes.videoWrapper;container.addEventListener('scroll',function toggleSoundOnScroll(){if(container.scrollY===0&&video.dataset.userAction==='click'){video.muted=false;}
if(container.scrollY>0){video.muted=true;}});wrapper.addEventListener('click',function toggleSoundOnClick(){video.dataset.userAction='click';if(container.scrollY===0){video.muted=!video.muted;}});}
function topRollBindEventForSoundUI(container,nodes){const video=nodes.video;const soundIcon=nodes.soundButton;container.addEventListener('scroll',function toggleSoundOnScroll(){soundIcon.classList.toggle('sublime--hide',container.scrollY!==0);});video.addEventListener('volumechange',function updateSoundUI(){soundIcon.classList.toggle('sublime--muted',video.muted);});}
function topRollAdIsReady(ad){const mobile=ad.creative_type==='mobile toproll classic'&&sublime.helpers.hasProperty(ad,'mobile_setup.top.video')&&sublime.isUrl(ad.mobile_setup.top.video);const desktop=ad.creative_type==='video toproll classic'&&sublime.helpers.hasProperty(ad,'videos.top')&&sublime.isUrl(ad.videos.top);return sublime.isUrl(ad.url)&&(mobile||desktop);}
function topRollRender(ad,targetContainer){const hook=window.sublime.hook;const data=topRollNormalizeData(ad);const container=targetContainer||sublime.window;sublime.helpers.addCss(['#sublime-container {','transition: all .5s','}','#sublime-container .sublime--hide {','opacity: 0;','pointer-events: none;','}','#sublime-video-wrapper {','position: fixed;','z-index: 999999;','top: 0;','height: 100%;','width: 100%;','overflow: hidden;','background-color: white;','}','#sublime-video {','height: 100%;','width: 100%;','}','#sublime-video-background {','position:absolute;','z-index: -1;','height: 100%;','width: 100%;','object-fit: cover;','filter: blur(10px);','transform: scale(1.1);','}','#sublime-video-overlay {','position:absolute;','top:0;','left:0;','z-index: 2;','width: 100%;','height: 100%;','}','#sublime-ui-sound {','position:absolute;','bottom: 2vh;','left: 2vh;','width: 6vw;','height: 6vw;','background: url(\'data:image/svg+xml,',encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><path fill="#FFF" d="M154.9,96a39.26,39.26,0,0,0-21.81-35.16v70.24A39,39,0,0,0,154.9,96ZM37.1,78.59V113.5a8.74,8.74,0,0,0,8.72,8.72H72l28.71,28.71a8.75,8.75,0,0,0,14.92-6.19V47.26a8.75,8.75,0,0,0-14.92-6.19L72,69.86H45.82A8.75,8.75,0,0,0,37.1,78.59Z"/></svg>'),'\');','background-size: contain;','filter: drop-shadow(0 0 10px rgba(0,0,0,.25));','opacity: 1;','transition: opacity 300ms;','}','#sublime-ui-sound.sublime--muted {','background-image: url(\'data:image/svg+xml,',encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"><path fill="#FFF" d="M56.73,78.59V113.5a8.75,8.75,0,0,0,8.73,8.72H91.64l28.71,28.71a8.75,8.75,0,0,0,14.92-6.19V47.26a8.75,8.75,0,0,0-14.92-6.19L91.64,69.86H65.46A8.76,8.76,0,0,0,56.73,78.59Z"/></svg>'),'\');','}',].join(' '));const nodes=topRollBuildDOMTree(container);const adjustVideoSize=adjustVideoSizeFactory(container,nodes);setUpVideoQuartiles(nodes.video);hook.call('step.impression.before');const doc=container.document;doc.body.insertBefore(nodes.container,doc.body.firstChild);container.addEventListener('scroll',adjustVideoSize);container.addEventListener('resize',adjustVideoSize);container.addEventListener('orientationchange',adjustVideoSize);nodes.videoWrapper.addEventListener('click',function moveToVideoExpand(){container.scrollTo({top:0,behavior:'smooth'});});topRollBindEventForSoundUI(container,nodes);topRollBindEventForSound(container,nodes);if(container.scrollY===0){const height=getOptimalVideoHeight(container);const userBehavior=doc.documentElement.style.scrollBehavior;doc.documentElement.style.scrollBehavior='auto';nodes.container.style.height=height.max+'px';container.scrollTo(0,height.max-height.optimal);doc.documentElement.style.scrollBehavior=userBehavior;}
adjustVideoSize();[nodes.video,nodes.videoBackground].forEach(function boundVideoSrc(v){v.setAttribute('src',data.video);});hook.call('step.impression.after');}
sublime.helpers.createNamespace('sublime.display.mobile.panel2');var mskinzHookNames={topCloseButtonClicked:'event.mobile.topCloseButtonClicked',topAutoHide:'event.mobile.topAutoHide',beforeClosePanel:'event.mobile.beforeClosePanel',afterClosePanel:'event.mobile.afterClosePanel',beforeOpenPanel:'event.mobile.beforeOpenPanel',afterOpenPanel:'event.mobile.afterOpenPanel',swipeToPanel:'event.mobile.swipeToPanel',swipeToMainPage:'event.mobile.swipeToMainPage',orientationChange:'event.mobile.orientationChange',arrowReady:'step.mobile.arrowReady',swiperCreated:'event.mobile.swiperCreated',topImageLoaded:'event.mobile.topImageLoaded',swiperTouchStart:'event.mobile.swiperTouchStart',swiperTouchCancel:'event.mobile.swiperTouchCancel',bottomReady:'step.mobile.bottomReady',closePanel:'event.mobile.closePanel',openPanel:'event.mobile.openPanel',click:'event.mobile.click',clickTop:'event.mobile.clickTop',clickBottom:'event.mobile.clickBottom',clickPanel:'event.mobile.clickPanel',topReady:'step.mobile.topReady',panelReady:'step.mobile.panelReady',domInteractive:'dom.interactive',};var cdn=sublime.env('delivery_url');var pixelsMskinzAbstract={close:{inherit:'_commonSkinz',qs:{e:'close'}},topView:{inherit:'_commonSkinz',qs:{e:'mtv'}},bottomView:{inherit:'_commonSkinz',qs:{e:'mbv'}},panelView:{inherit:'_commonSkinz',qs:{e:'mp0'}},panelViewSec1:{inherit:'_commonSkinz',qs:{e:'mp1'}},panelViewSec3:{inherit:'_commonSkinz',qs:{e:'mp3'}},};var NAVBAR_ZINDEX=2147483647;var PANEL_ZINDEX=NAVBAR_ZINDEX-1;var DOUBLE_BUFF_IMAGE_ZINDEX=PANEL_ZINDEX-1;sublime.display.mobile.panel2.swiperContainer=null;sublime.display.mobile.panel2.hookNames=mskinzHookNames;sublime.display.mobile.panel2.adIsReady=function mskinzAdIsReady(ad){if(!ad.isRedirect&&!sublime.isUrl(ad.url)){return false;}
var elementToTest=['top','bottom','panel'];var isReady=true;for(var i in elementToTest){if(!elementToTest.hasOwnProperty(i)){continue;}
var element=elementToTest[i];var hasElement=!!(ad.mobile_setup[element]&&ad.mobile_setup[element].key&&sublime.isUrl(ad.mobile_setup[element].src)&&ad.mobile_setup[element].type);isReady=isReady&&hasElement;}
return isReady;};sublime.display.mobile.panel2.render=function mskinzRender(ad){ad.click_url_top_final=sublime.display.getFinalClickUrl(ad,null,'mct');ad.click_url_panel_final=sublime.display.getFinalClickUrl(ad,null,'mcp');ad.click_url_bottom_final=sublime.display.getFinalClickUrl(ad,null,'mcb');sublime.hook.register(mskinzHookNames.domInteractive,function mskinzDomInteractive(){loadSwiperLibraryAndDisplayAd(ad);});};sublime.display.mobile.panel2.openClosePanel=function openClosePanel(open){if(open&&sublime.display.mobile.panel2.swiperContainer.isMainPage()){sublime.hook.call(mskinzHookNames.swipeToPanel);}else{sublime.display.mobile.panel2.swiperContainer.swipeToMainPage();}};sublime.display.mobile.panel2.getComponent=function mskinzGetComponent(key){var swiperContainer=sublime.display.mobile.panel2.swiperContainer;var components={top:swiperContainer.top.element,close_button:swiperContainer.top.closeButton.element,arrowContainer:swiperContainer.arrow.element,arrow:swiperContainer.arrow.element,bottom:swiperContainer.bottom.element,panel:swiperContainer.panel.element,};return components[key]||null;};function loadSwiperLibraryAndDisplayAd(ad){sublime.analytics.setPixels(32097,pixelsMskinzAbstract);setPixelSwipeMacro(ad);sublime.hook.call('step.impression.before');var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3};setupZoneAdMskinzAbstract(zone,ad);initMskinz(zone,ad);sublime.hook.call('step.impression.after');}
function initMskinz(zone,ad){sublime.display.addCss({mskinzV2:"/** * Swiper 4.4.2 * Most modern mobile touch slider and framework with hardware accelerated transitions * http://www.idangero.us/swiper/ * * Copyright 2014-2018 Vladimir Kharlampidi * * Released under the MIT License * * Released on: December 18, 2018 */.swiper-container {    margin: 0 auto;    position: relative;    overflow: hidden;    list-style: none;    padding: 0;    z-index: 1}.swiper-container-no-flexbox .swiper-slide {    float: left}.swiper-container-vertical > .swiper-wrapper {    -webkit-box-orient: vertical;    -webkit-box-direction: normal;    -webkit-flex-direction: column;    -ms-flex-direction: column;    flex-direction: column}.swiper-wrapper {    position: relative;    width: 100%;    height: 100%;    z-index: 1;    display: -webkit-box;    display: -webkit-flex;    display: -ms-flexbox;    display: flex;    -webkit-transition-property: -webkit-transform;    transition-property: -webkit-transform;    -o-transition-property: transform;    transition-property: transform;    transition-property: transform, -webkit-transform;    -webkit-box-sizing: content-box;    box-sizing: content-box}.swiper-container-android .swiper-slide, .swiper-wrapper {    -webkit-transform: translate3d(0, 0, 0);    transform: translate3d(0, 0, 0)}.swiper-container-multirow > .swiper-wrapper {    -webkit-flex-wrap: wrap;    -ms-flex-wrap: wrap;    flex-wrap: wrap}.swiper-container-free-mode > .swiper-wrapper {    -webkit-transition-timing-function: ease-out;    -o-transition-timing-function: ease-out;    transition-timing-function: ease-out;    margin: 0 auto}.swiper-slide {    -webkit-flex-shrink: 0;    -ms-flex-negative: 0;    flex-shrink: 0;    width: 100%;    height: 100%;    position: relative;    -webkit-transition-property: -webkit-transform;    transition-property: -webkit-transform;    -o-transition-property: transform;    transition-property: transform;    transition-property: transform, -webkit-transform}.swiper-slide-invisible-blank {    visibility: hidden}.swiper-container-autoheight, .swiper-container-autoheight .swiper-slide {    height: auto}.swiper-container-autoheight .swiper-wrapper {    -webkit-box-align: start;    -webkit-align-items: flex-start;    -ms-flex-align: start;    align-items: flex-start;    -webkit-transition-property: height, -webkit-transform;    transition-property: height, -webkit-transform;    -o-transition-property: transform, height;    transition-property: transform, height;    transition-property: transform, height, -webkit-transform}.swiper-container-3d {    -webkit-perspective: 1200px;    perspective: 1200px}.swiper-container-3d .swiper-cube-shadow, .swiper-container-3d .swiper-slide, .swiper-container-3d .swiper-slide-shadow-bottom, .swiper-container-3d .swiper-slide-shadow-left, .swiper-container-3d .swiper-slide-shadow-right, .swiper-container-3d .swiper-slide-shadow-top, .swiper-container-3d .swiper-wrapper {    -webkit-transform-style: preserve-3d;    transform-style: preserve-3d}.swiper-container-3d .swiper-slide-shadow-bottom, .swiper-container-3d .swiper-slide-shadow-left, .swiper-container-3d .swiper-slide-shadow-right, .swiper-container-3d .swiper-slide-shadow-top {    position: absolute;    left: 0;    top: 0;    width: 100%;    height: 100%;    pointer-events: none;    z-index: 10}.swiper-container-3d .swiper-slide-shadow-left {    background-image: -webkit-gradient(linear, right top, left top, from(rgba(0, 0, 0, .5)), to(rgba(0, 0, 0, 0)));    background-image: -webkit-linear-gradient(right, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: -o-linear-gradient(right, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: linear-gradient(to left, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0))}.swiper-container-3d .swiper-slide-shadow-right {    background-image: -webkit-gradient(linear, left top, right top, from(rgba(0, 0, 0, .5)), to(rgba(0, 0, 0, 0)));    background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: -o-linear-gradient(left, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: linear-gradient(to right, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0))}.swiper-container-3d .swiper-slide-shadow-top {    background-image: -webkit-gradient(linear, left bottom, left top, from(rgba(0, 0, 0, .5)), to(rgba(0, 0, 0, 0)));    background-image: -webkit-linear-gradient(bottom, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: -o-linear-gradient(bottom, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: linear-gradient(to top, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0))}.swiper-container-3d .swiper-slide-shadow-bottom {    background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, .5)), to(rgba(0, 0, 0, 0)));    background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: -o-linear-gradient(top, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0));    background-image: linear-gradient(to bottom, rgba(0, 0, 0, .5), rgba(0, 0, 0, 0))}.swiper-container-wp8-horizontal, .swiper-container-wp8-horizontal > .swiper-wrapper {    -ms-touch-action: pan-y;    touch-action: pan-y}.swiper-container-wp8-vertical, .swiper-container-wp8-vertical > .swiper-wrapper {    -ms-touch-action: pan-x;    touch-action: pan-x}.swiper-container-coverflow .swiper-wrapper {    -ms-perspective: 1200px}#sublime-mobile-top {    overflow: hidden;}#sublime-mobile-top-container {    width: 100%;    left: 0;    top: 0;    position: absolute;    -webkit-transition: left .5s linear;    -moz-transition: left .5s linear;    -ms-transition: left .5s linear;    -o-transition: left .5s linear;    transition: left .5s linear;}.sublime-mobile-top-container-v {    background: #eee;    height: 100vh;    overflow-y: hidden;}#sublime-top-tooltip svg {    position: absolute;    top: 50%;    right: 6vw;    width: 4vw;    transform: translateY(-50%);    -webkit-transform: translateY(-50%);    -moz-transform: translateY(-50%);    -ms-transform: translateY(-50%);    -o-transform: translateY(-50%);}#sublime-position-indicator-block {    display: none;}#sublime-mobile-top-container.sublime-top-fixed {    top: 0 !important;    position: fixed !important;}#sublime-mobile-top-container .swiper-slide {    text-align: center;    font-size: 18px;    background: #fff;}#sublime-mobile-top-container .swiper-slide img {    width: 100%;}#sublime-mobile-top-container .swiper-slide {    background-color: transparent;    background-repeat: no-repeat;    background-position: top;}#sublime-mobile-top-container .sublime-panel-slide {    height: 100vh !important;    background-position: center;    background-size: cover;}#sublime-top-tooltip svg {    position: absolute;    top: 50%;    right: 6vw;    width: 4vw;    transform: translateY(-50%);    -webkit-transform: translateY(-50%);    -moz-transform: translateY(-50%);    -ms-transform: translateY(-50%);    -o-transform: translateY(-50%);}#sublime-panel-navbar {    position: fixed;    top: 0;    right: 0;    left: 0;    width: 100%;    background-color: rgba(0, 0, 0, 0.5);    height: 6.4vh;    line-height: 6.4vh;    vertical-align: middle;    text-align: center;    transition: opacity .3s linear;    -webkit-transition: opacity .3s linear;    -moz-transition: opacity .3s linear;    -ms-transition: opacity .3s linear;    -o-transition: opacity .3s linear;    opacity: 0;}#sublime-panel-navbar #sublime-mobile-panel-arrow {    position: absolute;    left: 2.5vw;    width: 5.4vw;    margin: 1.8vh 0;}#sublime-panel-navbar .sublime-brand {    max-height: 90%;    max-width: 80%;    width: auto;    height: auto;    position: absolute;    top: 0;    bottom: 0;    left: 0;    right: 0;    margin: auto;}#sublime-mobile-top-container {    overflow: hidden;}#sublime-mobile-top-close {    position: fixed;    width: 25px;    opacity: 0;    -webkit-transition: opacity .3s ease-in;    -moz-transition: opacity .3s ease-in;    -ms-transition: opacity .3s ease-in;    -o-transition: opacity .3s ease-in;    transition: opacity .3s ease-in;    height: 25px;    top: 4px;    right: 4px;    background-size: contain;    background-repeat: no-repeat;    background-image: url(https://cdn.ayads.co/creatives/commons/close-up.svg);}#sublime-mobile-top-timer {    position: fixed;    width: 6.4vw;    height: 6.4vw;    line-height: 6.4vw;    top: 1vh;    right: 1vh;    text-align: center;    border-radius: 50%;    opacity: 0;    -webkit-transition: opacity .3s ease-in;    -moz-transition: opacity .3s ease-in;    -ms-transition: opacity .3s ease-in;    -o-transition: opacity .3s ease-in;    transition: opacity .3s ease-in;    border: 1px solid white;    color: white;}#sublime-mobile-top-container .sublime-hidden, .sublime-hidden {    display: none;}#sublime-overlay {    position: fixed;    width: 100%;    height: 100%;    top: 0;    left: 0;    right: 0;    bottom: 0;    background-color: rgba(0, 0, 0, 0.5);    opacity: 1;    -webkit-transition: opacity .5s linear;    -moz-transition: opacity .5s linear;    -ms-transition: opacity .5s linear;    -o-transition: opacity .5s linear;    transition: opacity .5s linear;}#sublime-mobile-panel-arrow-container {    transition: margin .3s ease-in;    position: fixed !important;    right: 0;    transform: translateY(-50%);    -webkit-transform: translateY(-50%);    -moz-transform: translateY(-50%);    -ms-transform: translateY(-50%);    -o-transform: translateY(-50%);    margin-right: -80px;}#sublime-mobile-panel-arrow-container svg {    width: 76px;}#mobile-panel-top-arrow-container {    position: absolute;    right: 0;    z-index: 2;    top: 40px;    height: 50px;}#mobile-panel-top-arrow-container-img {    height: 100%;    width: inherit !important;}.swiper-button-next-v {    left: 30% !important;    bottom: 4vh !important;    right: auto !important;    top: auto !important;    -webkit-transform: rotate(90deg) translateX(-50%);    -moz-transform: rotate(90deg) translateX(-50%);    -ms-transform: rotate(90deg) translateX(-50%);    -o-transform: rotate(90deg) translateX(-50%);    transform: rotate(90deg) translateX(-50%);}.swiper-button-prev-v {    left: 70% !important;    top: 8vh !important;    right: auto !important;    bottom: auto !important;    -webkit-transform: rotate(-90deg) translateX(-50%);    -moz-transform: rotate(-90deg) translateX(-50%);    -ms-transform: rotate(-90deg) translateX(-50%);    -o-transform: rotate(-90deg) translateX(-50%);    transform: rotate(-90deg) translateX(-50%);}#sublime-container-swipe {    cursor: pointer;    background: white;    position: absolute;    bottom: 90px;    right: 1.2vh;    height: 30px;    text-align: left;    width: 180px;    z-index: 3;    border-radius: 15px;    overflow: hidden;    border: 1px solid rgb(211, 211, 211);    font-family: \'Arvo\', serif;    transition: width .15s linear;    -webkit-transition: width .15s linear;    -moz-transition: width .15s linear;    -ms-transition: width .15s linear;    -o-transition: width .15s linear;}#sublime-container-swipe #sublime-text-swipe {    line-height: 2.5;    margin-left: 10px;    font-size: 12px;    position: absolute;    text-transform: uppercase;    transition: opacity .1s linear;    -webkit-transition: opacity .1s linear;    -moz-transition: opacity .1s linear;    -ms-transition: opacity .1s linear;    -o-transition: opacity .1s linear;}#sublime-icon-swipe {    width: 40px !important;    position: absolute;    top: -5px;    right: 0;}#sublime-animation-3 {    width: 70px !important;    z-index: 3;    position: absolute;    bottom: 20px;    right: calc(50% - 55px);    -webkit-animation: tooltip-animation3 1.6s infinite linear; /* Safari 4.0 - 8.0 */    animation: tooltip-animation3 1.6s infinite linear;    opacity: 0.84;    transition: opacity 1s linear;    -webkit-transition: opacity 1s linear;    -moz-transition: opacity 1s linear;    -ms-transition: opacity 1s linear;    -o-transition: opacity 1s linear;}/* Safari 4.0 - 8.0 */@-webkit-keyframes tooltip-animation3 {    0% {        left: calc(50% - 55px);    }    50% {        left: calc(50% - 15px);    }    100% {        left: calc(50% - 55px);    }}@keyframes tooltip-animation3 {    0% {        left: calc(50% - 55px);    }    50% {        left: calc(50% - 15px);    }    100% {        left: calc(50% - 55px);    }}/* Footer */#sublime-mobile-bottom-container {    background-color: rgb(255, 255, 255);    width: 100%;    position: absolute;    left: 0;    -webkit-transform: translate3d(0, 200px, 0);    -moz-transform: translate3d(0, 200px, 0);    -ms-transform: translate3d(0, 200px, 0);    -o-transform: translate3d(0, 200px, 0);    transform: translate3d(0, 200px, 0);    -webkit-transition: -webkit-transform .3s ease;    -moz-transition: -moz-transform .3s ease;    -ms-transition: -ms-transform .3s ease;    transition: transform .3s ease;}#sublime-mobile-bottom-container img {    width: 100%;}#sublime-mobile-bottom-container.sublime-fixed-footer {    position: fixed !important;    left: 0;    bottom: 0 !important;    width: 100%;    z-index: 996;}#sublime-top-tooltip {    height: 100%;    line-height: 100%;    width: 16vw;    z-index: 3;    float: right;    position: absolute;    right: -16vw;    top: 0;    background-color: rgba(0, 0, 0, 0.35);    -webkit-transition: right .5s linear;    -moz-transition: right .5s linear;    -ms-transition: right .5s linear;    -o-transition: right .5s linear;    transition: right .5s linear;}.bounce-out-right {    -webkit-animation: bounce-out-right 2.5s both;    animation: bounce-out-right 2.5s both;}@-webkit-keyframes bounce-out-right {    0% {        -webkit-transform: translateX(0);        transform: translateX(0);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    15% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    25% {        -webkit-transform: translateX(-14vw);        transform: translateX(-14vw);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    35% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    45% {        -webkit-transform: translateX(-15vw);        transform: translateX(-15vw);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    55% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    85% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);    }    100% {        -webkit-transform: translateX(0);        transform: translateX(0);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }}@keyframes bounce-out-right {    0% {        -webkit-transform: translateX(0);        transform: translateX(0);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    15% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    25% {        -webkit-transform: translateX(-14vw);        transform: translateX(-14vw);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    35% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    45% {        -webkit-transform: translateX(-14vw);        transform: translateX(-14vw);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }    55% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);        -webkit-animation-timing-function: ease-out;        animation-timing-function: ease-out;    }    85% {        -webkit-transform: translateX(-16vw);        transform: translateX(-16vw);    }    100% {        -webkit-transform: translateX(0);        transform: translateX(0);        -webkit-animation-timing-function: ease-in;        animation-timing-function: ease-in;    }}#animation4-images-container {    animation: animation4-image 5s infinite;    animation-delay: 1s;    transform-origin: center;}.animation4-image-copy {    position: absolute;    top: 0;    left: 100%;    margin-left: 7%;}#animation4-gesture {    position: absolute;    left: 50%;    width: 60px !important;    height: 83px;    bottom: -10px;    opacity: .7;    animation: animation4-gesture 5s infinite;    animation-delay: 1s;    transform: translate3d(100%, 100%, 0);    filter: drop-shadow(0 0 1px #000);}#animation4-arrow {    position: absolute;    right: -50px;    width: 50px !important;    top: calc(50% - 13px);    height: 26px;    animation: animation4-arrow 5s infinite;    animation-delay: 1s;    opacity: .7;    filter: drop-shadow(0 0 1px #000);}@keyframes animation4-image {    10% {        transform: none;    }    20% {        transform: scale(.9);    }    30% {        transform: translate3d(-50px, 0, 0) scale(.9)    }    43% {        transform: translate3d(-50px, 0, 0) scale(.9);    }    53% {        transform: translate3d(0, 0, 0) scale(.9);    }    63% {        transform: scale(1);    }}@keyframes animation4-gesture {    10% {        transform: translate3d(0, 0, 0);    }    20% {        transform: scale(.8);    }    30% {        transform: translate3d(-50px, 0, 0) scale(.8);    }    43% {        transform: translate3d(-50px, 0, 0) scale(.8);    }    53% {        transform: translate3d(0, 0, 0) scale(.8);        opacity: .7;    }    63% {        opacity: 0;    }    100% {        opacity: 0;    }}@keyframes animation4-arrow {    20% {        transform: translate3d(0, 0, 0);    }    30% {        transform: translate3d(-80px, 0, 0);    }    43% {        transform: translate3d(-80px, 0, 0);    }    53% {        transform: translate3d(0, 0, 0);    }}#panel-double-buffer-image {    position: fixed;    width: 100vh;    height: 100vh;    top: 0;    left: 0;    right: 0;    bottom: 0;    background-position: center;    background-size: cover;}/* MSkinz Video */#sublime-mobile-video-container {    width: 100% !important;    height: auto !important;    position: absolute;    top: 0;    line-height: 0;}.sublime-mobile-video-mute {    position: absolute;    width: 23px;    height: 23px;    bottom: 4px;    left: 4px;    z-index: 4;    background-size: contain;    background-repeat: no-repeat;}.mute-animation {    animation-name: muteScale;    animation-duration: 1s;    animation-iteration-count: infinite;    animation-direction: alternate;    animation-timing-function: ease-in-out;}.sublime-mobile-video-mute.muteOff {    background-image: url(https://cdn.ayads.co/creatives/commons/volume-up.svg);}.sublime-mobile-video-mute.muteOn {    background-image: url(https://cdn.ayads.co/creatives/commons/volume-down.svg);}@keyframes muteScale {    0% {        transform: scale(1);    }    50% {        transform: scale(1);    }    100% {        transform: scale(1.1);    }}@keyframes countdownFixSafari {    0% {        transform: scale(1);    }    100% {        transform: scale(1);    }}.sublime-mobile-loading-bar {    position: absolute;    bottom: 0;    height: 3px;    width: 100%;    background-color: rgba(255, 255, 255);}.sublime-mobile-loading-bar-progress {    position: relative;    height: 3px;    width: 0%;    background-color: rgba(233, 83, 29);}.sublime-mobile-video-play-controls {    height:100%;    width:100%;    display:flex;    justify-content:center;    align-items:center;    background:no-repeat center;    position:absolute;    background-size:contain;    z-index:1;    bottom:0;}#sublime-mobile-video-buttons-play {    height:37px;    width:37px;    background-image:url(https://cdn.ayads.co/creatives/commons/icon-play.svg);}#play-video-pulsar{    position:absolute;    background:transparent;    border:1px solid white;    width:35px;    border-radius:50%;    height:35px;    z-index:5;    transform-origin:center;    animation-name:play-video-pulsar;    animation-duration:.5s;    animation-iteration-count:infinite;    animation-direction:alternate-reverse;    animation-timing-function:cubic-bezier(0.4,0,1,1);}@keyframes play-video-pulsar{    from {        transform:scale(1.5);        opacity:.2;    }    to {        transform:scale(1.2);        opacity:1;    }}#sublime-mobile-video-overlay {    height:100%;    width:100%;    position:inherit;    top:0;    left:0;    background-color:black;    opacity:0.5;}/* Move video on the panel when it open when class sublime-video-panel-open is set top the top container *//* This CSS replace the .appendChild() we did on the video container */#sublime-mobile-top-container.sublime-video-panel-open {    transform: none !important; /* Cancel 3d slide effects from swiper.js */}#sublime-mobile-top-container.sublime-video-panel-open #sublime-mobile-video-container {    top: 6.4vh; /* Margin of the return button */    left: 100% !important; /* This push the video to the left on the other panel */}#sublime-mobile-top-container.sublime-video-panel-open #sublime-mobile-panel-container {    z-index: -1 !important; /* Pass panel container behind video top */}#sublime-mobile-top-container.sublime-video-panel-open #sublime-mobile-top {    transform: none !important; /* Cancel 3d slide effects from swiper.js */    overflow: visible !important; /* Force video top to be print on the screen */}#sublime-mobile-top-container.sublime-video-panel-open #sublime-top-tooltip,#sublime-mobile-top-container.sublime-video-panel-open #sublime-mobile-top-image-copy {    display: none; /* Since we print the overflow of the mobile top on the panel, we need to hide the slide tooltip AND the copy image (DL-1168) */}.mksinz-simple #sublime-mobile-video-container video {  width: 100% !important;}.mksinz-simple .sublime-panel-slide #sublime-mobile-video-container {  transform: translateY(-50%);  top: 50% !important;}#sublime-fullscreen-icon {    filter: invert(100%);    height: 1.2em !important;    width: auto !important;    vertical-align: middle;    margin-top: -0.2em !important;}#sublime-fullscreen {    position: absolute;    top: calc(50vh + 50vw + 20px);    color: #FFF;    left: 50%;    transform: translateX(-50%);    border: 1px solid #FFF;    border-radius: 5px;    padding: 8px;    white-space: nowrap;    font-size: 4vw !important;}#sublime-fullscreen:active {    background: rgba(255, 255, 255, .3)}#ayads-html.sublime-landscape-display {    display: block !important}#sublime-mobile-video-bg {    position: absolute;    z-index: -1;    width: 100%;    left: 0;    top: 0;    height: 100%;    object-fit: cover;    filter: blur(5px);}.sublime-video-bottom-hidden {    display: none !important; }"}['mskinzV2']);var script=sublime.display.addJavascriptToHead(cdn+'mskinz/swiper.min.js');script.addEventListener('load',function(){initSwiperContainer(zone,ad);});}
function initSwiperContainer(zone,ad){sublime.display.mobile.panel2.swiperContainer=SwiperContainer.create(zone,ad);sublime.hook.call(mskinzHookNames.swiperCreated);}
function setupZoneAdMskinzAbstract(zone,ad){sublime.hook.call('step.setupZoneAd.before');if(zone.mobilecss){sublime.display.addCss(zone.mobilecss);}
if(zone.mobilejs){sublime.applyJs(zone.mobilejs);}
if(ad.mobile_setup.css){ad.mobile_setup.css=sublime.macros.replace(ad.mobile_setup.css,ad);sublime.display.addCss(ad.mobile_setup.css);}
if(ad.mobile_setup.js){ad.mobile_setup.js=sublime.macros.replace(ad.mobile_setup.js,ad);sublime.applyJs(ad.mobile_setup.js);}
if(ad.html){var clickMacro='';if(ad.isRedirect){clickMacro=ad.click_macro;}
var adWithMcp=sublime.merge(ad,{click_url:sublime.adServer.clickurlizeAntenna(clickMacro,'mcp')});ad.html=sublime.macros.replace(ad.html,adWithMcp);}
sublime.hook.call('step.setupZoneAd.after');}
function setPixelSwipeMacro(ad){if(!sublime.isUrl(ad.swipe_macro)){return;}
var pixels={'panelView.swipeMacro':{slot:'panelView.swipeMacro',url:ad.swipe_macro,repeat:3,},};sublime.analytics.setPixels(32097,pixels);}
PanelDoubleBuffLayer.create=function(transitionColors){return(new PanelDoubleBuffLayer())._init(transitionColors);};function PanelDoubleBuffLayer(){this.element=null;this.id='panel-double-buffer-image';this._init=function(transitionColors){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.style.zIndex=DOUBLE_BUFF_IMAGE_ZINDEX;this.hide();this.element.style.backgroundColor=(transitionColors&&transitionColors[1])||'#e9531d';sublime.display.getCreativeContainer().appendChild(this.element);return this;};this.show=function(){this.element.classList.remove('sublime-hidden');};this.hide=function(){this.element.classList.add('sublime-hidden');};}
TopTooltip.create=function(parentElement,tooltipType,topImage){return(new TopTooltip())._init(parentElement,tooltipType,topImage);};function TopTooltip(){this.id='sublime-top-tooltip';this.element=null;this.childElement=null;this._parentElement=null;this.tooltipType=null;this.arrow=null;this.gesture=null;this._init=function(parentElement,tooltipType,topImage){this._parentElement=parentElement;this.tooltipType=parseInt(tooltipType);switch(this.tooltipType){case 1:this._renderAnimation1();break;case 2:this._renderAnimation2();break;case 3:this._renderAnimation3();break;default:this._renderAnimation4(topImage);break;}
parentElement.appendChild(this.element);return this;};this._renderAnimation1=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();if(sublime.display.mobile.panel2.swiperContainer.isMainPage()){sublime.hook.call(mskinzHookNames.swipeToPanel);}});var svgNS=null;var svg=sublime.document.createElementNS('http://www.w3.org/2000/svg','svg');svg.setAttributeNS(svgNS,'viewBox','0 0 26.81 56.96');var path=sublime.document.createElementNS('http://www.w3.org/2000/svg','path');path.setAttributeNS(svgNS,'d','M26.06.66,1.34,28.48,26.06,56.29');path.setAttributeNS(svgNS,'fill','none');path.setAttributeNS(svgNS,'stroke','#fff');path.setAttributeNS(svgNS,'stroke-miterlimit','10');path.setAttributeNS(svgNS,'stroke-width','2');svg.appendChild(path);this.element.appendChild(svg);var self=this;function showAnimation(){self.element.classList.add('bounce-out-right');sublime.timer.setTimeout(function(){self.element.classList.remove('bounce-out-right');},2500);}
function resetAnimation(){self.element.style.transform='translateX(0)';}
showAnimation();sublime.timer.setInterval(function(){resetAnimation();showAnimation();},3500);};this._renderAnimation2=function(){var font=sublime.document.createElement('link');font.href='https://fonts.googleapis.com/css?family=Arvo';font.rel='stylesheet';sublime.document.getElementsByTagName('head')[0].appendChild(font);this.element=sublime.document.createElement('div');this.element.id='sublime-container-swipe';var tooltipText=sublime.document.createElement('span');tooltipText.id='sublime-text-swipe';tooltipText.innerHTML='SWIPE TO DISCOVER';this.element.appendChild(tooltipText);var tooltipIcon=sublime.document.createElement('img');tooltipIcon.id='sublime-icon-swipe';tooltipIcon.src=cdn+'mskinz/animation2_gesture.svg';this.element.appendChild(tooltipIcon);var showed=true;var self=this;function hideTooltip(){showed=false;tooltipText.style.opacity=0;sublime.timer.setTimeout(function(){self.element.style.width='40px';},100);}
function showTooltip(){showed=true;self.element.style.width='180px';sublime.timer.setTimeout(function(){tooltipText.style.opacity=1;},150);}
sublime.timer.setInterval(function(){showed?hideTooltip():showTooltip();},1500);};this._renderAnimation3=function(){this.element=sublime.document.createElement('div');this.element.id='sublime-animation-3';var image=sublime.document.createElement('img');image.src=cdn+'mskinz/animation3_gesture.png';image.addEventListener('load',function(){sublime.timer.setTimeout(function(){this.element.style.opacity=0;}.bind(this),5000);}.bind(this));this.element.appendChild(image);};this._renderAnimation4=function(topImage){this.element=sublime.document.createElement('div');this._parentElement.classList.add('sublime-animation-4');topImage.classList.add('sublime-animation-4-image');this.childElement=sublime.document.createElement('div');this.childElement.id='animation4-images-container';var self=this;sublime.timer.setTimeout(function(){self.childElement.appendChild(topImage);var topImageCopy=topImage.cloneNode();topImageCopy.id=topImageCopy.getAttribute('id')+'-copy';topImageCopy.classList.add('animation4-image-copy');self.childElement.appendChild(topImageCopy);},1000);this.element.appendChild(this.childElement);this.gesture=sublime.document.createElement('img');this.gesture.src=cdn+'mskinz/animation4_gesture.svg';this.gesture.id='animation4-gesture';this.element.appendChild(this.gesture);this.arrow=sublime.document.createElement('img');this.arrow.src=cdn+'mskinz/animation4_arrow.svg';this.arrow.id='animation4-arrow';this.element.appendChild(this.arrow);this.element.addEventListener('touchstart',this._disableTooltip.bind(this));};this._disableTooltip=function(){if(this.gesture){this.gesture.style.display='none';}
if(this.arrow){this.arrow.style.display='none';}
[this.gesture,this.arrow,this.childElement].forEach(function(element){if(element){element.style.animation='none';}});};}
TopCloseButton.create=function(){return(new TopCloseButton())._init();};function TopCloseButton(){this.id='sublime-mobile-top-close';this.element=null;this._isClicked=false;this._init=function(){this.element=sublime.document.createElement('div');this.element.style.zIndex=996;this.element.id=this.id;this._bindEvents();return this;};this._bindEvents=function(){this.element.addEventListener('click',function(e){e.preventDefault();sublime.hook.call(mskinzHookNames.topCloseButtonClicked);sublime.analytics.fire(32097,'close');this.fadeOut();this._isClicked=true;}.bind(this));};this.fadeOut=function(){this.element.style.opacity=0;this.element.style.zIndex=0;};this.fadeIn=function(){this.element.style.opacity=1;this.element.style.zIndex=998;};this.update=function(isMainPage,isSupportTopSticky,anchorScrollY){if(!this._isClicked&&isMainPage&&isSupportTopSticky&&sublime.window.pageYOffset>anchorScrollY){this.fadeIn();}else{this.fadeOut();}};}
TopTimer.create=function(autoHideDuration){return(new TopTimer())._init(autoHideDuration);};function TopTimer(){this.id='sublime-mobile-top-timer';this.element=null;this._autoHideDuration=0;this._interval=null;this._resetTime=0;this._finished=false;this._init=function(autoHideDuration){this._autoHideDuration=autoHideDuration;this.element=sublime.document.createElement('div');this.element.style.zIndex=996;this.element.id=this.id;return this;};this.fadeIn=function(){this.element.style.zIndex=998;this.element.style.opacity=1;};this.fadeOut=function(){this.element.style.opacity=0;this.element.style.zIndex=996;};this._updateText=function(){this.element.innerText=sublime.pInt(this._resetTime / 1000)+1;};this._clearTimerInterval=function(){this.fadeOut();sublime.timer.clearInterval(this._interval);this._interval=null;};this.update=function(isMainPage,isSupportTopSticky,anchorScrollY){if(this._finished||!isMainPage||!isSupportTopSticky||this._autoHideDuration<=0||sublime.window.pageYOffset<=anchorScrollY){this._clearTimerInterval();return;}
if(!this._interval){this._resetTime=this._autoHideDuration*1000-1;this._updateText();this.fadeIn();this._interval=sublime.timer.setInterval(function(){this._resetTime-=500;this._updateText();if(this._resetTime<=0){this._clearTimerInterval();this._finished=true;sublime.hook.call(mskinzHookNames.topAutoHide);}}.bind(this),500);}};}
TopContainer.create=function(ad,zoneFooterFixed,parentElement){return(new TopContainer())._init(ad,zoneFooterFixed,parentElement);};function TopContainer(){this.id='sublime-mobile-top';this.element=null;this.image=null;this._ad={};this._params={};this.parallaxSpeed=0.5;this.isSupportParallax=false;this.isSupportSticky=false;this._showTimer=false;this.tooltip=null;this.closeButton=null;this.originPaddingTop=0;this.originMarginTop=0;this.timer=null;this._isFirstShow=true;this._init=function(ad,zoneSupportSticky,parentElement){this._ad=ad;this._params=ad.mobile_setup.top;this.originMarginTop=parseFloat(getComputedStyle(parentElement).marginTop)||0;var adSupportSticky=this._params.autoHideTopDuration>0||this._params.supportTopClose;this.isSupportSticky=this._shouldSupportSticky(zoneSupportSticky,adSupportSticky);this._showTimer=!this._params.supportTopClose||this._params.autoHideTopDuration>0;this._createElement(this._params.src);this.resetParallax();this.tooltip=TopTooltip.create(this.element,this._params.tooltipType,this.image);if(this.isSupportSticky){if(this._showTimer){this.timer=TopTimer.create(this._params.autoHideTopDuration||3);parentElement.appendChild(this.timer.element);}else{this.closeButton=TopCloseButton.create();parentElement.appendChild(this.closeButton.element);}}
this._bindEvents();this.isInScreen();return this;};this._createElement=function(imageUrl){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.className='swiper-slide';this.image=sublime.document.createElement('img');this.image.id='sublime-mobile-top-image';this.image.src=imageUrl;this.image.addEventListener('load',function(){this.originPaddingTop=parseFloat(sublime.document.body.paddingTop||0)+this.originMarginTop;sublime.document.body.style.setProperty('padding-top',(this.originPaddingTop+this.image.clientHeight)+'px','important');sublime.hook.call(mskinzHookNames.topImageLoaded);}.bind(this));this.element.appendChild(this.image);};this._shouldSupportSticky=function(zoneSupportSticky,adSupportSticky){zoneSupportSticky=sublime.isDefined(zoneSupportSticky)?zoneSupportSticky:true;return!!Number(zoneSupportSticky)&&adSupportSticky;};this.getMediaHeight=function(){return this.image.clientHeight;};this._bindEvents=function(){var self=this;this.element.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();if(self.video&&self.video.isVpaid&&!self.video.vpaid.isDeleted){return;}
sublime.analytics.fire(32097,'click');if(self._params.showPanelWhenClicked&&sublime.display.mobile.panel2.swiperContainer.isMainPage()){sublime.hook.call(mskinzHookNames.swipeToPanel);}else{sublime.window.open(self._ad.click_url_top_final);sublime.hook.call(mskinzHookNames.click);sublime.hook.call(mskinzHookNames.clickTop);}});};this.resetParallax=function(){this.isSupportParallax=this._params.supportTopParallax||false;};this.disableParallax=function(){this.isSupportParallax=false;};this.disableSupportSticky=function(){this.isSupportSticky=false;};this.isInScreen=function(){var isInScreen;if(this.isSupportSticky){isInScreen=true;}else if(this.isSupportParallax){isInScreen=sublime.window.pageYOffset<=this.element.clientHeight / this.parallaxSpeed;}else{isInScreen=sublime.window.pageYOffset<=this.element.clientHeight;}
if(this._isFirstShow&&isInScreen){sublime.analytics.fire(32097,'topView');this._isFirstShow=false;}
return isInScreen;};this.update=function(isMainPage){if(this.isSupportSticky){if(this._showTimer){this.timer.update(isMainPage,this.isSupportSticky,this.getMediaHeight());}else{this.closeButton.update(isMainPage,this.isSupportSticky,this.getMediaHeight());}}};}
BottomContainer.create=function(ad,isSupportTopSticky,zoneFooterFixed){return(new BottomContainer())._init(ad,isSupportTopSticky,zoneFooterFixed);};function BottomContainer(){this.id='sublime-mobile-bottom-container';this.element=null;this.disable=false;this.image=null;this._ad={};this._params={};this._originPaddingBottom=0;this.isSupportSticky=false;this._isFirstShow=true;this._lastScrollY=0;this._init=function(ad,isSupportTopSticky,zoneFooterFixed){this._ad=ad;this._params=ad.mobile_setup.bottom;this.isSupportSticky=ad.mobile_setup.footer_fixed&&zoneFooterFixed;this._originPaddingBottom=parseFloat(getComputedStyle(sublime.document.body).paddingBottom||0);this._createElement();this._bindEvents();if(!this.isSupportSticky){this.element.style.transform='translate3d(0,'+this._originPaddingBottom+'px,0)';}
this.setVisible(!isSupportTopSticky);sublime.hook.call(mskinzHookNames.bottomReady);return this;};this._bindEvents=function(){var self=this;if(this._params.showPanelWhenClicked){this.element.addEventListener('touchstart',function(){sublime.hook.call(mskinzHookNames.click);sublime.hook.call(mskinzHookNames.clickBottom);if(sublime.display.mobile.panel2.swiperContainer.isMainPage()){sublime.hook.call(mskinzHookNames.swipeToPanel);}});}else{this.element.addEventListener('click',function(){sublime.hook.call(mskinzHookNames.click);sublime.hook.call(mskinzHookNames.clickBottom);sublime.window.open(self._ad.click_url_bottom_final);});}
sublime.timer.setInterval(function(){this._lastScrollY=sublime.window.pageYOffset;}.bind(this),100);};this._createElement=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.classList.add('sublime-mobile-bottom-container');this.element.style.zIndex=DOUBLE_BUFF_IMAGE_ZINDEX-1;this.image=sublime.document.createElement('img');this.image.id='sublime-mobile-bottom-image';this.image.src=this._params.src;this.element.appendChild(this.image);sublime.document.body.appendChild(this.element);};this.setSticky=function(sticky){if(sticky){this.slideIn();sublime.document.body.style.paddingBottom=((this._originPaddingBottom||0)+this.element.clientHeight)+'px';this.element.classList.add('sublime-fixed-footer');}else{this.slideOut();sublime.document.body.style.paddingBottom=(this._originPaddingBottom||0)+'px';this.element.classList.remove('sublime-fixed-footer');}};this.setVisible=function(visible){if(visible){this.element.classList.remove('sublime-hidden');}else{this.element.classList.add('sublime-hidden');}};this.isAtBottom=function(){var windowHeight=Math.max(sublime.document.body.scrollHeight,sublime.document.body.offsetHeight,sublime.document.body.parentNode.clientHeight);return windowHeight-this.element.clientHeight<=sublime.window.innerHeight+sublime.window.scrollY;};this.slideIn=function(){if(this.isSupportSticky){this.element.style.transform='translate3d(0,0,0)';}else{this.element.style.transform='translate3d(0,'+this._originPaddingBottom+'px,0)';}};this.slideOut=function(){this.element.style.transform='translate3d(0,'+(this.element.clientHeight+this._originPaddingBottom)+'px, 0)';};this.scrollUpOffset=function(){return this._lastScrollY-window.pageYOffset;};this.hide=function(){this.element.classList.add('sublime-hidden');sublime.document.body.style.paddingBottom=this._originPaddingBottom+'px';};this.update=function(isMainPage,isTopSupportSticky,isTopInScreen){if(isTopSupportSticky||!isMainPage||isTopInScreen){this.slideOut();return;}
if(this.isAtBottom()){this.slideIn();}else if(this.isSupportSticky&&this.scrollUpOffset()>30){this.setSticky(true);}else if(this.scrollUpOffset()<=-10){this.slideOut();}
if(!this._isFirstShow){return;}
if(!this.disable&&((this.isSupportSticky&&this.scrollUpOffset()>30)||this.isAtBottom())){sublime.analytics.fire(32097,'bottomView');this._isFirstShow=false;}};}
PanelContainer.create=function(ad){return(new PanelContainer())._init(ad);};function PanelContainer(){this.id='sublime-mobile-panel-container';this.element=null;this._slides=[];this._params={};this._ad={};this.getSlides=function(){return this._slides;};this.clickCallback=function(){if(this._ad.click_url_panel_final){sublime.analytics.fire(32097,'click');sublime.hook.call(mskinzHookNames.click);sublime.hook.call(mskinzHookNames.clickPanel);sublime.window.open(this._ad.click_url_panel_final);}else{sublime.warn('Click event as occured on the panel but no url is set');}};this._init=function(ad){this._ad=ad;this._params=ad.mobile_setup.panel;this.element=this._createSlide(this._params.src);this.element.id=this.id;this._slides.push(this.element);this._bindEvents();return this;};this._createSlide=function(imageUrl){var div=sublime.document.createElement('div');div.classList.add('swiper-slide');div.classList.add('sublime-panel-slide');div.style.backgroundImage='url('+imageUrl+')';return div;};this._bindEvents=function(){this.element.addEventListener('click',this.clickCallback.bind(this));sublime.hook.register({namespace:mskinzHookNames.panelReady,callback:this._appendIframe.bind(this),multiple:false,});};this._appendIframe=function(){if(sublime.isEmpty(this._ad.html)){return;}
if(sublime.inArray(this._ad.html_usage,['iframe-lazy','iframe','cross-domain-iframe'])){var i=this._createIframe();this.element.appendChild(i);if(this._ad.html_usage==='cross-domain-iframe'){i.src=sublime.env('sublime_url')+'ad/'+this._ad.id+'/iframe';return;}
if(this._ad.html_usage==='iframe'){this._writeToIframe(i,this._ad.html);return;}
if(this._ad.html_usage==='iframe-lazy'){sublime.hook.register({namespace:mskinzHookNames.beforeOpenPanel,callback:function(){this._writeToIframe(i,this._ad.html);}.bind(this),multiple:false,});}}else{sublime.display.writeToContainer(this._ad.html,this.id);}};this._writeToIframe=function(i,html){html+='<script>var inDapIF = true;</script>';var iDoc=i.contentDocument;iDoc.open();iDoc.write('<!doctype html><html><body style="margin:0">'+html+'</body></html>');iDoc.close();};this._createIframe=function(){var navbarHeight=6.4;var i=sublime.document.createElement('iframe');i.id='ayads-rich-media';i.name='ayads-rich-media';i.height=(100-navbarHeight)+'%';i.style.position='absolute';i.style.top=navbarHeight+'%';i.style.left=0;i.width='100%';i.style.borderWidth='0';return i;};}
ArrowButton.create=function(){return(new ArrowButton())._init();};function ArrowButton(){this.id='sublime-mobile-panel-arrow-container';this.element=null;this._touchStartX=0;this._panelOpened=false;this._init=function(){this._createElement();this._bindEvents();return this;};this._createElement=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.style.zIndex=DOUBLE_BUFF_IMAGE_ZINDEX-1;var svgNS=null;var svg=sublime.document.createElementNS('http://www.w3.org/2000/svg','svg');svg.setAttributeNS(svgNS,'viewBox','0 0 126 54');var bg=sublime.document.createElementNS('http://www.w3.org/2000/svg','path');bg.setAttributeNS(svgNS,'d','M27,0a27,27,0,0,0,0,54H126V0Z');bg.setAttributeNS(svgNS,'fill','#1e3c86');svg.appendChild(bg);var arrow=sublime.document.createElementNS('http://www.w3.org/2000/svg','path');arrow.setAttributeNS(svgNS,'d','M19.67,28.21l6.16,6.16A1.71,1.71,0,0,0,28.25,32L25,28.71H33.2a1.71,1.71,0,0,0,0-3.42H25l3.24-3.24a1.71,1.71,0,0,0-2.42-2.42l-6.16,6.16A1.73,1.73,0,0,0,19.67,28.21Z');arrow.setAttributeNS(svgNS,'fill','#fff');svg.appendChild(arrow);var circle=sublime.document.createElementNS('http://www.w3.org/2000/svg','circle');circle.setAttributeNS(svgNS,'cx','27');circle.setAttributeNS(svgNS,'cy','27');circle.setAttributeNS(svgNS,'r','15.22');circle.setAttributeNS(svgNS,'fill','none');circle.setAttributeNS(svgNS,'stroke','#fff');circle.setAttributeNS(svgNS,'stroke-miterlimit','10');circle.setAttributeNS(svgNS,'stroke-width','3');svg.appendChild(circle);this.element.appendChild(svg);sublime.display.getCreativeContainer().appendChild(this.element);var arrowHeight=3.4;this.element.style.bottom=(50-arrowHeight)+'vh';};this._bindEvents=function(){sublime.hook.call(mskinzHookNames.arrowReady);var self=this;this.element.addEventListener('touchstart',function(e){if(e.touches&&e.touches.length>1){return false;}
self._touchStartX=e.touches[0].screenX;});this.element.addEventListener('touchmove',function(e){if(e.touches&&e.touches.length>1){return false;}
var touchCurrentX=(e.touches&&e.touches[0]?e.touches[0].screenX:touchCurrentX)||0;var touchDelta=touchCurrentX-self._touchStartX;if(touchDelta<=-36&&!self._panelOpened){sublime.hook.call(mskinzHookNames.swipeToPanel);self._panelOpened=true;}else{self.element.style.transform='translate3d('+touchDelta+'px, -50% , 0)';}});var openPanel=function(e){if(!self._panelOpened){sublime.hook.call(mskinzHookNames.swipeToPanel);}
self.element.style.transform='translate3d(0, -50% , 0)';self._panelOpened=false;};this.element.addEventListener('touchend',openPanel);if(sublime.previewing&&sublime.device==='desktop'){this.element.addEventListener('mousedown',function(){sublime.window.addEventListener('mouseup',function previewMouseDown(){openPanel();sublime.display.mobile.panel2.swiperContainer.top.tooltip._disableTooltip();sublime.window.removeEventListener('mouseup',previewMouseDown);});});}};this.fadeOut=function(){this.element.style.marginRight='-80px';};this.fadeIn=function(){this.element.style.marginRight='-36px';};this.update=function(isMainPage,isTopSupportSticky,isTopInScreen){if(!isTopSupportSticky&&isMainPage&&!isTopInScreen){this.fadeIn();}else{this.fadeOut();}};}
Overlay.create=function(){return(new Overlay())._init();};function Overlay(){this.id='sublime-overlay';this.element=null;this._init=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.classList.add('sublime-hidden');sublime.display.getCreativeContainer().appendChild(this.element);return this;};this.fadeOut=function(){this.setOpacity(0);sublime.timer.setTimeout(function(){this.element.classList.add('sublime-hidden');}.bind(this),1000);};this.show=function(){this.element.classList.remove('sublime-hidden');};this.setOpacity=function(opacity){this.element.style.opacity=opacity;};}
Navbar.create=function(ad,params){return(new Navbar())._init(ad,params);};function Navbar(){this.id='sublime-panel-navbar';this.element=null;this.arrowId='sublime-mobile-panel-arrow';this.arrow=null;this._params={};this.brand=null;this._ad={};this._init=function(ad,params){this._ad=ad;this._params=params;this._createElement();if(this._params.navbarBrand){this._createBrandElement();}
this._bindEvents();return this;};this._createBrandElement=function(){this.brand=sublime.document.createElement('img');this.brand.id='sublime-brand';this.brand.classList.add('sublime-brand');this.brand.src=this._params.navbarBrand;this.brand.addEventListener('load',function(){var maxRatio=9;if(this.brand.height>0){var logoRatio=this.brand.width / this.brand.height;if(logoRatio<=maxRatio){this.element.appendChild(this.brand);}}}.bind(this));};this._createElement=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.style.backgroundColor=this._params.navbarColor||'#000000';var svgNS=null;this.arrow=sublime.document.createElementNS('http://www.w3.org/2000/svg','svg');this.arrow.setAttributeNS(svgNS,'viewBox','0 0 477.175 477.175');this.arrow.id=this.arrowId;var arrowPath=sublime.document.createElementNS('http://www.w3.org/2000/svg','path');arrowPath.setAttributeNS(svgNS,'d','M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z');var arrowColor=this._params.navbarArrowColor||'#FFFFFF';arrowPath.setAttributeNS(svgNS,'fill',arrowColor);this.arrow.appendChild(arrowPath);this.element.appendChild(this.arrow);sublime.display.getCreativeContainer().appendChild(this.element);};this._callHookClosePanel=function(e){e.stopPropagation();e.preventDefault();sublime.hook.call(mskinzHookNames.swipeToMainPage);};this._bindEvents=function(){var self=this;this.arrow.addEventListener('touchstart',this._callHookClosePanel.bind(this));if(sublime.previewing&&sublime.device==='desktop'){this.arrow.addEventListener('click',this._callHookClosePanel.bind(this));}
if(this.brand){this.brand.addEventListener('click',function(){sublime.window.open(this._ad.click_url_panel_final);});}};this.hide=function(){this.setOpacity(0);};this.show=function(){this.element.classList.remove('sublime-hidden');this.element.style.zIndex=NAVBAR_ZINDEX;};this.setOpacity=function(opacity){this.element.style.opacity=opacity;if(opacity===0){this.element.classList.add('sublime-hidden');this.element.style.zIndex=0;}};}
SwiperContainer.create=function(zone,ad){return(new SwiperContainer())._init(zone,ad);};function SwiperContainer(){this.id='sublime-mobile-top-container';this.element=null;this.slideWrapper=null;this._params=null;this._ad={};this.swiper=null;this.top=null;this.bottom=null;this.panel=null;this.overlay=null;this.navbar=null;this.arrow=null;this.panelDoubleBuffLayer=null;this._contentScrollY=0;this._timeElapsedOnPanel=0;this._timeout1s=null;this._startSwiperIndex=0;this._timeout3s=null;this._ayadsHtmlContainer=false;this._touchStartAt=null;this._stopRenderer=false;this._originZIndex=1029;this._init=function(zone,ad){this._ad=ad;this._params=ad.mobile_setup;sublime.display.addCreativeContainer();this._createElement();this.top=TopContainer.create(ad,zone.mobile_setup.footer_fixed,this.element);this.bottom=BottomContainer.create(ad,this.top.isSupportSticky,zone.mobile_setup.footer_fixed);this.panel=PanelContainer.create(ad);this.arrow=ArrowButton.create();this.overlay=Overlay.create();this.navbar=Navbar.create(ad,this._params.panel);this.panelDoubleBuffLayer=PanelDoubleBuffLayer.create(this._params.panel.transitionColors);this.appendSlide(this.top.element);sublime.hook.call(mskinzHookNames.topReady);this.panel.getSlides().forEach(function(slide){this.appendSlide(slide);slide.style.marginTop='-'+this.top.originMarginTop+'px';}.bind(this));this._initSwiper();this._bindEvents();this.setSwiperSticky(this.top.isSupportSticky);this.update();sublime.hook.call(mskinzHookNames.panelReady);return this;};this._createElement=function(){this.element=sublime.document.createElement('div');this.element.id=this.id;this.element.className='swiper-container';var color1=(this._params.panel.transitionColors&&this._params.panel.transitionColors[0])||'#1f3c86';var color2=(this._params.panel.transitionColors&&this._params.panel.transitionColors[1])||'#e9531d';this.element.style.backgroundColor=color1;this.element.style.backgroundImage='-webkit-gradient(linear, left top, right top, from('+color1+'), to('+color2+')), '
+'linear-gradient(90deg, '+color1+', '+color2+')';this.slideWrapper=sublime.document.createElement('div');this.slideWrapper.className='swiper-wrapper';this.element.appendChild(this.slideWrapper);this._ayadsHtmlContainer=sublime.display.getCreativeContainer();this._ayadsHtmlContainer.appendChild(this.element);var zIndex=getComputedStyle(this.element).zIndex;this._originZIndex=zIndex>1?zIndex:this._originZIndex;this.element.style.zIndex=this._originZIndex;var indicator=sublime.document.createElement('div');indicator.id='sublime-position-indicator-block';this._ayadsHtmlContainer.appendChild(indicator);};this.appendSlide=function(slide){this.slideWrapper.appendChild(slide);};this._bindEvents=function(){var self=this;sublime.window.addEventListener('scroll',this.update.bind(this));sublime.hook.register('event.cleanUp',function clearEventListeners(){sublime.window.removeEventListener('scroll',self.update);});sublime.hook.register({namespace:mskinzHookNames.orientationChange,callback:function(){if(Math.abs(window.orientation)===90){self._stopRenderer=true;self.hideAd();}else{self._stopRenderer=false;sublime.timer.setTimeout(function(){self.showAd();},100);}},});sublime.hook.register({namespace:mskinzHookNames.topCloseButtonClicked,callback:this._closeTopClicked.bind(this),});sublime.hook.register({namespace:mskinzHookNames.topAutoHide,callback:this._closeTopClicked.bind(this),});sublime.hook.register({namespace:mskinzHookNames.swipeToPanel,callback:this.swipeToPanel.bind(this),});sublime.hook.register({namespace:mskinzHookNames.swipeToMainPage,callback:this.swipeToMainPage.bind(this),});};this._closeTopClicked=function(){var self=this;if(!this.isMainPage()){return;}
this.slideSwiperOut();sublime.timer.setTimeout(function(){self.disableSupportTopSticky();self.update();},500);};this.hideAd=function(){this._ayadsHtmlContainer.classList.add('sublime-hidden');sublime.document.body.style.setProperty('padding-top',this.top.originPaddingTop+'px','important');this.bottom.hide();};this.showAd=function(){this._ayadsHtmlContainer.classList.remove('sublime-hidden');sublime.document.body.style.setProperty('padding-top',(this.top.originPaddingTop+this.top.getMediaHeight())+'px','important');if(!this.top.isSupportSticky){this.bottom.element.classList.remove('sublime-hidden');this.bottom.update(this.isMainPage(),this.top.isSupportSticky,this.top.isInScreen());}};this.update=function(){if(this._stopRenderer){return;}
this._handleSwiperParallax();this.top.update(this.isMainPage());this.bottom.update(this.isMainPage(),this.top.isSupportSticky,this.top.isInScreen());this.arrow.update(this.isMainPage(),this.top.isSupportSticky,this.top.isInScreen());};this.isMainPage=function(){return this.swiper.realIndex===0;};this._updateHeight=function(progress){var height=progress*this.panel.getSlides().length*sublime.window.innerHeight;if(height<this.top.getMediaHeight()){this.element.style.height=this.top.getMediaHeight()+'px';}else if(progress*this.panel.getSlides().length<=1){this.element.style.height=height+'px';}};this._handleSwiperParallax=function(){if(!this.top.isSupportSticky&&this.top.isSupportParallax){var offsetY=sublime.window.pageYOffset*this.top.parallaxSpeed;this.element.style.transform='translate3d(0, '+offsetY+'px, 0)';}};this._rememberContentScrollY=function(){this._contentScrollY=sublime.window.pageYOffset;};this.disableSupportTopSticky=function(){this.top.disableSupportSticky();this.setSwiperSticky(false);this.slideSwiperIn();sublime.timer.setTimeout(function(){this.bottom.setVisible(true);if(!this.bottom.isSupportSticky){this.bottom.slideIn();}}.bind(this),500);};this.setSwiperSticky=function(sticky){if(sticky){this.element.classList.add('sublime-top-fixed');this.element.style.transform='translate3d(0, 0, 0)';}else{this.element.classList.remove('sublime-top-fixed');}};this.slideSwiperOut=function(){this.element.style.left=this.element.clientWidth+'px';};this.slideSwiperIn=function(){this.element.style.left=0;};this.swipeToPanel=function(){this.navbar.show();this.swiper.slideTo(1,300);this._activePanelMode();};this.swipeToMainPage=function(){if(!this.isMainPage()){this.swiper.slideTo(0,300*(this.swiper.realIndex+1));this._activeMainPageMode();}};this._panelModeZIndex=function(){this.element.style.overflow='visible';this.element.style.zIndex=PANEL_ZINDEX;};this._mainPageModeZIndex=function(){this.element.style.overflow='hidden';this.element.style.zIndex=this._originZIndex;};this._activeMainPageMode=function(){sublime.hook.call(mskinzHookNames.beforeClosePanel);this._mainPageModeZIndex();this.navbar.hide();if(this._contentScrollY>=0){sublime.window.scrollTo(0,this._contentScrollY);}
sublime.document.body.classList.remove('sublime-panel-opened');this.setSwiperSticky(this.top.isSupportSticky);this.top.resetParallax();sublime.hook.call(mskinzHookNames.closePanel);this._removePanelPixelsTimer();this.update();sublime.hook.call(mskinzHookNames.afterClosePanel);};this._activePanelMode=function(){this._panelModeZIndex();sublime.hook.call(mskinzHookNames.beforeOpenPanel);this._rememberContentScrollY();sublime.window.scrollTo(0,0);sublime.document.body.classList.add('sublime-panel-opened');this.navbar.setOpacity(1);this.setSwiperSticky(true);this.top.disableParallax();this.element.style.transform='translate3d(0px, 0px, 0px)';sublime.hook.call(mskinzHookNames.openPanel);this._addPanelPixelsTimer();this.update();sublime.hook.call(mskinzHookNames.afterOpenPanel);};this._addPanelPixelsTimer=function(){sublime.elapsedSinceLastCall('mobilePanel');sublime.analytics.fire(32097,'panelView');if(this._timeElapsedOnPanel<1000){this._timeout1s=sublime.timer.setTimeout(function(){sublime.analytics.fire(32097,'panelViewSec1');},1000-this._timeElapsedOnPanel);}
if(this._timeElapsedOnPanel<3000){this._timeout3s=sublime.timer.setTimeout(function(){sublime.analytics.fire(32097,'panelViewSec3');},3000-this._timeElapsedOnPanel);}};this._removePanelPixelsTimer=function(){this._timeElapsedOnPanel+=sublime.elapsedSinceLastCall('mobilePanel');if(this._timeout1s){sublime.timer.clearTimeout(this._timeout1s);}
if(this._timeout3s){sublime.timer.clearTimeout(this._timeout3s);}};this._isFromMainPage=function(){return this.swiper.previousIndex===0;};this._isFromPanel=function(){return this.swiper.previousIndex===1;};this._initSwiper=function(){var self=this;this.swiper=new sublime.window.Swiper('#'+this.id,{autoHeight:true,effect:'coverflow',coverflowEffect:{slideShadows:false,},iOSEdgeSwipeDetection:true,});this.swiper.on('touchStart',function(){self._startSwiperIndex=this.realIndex;self._touchStartAt=(new Date()).getTime();if(sublime.previewing&&sublime.device==='desktop'){self.top.tooltip._disableTooltip();}
self._panelModeZIndex();sublime.hook.call(mskinzHookNames.swiperTouchStart);});this.swiper.on('touchEnd',function(){self.overlay.fadeOut();var touchEndAt=(new Date()).getTime();var timeDiff=touchEndAt-self._touchStartAt;if(timeDiff<this.params.longSwipesMs){if(this.swipeDirection==='next'&&self._startSwiperIndex===0){self._activePanelMode();}
if(this.swipeDirection==='prev'&&self._startSwiperIndex===1){self._activeMainPageMode();}
if(this.swipeDirection==='prev'&&self._startSwiperIndex===0){self._mainPageModeZIndex();sublime.hook.call(mskinzHookNames.swiperTouchCancel);}}else{if(self._startSwiperIndex===this.realIndex){if(self._startSwiperIndex===0){self._mainPageModeZIndex();sublime.hook.call(mskinzHookNames.swiperTouchCancel);}
return;}
if(self._isFromPanel()){self._activeMainPageMode();}
if(self._isFromMainPage()){self._activePanelMode();}}});this.swiper.on('sliderMove',function(){self.overlay.show();self.navbar.show();});this.swiper.on('progress',function(){self.overlay.setOpacity(this.progress);self.navbar.setOpacity(this.progress);self._updateHeight(this.progress);if(this.progress>=1){self.panelDoubleBuffLayer.show();}else{self.panelDoubleBuffLayer.hide();}});};}
sublime.helpers.createNamespace('sublime.display.mobile.panel2.mskinz');sublime.display.mobile.panel2.mskinz.adIsReady=sublime.display.mobile.panel2.adIsReady;sublime.display.mobile.panel2.mskinz.render=sublime.display.mobile.panel2.render;sublime.helpers.createNamespace('sublime.display.mobile.panel2.mskinzVideo');var pixelsMskinzVideo={videoQ0:{inherit:'_videoQuartile',qs:{e:'q0'},addBrowserDimensions:true,addPageHeightDimension:true},videoQ1:{inherit:'_videoQuartile',qs:{e:'q1'},addBrowserDimensions:true,addPageHeightDimension:true},videoQ2:{inherit:'_videoQuartile',qs:{e:'q2'},addBrowserDimensions:true,addPageHeightDimension:true},videoQ3:{inherit:'_videoQuartile',qs:{e:'q3'},addBrowserDimensions:true,addPageHeightDimension:true},videoQ4:{inherit:'_videoQuartile',qs:{e:'q4'},addBrowserDimensions:true,addPageHeightDimension:true},complete:{inherit:'_commonSkinz',qs:{e:'complete'}},mute:{inherit:'_commonSkinz',qs:{e:'mute'}},unmute:{inherit:'_commonSkinz',qs:{e:'unmute'}},rewind:{inherit:'_commonSkinz',qs:{e:'rewind'}},pause:{inherit:'_commonSkinz',qs:{e:'pause'}},resume:{inherit:'_commonSkinz',qs:{e:'resume'}},creativeView:{inherit:'_commonSkinz',qs:{e:'creativeView'}},videoStartedLoading:{inherit:'_commonSkinz',qs:{e:'vsl'}},videoCanplaythrough:{inherit:'_commonSkinz',qs:{e:'dicpt'}},videoLoadeddata:{inherit:'_commonSkinz',qs:{e:'dild'}},videoPlaying:{inherit:'_commonSkinz',qs:{e:'dip'}}};sublime.display.mobile.panel2.mskinzVideo.adIsReady=function(ad){return sublime.display.mobile.panel2.adIsReady(ad)&&ad.mobile_setup.top.hasOwnProperty('video');};sublime.display.mobile.panel2.mskinzVideo.render=function(ad){return new sublime.Promise(function(resolve,reject){sublime.analytics.setPixels(32097,pixelsMskinzVideo);sublime.display.mobile.panel2.render(MskinzVideo.setDefaultParams(ad));sublime.hook.register({namespace:sublime.display.mobile.panel2.hookNames.swiperCreated,once:true,callback:function(){sublime.display.mobile.panel2.mskinzVideo=MskinzVideo.create(ad);resolve({container:sublime.display.mobile.panel2.mskinzVideo._videoContainer,video:sublime.display.mobile.panel2.mskinzVideo.video});},});});};MskinzVideo.setDefaultParams=function(ad){ad.mobile_setup.top.supportTopClose=typeof ad.mobile_setup.top.supportTopClose==='undefined'?1:ad.mobile_setup.top.supportTopClose;ad.mobile_setup.top.showPanelWhenClicked=typeof ad.mobile_setup.top.showPanelWhenClicked==='undefined'?1:ad.mobile_setup.top.showPanelWhenClicked;ad.mobile_setup.top.tooltipType=typeof ad.mobile_setup.top.tooltipType==='undefined'?4:ad.mobile_setup.top.tooltipType;return ad;};MskinzVideo.create=function(ad){return(new MskinzVideo())._init(ad.mobile_setup.top.video);};function MskinzVideo(){this._videoContainer=null;this._progress=null;this._progressBar=null;this._muteButton=null;this.video=null;this.videoSize=null;this._isVideoFinished=false;this._hasBeenClicked=false;this._hookNames=sublime.merge(sublime.display.mobile.panel2.hookNames,{clickMuteBtn:'event.mobile.clickMuteBtn',});this._triggeredQuartiles=[];this._quartileNames=['start','firstQuartile','midpoint','thirdQuartile','complete'];this._playControls=null;this._swiperContainer=sublime.display.mobile.panel2.swiperContainer;this._top=this._swiperContainer.top;this._panel=this._swiperContainer.panel;this._init=function(videoSource){this._reconfigSwiperContainer();this._createVideoContainer();this._createVideoProgress();this._videoContainer.appendChild(this._progress);this._createVideoProgressBar();this._progress.appendChild(this._progressBar);this._createMuteButton();this._videoContainer.appendChild(this._muteButton);this._createPlayControls();this.video=this._createVideo(videoSource);this._videoContainer.insertBefore(this.video,this._videoContainer.firstChild);this._resizeVideo();this._addEvents();this._addVideoToMainPage();this._startVideo();return this;};this._resizeVideo=function(){var self=this;sublime.hook.register({namespace:self._hookNames.topImageLoaded,callback:function(){self.videoSize=self._getVideoSize();if(!self.videoSize){self.video.height=self._top.getMediaHeight();return;}
self.video.height=self.videoSize.top.height;self.video.width=self.videoSize.top.width;},once:true,});};this._getVideoSize=function(){if(!sublime.creativeAd.video_resolution){sublime.info('Mskinz2 Video > No video resolution for this creative');return null;}
var videoResolution=sublime.creativeAd.video_resolution.split('x');var videoWidth=sublime.pInt(videoResolution[0]);var videoHeight=sublime.pInt(videoResolution[1]);if(!sublime.isNum(videoWidth)||!sublime.isNum(videoHeight)){sublime.error('Mskinz2 Video > Unable to parse videoWidth or videoHeight',videoResolution);return null;}
var screenWidth=sublime.window.innerWidth;var zoneTop=this._top.getMediaHeight();var sizes={top:{width:videoWidth*zoneTop / videoHeight,height:zoneTop},panel:{width:screenWidth,height:screenWidth*videoHeight / videoWidth}};if(sizes.top.width>screenWidth){sizes.top.width=screenWidth;sizes.top.height=screenWidth*videoHeight / videoWidth;}
return sizes;};this._createVideoContainer=function(){this._videoContainer=sublime.document.createElement('div');this._videoContainer.id='sublime-mobile-video-container';this._videoContainer.style.zIndex='2';};this._createVideoProgress=function(){this._progress=sublime.document.createElement('div');this._progress.className='sublime-mobile-loading-bar';};this._createVideoProgressBar=function(){this._progressBar=sublime.document.createElement('div');this._progressBar.className='sublime-mobile-loading-bar-progress';};this.setMuteVideo=function(isMuted){this.video.muted=isMuted;this._muteButton.className='sublime-mobile-video-mute '+(this.video.muted?'muteOn':'muteOff');};this._createMuteButton=function(){this._muteButton=sublime.document.createElement('div');this._muteButton.className='sublime-mobile-video-mute muteOn mute-animation';sublime.hook.register(this._hookNames.clickMuteBtn,this.setMuteVideo.bind(this));this._muteButton.onclick=function(e){e.stopPropagation();e.preventDefault();sublime.hook.call(this._hookNames.clickMuteBtn,!this.video.muted);this._muteButton.classList.remove('mute-animation');if(this.video.muted){sublime.analytics.fire(32097,'mute');}else{sublime.analytics.fire(32097,'unmute');}}.bind(this);};this._createVideo=function(videoSource){var self=this;var video=sublime.document.getElementById(sublime.display.elements.VIDEO_ID.mobile);if(!video){video=sublime.document.createElement('video');video.id=sublime.display.elements.VIDEO_ID.mobile;}
video.controls=false;video.muted=true;video.loop=false;video.preload='auto';video.style.display='';video.setAttribute('playsinline','playsinline');video.setAttribute('muted','muted');if(videoSource){video.src=videoSource;}
return video;};this._reconfigSwiperContainer=function(){this._top.isSupportParallax=true;this._top.resetParallax=function(){this._top.isSupportParallax=true;}.bind(this);sublime.hook.register({namespace:this._hookNames.topCloseButtonClicked,callback:this._pauseVideo.bind(this),});sublime.hook.register({namespace:this._hookNames.openPanel,callback:this._activePanelMode.bind(this),});sublime.hook.register({namespace:this._hookNames.closePanel,callback:this._activeMainPageMode.bind(this),});};this._addVideoToMainPage=function(){if(this._top.tooltip.tooltipType==4){this._top.tooltip.childElement.appendChild(this._videoContainer);}else{this._top.element.appendChild(this._videoContainer);}};this._createPlayControls=function(){var self=this;var controls=d.createElement('div');controls.id='sublime-mobile-video-play-controls';controls.className='sublime-mobile-video-play-controls';controls.classList.add('sublime-hidden');var playButton=d.createElement('div');playButton.id='sublime-mobile-video-buttons-play';playButton.className='play';controls.appendChild(playButton);var pauseButtonPulseCircle=d.createElement('div');pauseButtonPulseCircle.id='play-video-pulsar';controls.appendChild(pauseButtonPulseCircle);var vidOverlay=d.createElement('div');vidOverlay.id='sublime-mobile-video-overlay';vidOverlay.classList.add('sublime-hidden');this._videoContainer.appendChild(vidOverlay);this._playControls={overlay:vidOverlay,controls:controls};controls.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();self._playVideo();});this._videoContainer.appendChild(controls);};this._activeMainPageMode=function(){sublime.display.mobile.panel2.swiperContainer.element.classList.remove('sublime-video-panel-open');this._videoContainer.style.top=0;this._videoContainer.style.height=this._top.getMediaHeight()+'px';if(this.videoSize){this.video.height=this.videoSize.top.height;this.video.width=this.videoSize.top.width;}else{this.video.removeAttribute('width');this.video.height=this._top.getMediaHeight();}
if(this.video.isVpaid&&!this.video.vpaid.isDeleted){this.video.vpaid.resizeAd(this.video.offsetWidth,this.video.offsetHeight,'normal');this.video.style.width='';this.video.style.height='';}
if(this._isVideoFinished){return;}
if(this._top.isSupportSticky||this.isOnTopOfPage()){this._playVideo();}};this._activePanelMode=function(){sublime.display.mobile.panel2.swiperContainer.element.classList.add('sublime-video-panel-open');this._videoContainer.style.top='6.4vh';this._videoContainer.style.height='';if(this.videoSize){this.video.height=this.videoSize.panel.height;this.video.width=this.videoSize.panel.width;}else{this.video.removeAttribute('height');this.video.width=sublime.window.innerWidth;}
if(this.video.isVpaid&&!this.video.vpaid.isDeleted){this.video.vpaid.resizeAd(this.video.offsetWidth,this.video.offsetHeight,'normal');this.video.style.width='';this.video.style.height='';}};this._startVideo=function(){if(this.video.isVpaid&&!this.video.vpaid.isDeleted){return this.video.vpaid.startAd();}
this.video.play();};this._playVideo=function(){if(this.video.isVpaid&&!this.video.vpaid.isDeleted){return this.video.vpaid.resumeAd();}
this.video.play();};this._pauseVideo=function(){if(this.video.isVpaid&&!this.video.vpaid.isDeleted){return this.video.vpaid.pauseAd();}
this.video.pause();};this.computeMetrics=function(video){if(!sublime.isDefined(video.currentTime)||!sublime.isDefined(video.duration)||!sublime.isNum(video.currentTime)||!sublime.isNum(video.duration)){sublime.warn('video.currentTime or video.duration is not defined, no metrics sent.');return;}
if(video.paused&&video.duration!==video.currentTime){sublime.warn('Video is paused, no metrics sent.');return;}
var quartile=this.getQuartile(video.currentTime,video.duration);if(quartile>4||this._triggeredQuartiles[quartile]){return;}
for(var index=0;index<quartile;index++){var quartileIndex='videoQ'+index;var pixels=sublime.analytics.getPixels();if(sublime.helpers.hasProperty(pixels,32097+'.'+quartileIndex)&&pixels[32097][quartileIndex].fired!==1){sublime.analytics.fire(32097,quartileIndex);}}
sublime.analytics.fire(32097,'videoQ'+quartile);var quartileName=this._quartileNames[quartile];sublime.hook.call('step.video.quartile'+quartile,{duration:video.duration,quartile:quartile,quartileName:quartileName,currentTime:video.currentTime});this._triggeredQuartiles[quartile]=true;};this._addEvents=function(){var self=this;var isResume=false;this.video.addEventListener('play',function(){if(isResume){sublime.analytics.fire(32097,'resume');}
self._playControls.overlay.classList.add('sublime-hidden');self._playControls.controls.classList.add('sublime-hidden');isResume=true;});this.video.addEventListener('pause',function(){sublime.analytics.fire(32097,'pause');self._playControls.overlay.classList.remove('sublime-hidden');self._playControls.controls.classList.remove('sublime-hidden');});sublime.hook.register({namespace:sublime.vpaid.hookNames.adLoaded,once:true,callback:function(){sublime.hook.register(sublime.vpaid.hookNames.adPaused,function(){self._playControls.overlay.classList.remove('sublime-hidden');self._playControls.controls.classList.remove('sublime-hidden');});sublime.hook.register(sublime.vpaid.hookNames.adPlaying,function(){self._playControls.overlay.classList.add('sublime-hidden');self._playControls.controls.classList.add('sublime-hidden');});sublime.hook.register(sublime.vpaid.hookNames.adClickThru,function(){if(self._swiperContainer.isMainPage()&&sublime.creativeAd.mobile_setup.top.showPanelWhenClicked){sublime.hook.call(self._hookNames.openPanel);}else{sublime.display.openTargetUrl({},sublime.creativeAd,sublime.ad.url);}});}});sublime.hook.register(this._hookNames.afterOpenPanel,function(){sublime.analytics.fire(32097,'creativeView');});this.video.addEventListener('loadstart',function loadStarted(){sublime.analytics.fire(32097,'videoStartedLoading');});this.video.addEventListener('canplaythrough',function(){sublime.analytics.fire(32097,'videoCanplaythrough');});this.video.addEventListener('playing',function(){sublime.analytics.fire(32097,'videoPlaying');});this.video.addEventListener('loadeddata',function(){sublime.analytics.fire(32097,'videoLoadeddata');self._top.video=self.video;});var previousTime=0;var isRewinding=false;this.video.addEventListener('timeupdate',function(){if(self.vpaid&&!self.vpaid.isDeleted){return;}
if(!isRewinding&&previousTime>self.video.currentTime){sublime.analytics.fire(32097,'rewind');isRewinding=true;setTimeout(function(){isRewinding=false;},1000);}
previousTime=self.video.currentTime;var percentage=Math.abs((((self.video.duration-self.video.currentTime)/ self.video.duration)*100)-100);self._progressBar.style.width=percentage+'%';sublime.creativeAd.video_duration=parseInt(self.video.duration,10);self.computeMetrics(self.video);});this.video.addEventListener('ended',function(){self._isVideoFinished=true;sublime.analytics.fire(32097,'complete');});sublime.window.addEventListener('scroll',function(){if(self.isOnTopOfPage()){if(!self._isVideoFinished&&!self._hasBeenClicked&&(!!self.video.paused||!(self.video.isVpaid&&!self.video.vpaid.isPaused))){self._playVideo();}}else if(self._swiperContainer.isMainPage()&&!self._top.isSupportSticky&&(!!self.video.paused||(self.video.isVpaid&&!self.video.vpaid.isPaused))){self._pauseVideo();}});};this.getQuartile=function(currentTime,duration){var quartileLength=duration / 4;var unroundedQuartile=currentTime / quartileLength;return Math.floor(unroundedQuartile);};this.isOnTopOfPage=function(){return sublime.window.pageYOffset<=this._top.getMediaHeight()*0.5;};}
sublime.helpers.createNamespace('sublime.display.mobile.panel2.mskinzSimple');var pixelsMskinzVideoSimple={fullscreen:{inherit:'_commonSkinz',qs:{e:'fullscreen'}},};sublime.display.mobile.panel2.mskinzSimple.adIsReady=function displayMobilePanel2SimpleAdIsReady(ad){var isReadableAd=sublime.isUrl(ad.url)&&sublime.helpers.hasProperty(ad,'mobile_setup.top.video');var isExternalVPAID=ad.vpaid&&ad.isExternal;return isReadableAd||isExternalVPAID;};sublime.display.mobile.panel2.mskinzSimple.render=function(ad){sublime.analytics.setPixels(32097,pixelsMskinzVideoSimple);return sublime.display.mobile.panel2.mskinzVideo.render(ad).then(function(player){sublime.hook.register({namespace:sublime.display.mobile.panel2.hookNames.swiperCreated,once:true,callback:function(){MskinzSimple.create(ad);},});return player;});};var cdn=sublime.env('delivery_url');MskinzSimple.create=function(ad){return(new MskinzSimple())._init(ad.mobile_setup.top.video);};function MskinzSimple(){this._swiperContainer=sublime.display.mobile.panel2.swiperContainer;this._mskinzVideo=sublime.display.mobile.panel2.mskinzVideo;this._hookNames=sublime.merge(sublime.display.mobile.panel2.hookNames,{});this._video=this._mskinzVideo.video;this._panel=this._swiperContainer.panel.element;this._swiper=this._swiperContainer.element;this._bottom=this._swiperContainer.bottom.element;this._videoBackground=null;this._init=function(){this._swiper.classList.add('mksinz-simple');this._addEvents();this._hideBottom();};this._hideBottom=function(){var self=this;sublime.hook.register(this._hookNames.bottomReady,function(){sublime.display.mobile.panel2.swiperContainer.bottom.disable=true;self._bottom.classList.add('sublime-video-bottom-hidden');});};this._requestFullscreen=function(ele){if(ele.requestFullscreen){ele.requestFullscreen();}else if(ele.webkitRequestFullscreen){ele.webkitRequestFullscreen();}else if(ele.mozRequestFullScreen){ele.mozRequestFullScreen();}else if(ele.msRequestFullscreen){ele.msRequestFullscreen();}else{console.log('Fullscreen API is not supported.');}};this._addEvents=function(){var self=this;this._video.addEventListener('play',function(){if(self._videoBackground){self._videoBackground.play().catch(function(){sublime.error('Cannot play background video');});}});this._video.addEventListener('pause',function(){if(self._videoBackground){self._videoBackground.pause();}});this._video.addEventListener('loadeddata',function(){self._createBackground();self._syncVideos();});};this._syncVideos=function(){var self=this;setInterval(function(){if(Math.abs(self._videoBackground.currentTime-self._video.currentTime)>=.1){self._videoBackground.currentTime=self._video.currentTime;}
if(self._videoBackground.paused!==self._video.paused){self._videoBackground.paused?self._videoBackground.play():self._videoBackground.pause();}
if(self._videoBackground.src!==self._video.src){self._videoBackground.src=self._video.src;}},500);};this._createBackground=function(){this._videoBackground=sublime.document.createElement('video');this._videoBackground.src=this._video.src;this._videoBackground.autoplay=this._video.autoplay;this._videoBackground.muted=true;this._videoBackground.setAttribute('playsinline',true);this._videoBackground.loop=this._video.loop;this._videoBackground.id='sublime-mobile-video-bg';this._videoBackground.classList.add('sublime-hidden');this._panel.appendChild(this._videoBackground);var self=this;sublime.hook.register({namespace:this._hookNames.closePanel,callback:function(){self._videoBackground.classList.add('sublime-hidden');},});sublime.hook.register({namespace:this._hookNames.swiperTouchCancel,callback:function(){self._videoBackground.classList.add('sublime-hidden');},});sublime.hook.register({namespace:this._hookNames.openPanel,callback:function(){self._videoBackground.classList.remove('sublime-hidden');},});sublime.hook.register({namespace:this._hookNames.swiperTouchStart,callback:function(){self._videoBackground.classList.remove('sublime-hidden');},});};}
sublime.helpers.createNamespace('sublime.display.mobile.panel');var orientation,creativeAd={},components={},isOpened,isOpening,percentX,percentY,touchStartX=null,touchStartY=null,touchCurrentX=0,touchCurrentY=0,touchDeltaX=0,touchDeltaY=0,startPercentX=0,timeElapsedOnPanel=0,timeout1s,timeout3s,timeoutScroll,svgArrowHeight,hideIndicatorTimeout,lastScrollPosition=0,componentBottomHeight,noSwipeElements=[],canSwipe=true,isOnPanel=false,isTopAdClosed=false,topSticky;sublime.display.mobile.panel.isOnPanel=function(){return isOnPanel;};sublime.display.mobile.panel.isTopAdClosed=function(){return isTopAdClosed;};sublime.display.mobile.panel.isOnTopOfPage=function(){var yPos=sublime.window.pageYOffset;return yPos<=components.top.clientHeight*0.5;};sublime.display.mobile.panel.adIsReady=function(ad){if(sublime.isEmpty(ad)||sublime.isEmpty(ad.mobile_setup)){return false;}
if(!ad.isRedirect&&!sublime.isUrl(ad.url)){return false;}
var elementToTest=['top','bottom','panel'],isReady=true;for(var i in elementToTest){if(!elementToTest.hasOwnProperty(i)){continue;}
var element=elementToTest[i];var hasElement=!!(ad.mobile_setup[element]&&ad.mobile_setup[element].key&&sublime.isUrl(ad.mobile_setup[element].src)&&ad.mobile_setup[element].type);isReady=isReady&&hasElement;}
return isReady;};sublime.display.mobile.panel.render=function(ad){sublime.hook.register('dom.interactive',function(){creativeAd=ad;var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3};topSticky=sublime.display.mobile.panel.getTopSticky(zone.mobile_setup.footer_fixed,ad.mobile_setup.top_sticky);displayPanel();});};sublime.display.mobile.panel.getTopSticky=function(footer_fixed,top_sticky){footer_fixed=sublime.isDefined(footer_fixed)?footer_fixed:true;top_sticky=sublime.isDefined(top_sticky)?top_sticky:true;var adTopSticky=!!Number(footer_fixed)&&!!Number(top_sticky);return sublime.isDefined(topSticky)?topSticky:adTopSticky;};function displayPanel(){applyOrientationClassPanel();checkViewPortMetaPanel();sublime.info('sublime.display.mobile.panel');sublime.analytics.setPixels(32097,pixelsPanel);setPixelSwipeMacroPanel();if(!isPortrait()){return;}
sublime.hook.call('step.impression.before');sublime.display.addCreativeContainer();addMobileCss();sublime.display.mobile.panel.setupZoneAd();sublime.analytics.fire(32097,'topView');setUpPanel();sublime.hook.call('step.impression.after');}
function addTopCloseButton(){var closeButton=document.createElement('div');closeButton.className='sublime-mobile-top-close sublime-hidden';closeButton.innerHTML='';components.close_button=closeButton;closeButton.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();isTopAdClosed=true;var topContainer=components.top;var yPos=sublime.window.pageYOffset;if(yPos>topContainer.style.height){topContainer.style.left=0;}else{topContainer.style.left=topContainer.clientWidth+'px';}
sublime.timer.setTimeout(function(){closeButton.classList.add('sublime-hidden');topContainer.classList.remove('sublime-top-fixed');components.arrowContainer.classList.remove('sublime-top-fixed');},550);});components.top.appendChild(closeButton);return closeButton;}
sublime.display.mobile.panel.openClosePanel=function(action){sublime.document.body.classList.add('sublime-transition');moveArrow();sublime.timer.setTimeout(function(){sublime.document.body.classList.remove('sublime-transition');},200);if(action==='close'){sublime.hook.call('event.mobile.closePanel');}else{sublime.hook.call('event.mobile.openPanel');}};sublime.display.mobile.panel.setupZoneAd=function(){sublime.hook.call('step.setupZoneAd.before');if(sublime.zone.mobilecss){sublime.display.addCss(sublime.zone.mobilecss);}
if(sublime.zone.mobilejs){sublime.applyJs(sublime.zone.mobilejs);}
if(creativeAd.mobile_setup.css){sublime.display.addCss(creativeAd.mobile_setup.css);}
if(creativeAd.mobile_setup.js){sublime.applyJs(sublime.ad.mobile_setup.js);}
if(creativeAd.html){creativeAd.html=sublime.macros.replace(creativeAd.html,creativeAd);}
sublime.hook.call('step.setupZoneAd.after');};sublime.display.mobile.panel.moveBottom=function(selector,positionInside){positionInside=typeof(positionInside)==='undefined'?false:positionInside;if(!selector){sublime.document.body.insertBefore(components.bottom,sublime.document.body.lastChild);sublime.hook.call('step.mobile.bottomReady');return;}
var el=sublime.document.querySelector(selector);if(!el){sublime.warn('Mobile : no element in moveBottom');return;}
if(positionInside){el.appendChild(components.bottom);}else{el.parentNode.insertBefore(components.bottom,el.nextSibling);}
sublime.hook.call('step.mobile.bottomReady');};sublime.display.mobile.panel.isArrow=function(element){return element.id==='sublime-mobile-panel-arrow'||element.id==='pathIdD';};sublime.display.mobile.panel.getComponent=function(componentKey){return components[componentKey];};sublime.display.mobile.panel.getComponents=function(){return components;};sublime.display.mobile.panel.setTopSticky=function(sticky){topSticky=sticky;};sublime.display.mobile.panel.setNoSwipeElements=function(elements){if(!sublime.isArray(elements)){sublime.warn('Set no swipe : elements must be an array');return;}
noSwipeElements=elements;};function checkViewPortMetaPanel(){var viewport=sublime.document.querySelector('meta[name="viewport"]');if(!viewport){viewport=sublime.document.createElement('meta');viewport.id='sublime-viewport';viewport.name='viewport';sublime.document.querySelector('head').appendChild(viewport);}
viewport.content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0';}
function computeOrientation(){orientation=(sublime.window.innerHeight<sublime.window.innerWidth)?'landscape':'portrait';}
function applyOrientationClassPanel(){computeOrientation();sublime.document.body.classList.remove('sublime-portrait','sublime-landscape');sublime.document.body.classList.add('sublime-'+orientation);}
function isPortrait(){computeOrientation();return orientation==='portrait';}
function controlBackButton(){history.pushState("sublime",null,null);sublime.window.onpopstate=function(){closePanel();};}
function setUpPanel(){components.top=appendComponentTop(creativeAd.mobile_setup.top);components.panel=appendComponentPanel(creativeAd.mobile_setup.panel);components.panel.style.top=sublime.window.scrollY+'px';components.bottom=buildComponentBottom(creativeAd.mobile_setup.bottom);components.arrow=appendArrow(sublime.display.getCreativeContainer(),20);components.positionIndicator=appendPositionIndicator();svgArrowHeight=components.arrow.getBBox().height;components.ayadsHtml=sublime.document.querySelector('#ayads-html');if(topSticky){addTopCloseButton();components.top.classList.add('sublime-top-fixed');components.topImage.classList.add('sublime-top-fixed');components.arrowContainer.classList.add('sublime-top-fixed');}
sublime.display.mobile.panel.moveBottom(sublime.zone.mobile_bottom_selector,sublime.zone.mobile_bottom_append_position);sublime.hook.register({namespace:'event.mobile.closePanel',callback:closePanel,multiple:true});sublime.hook.register({namespace:'event.mobile.openPanel',callback:openPanel,multiple:true});sublime.hook.register({namespace:'event.mobile.clickTop',callback:handleTopClick,multiple:true});sublime.hook.register({namespace:'event.mobile.clickBottom',callback:handleBottomClick,multiple:true});sublime.hook.register({namespace:'step.mobile.panelReady',callback:appendIframeInsidePanel,multiple:false});addWindowEvents();}
function setPixelSwipeMacroPanel(){if(!sublime.isUrl(creativeAd.swipe_macro)){return;}
var pixels={'panelView.swipeMacro':{slot:'panelView.swipeMacro',url:creativeAd.swipe_macro,repeat:3}};sublime.analytics.setPixels(32097,pixels);}
function addMobileCss(){var css='body { position: relative !important; overflow-x: hidden !important; }'+'.sublime-transition { transition: transform 0.2s !important; }'+'.sublime-transition #sublime-position-indicator-block { transition: transform 0.2s, 300ms opacity ease, 300ms visibility ease !important; }'+'#pathIdD { transform:rotate(0deg);-webkit-transform:rotate(0deg) }'+'@media (orientation: landscape){#ayads-html{display:none} body { padding-top:0 !important;} }'+'html { overflow-x:initial !important; overflow-y: initial !important; }'+'body.sublime-panel-opened { overflow:hidden !important; overflow-scrolling:auto;-webkit-overflow-scrolling:auto; }'+'body.sublime-panel-opening { overflow:hidden !important; overflow-scrolling:auto;-webkit-overflow-scrolling:auto; }'+'.sublime-mobile-container { background-size: contain; background: transparent url(\'https://cdn.ayads.co/creatives/loading.gif\') no-repeat 50% 50%; cursor: pointer !important; left: 0 ; overflow:hidden !important; position: absolute !important; width:100%; }'+'.sublime-mobile-type-video { height: 100% !important; object-fit: cover !important; }'+'body.sublime-landscape .sublime-mobile-type-video { object-fit: none !important; }'+'#sublime-mobile-top-container { top: 0 !important; transform: translate(0, 0); z-index: 1 !important; width:100%; overflow: hidden; }'+'#sublime-mobile-top-image { width:100%; background-size: cover; height: 100%; }'+'.sublime-mobile-top-close{ z-index: 3; position: absolute; width: 25px; height: 25px; top: 4px; right: 4px; background-size: contain; background-repeat: no-repeat; background-image: url(https://cdn.ayads.co/creatives/commons/close-up.svg); }'+'.sublime-mobile-top-close.sublime-hidden{ display: none !important; }'+'#sublime-mobile-panel-container { box-shadow: inset 25px 0px 20px -16px rgba(0,0,0,0.5);height: 100%; position: fixed !important; top: 0; left: 100%; width: 100%; z-index: 1000000 !important; overflow: hidden !important; }'+'#sublime-mobile-panel-img { position: absolute !important; left: 50% !important; top: 50% !important; height: 100% !important; width: auto !important; -webkit-transform: translate(-50%,-50%) !important; -ms-transform: translate(-50%,-50%) !important; transform: translate(-50%,-50%); max-width: none; }'+'#sublime-mobile-bottom-container { box-shadow: 0px -12px 25px -2px rgba(0, 0, 0, 0.5);background-size: cover; }'+'#sublime-mobile-bottom-container.sublime-fixed-footer-option {  transition:300ms transform ease;transform:translate3d(0,0,0);position:fixed !important; bottom:0px !important; width:100% !important; z-index:10000; }'+'.sublime-hide{ display: none; }'+'#sublime-mobile-top-container{ transition: left .5s ease-in; }'+'#sublime-mobile-top-container.sublime-top-fixed{ z-index: 15000000 !important; position: fixed !important; }'+'#sublime-mobile-top-container::after { content: ""; display: block;width: 100%;bottom: 0;height: 0;box-shadow: 0 0 13px 11px rgba(0,0,0,0.5);position: absolute;z-index: 1; }'+'#sublime-mobile-top-image.sublime-top-fixed{ transform: translate3d(0px, 0px, 0px) !important; }'+'#sublime-mobile-top-img { height: auto !important; max-width: 100% !important; width:100% !important; }'+'#sublime-mobile-bottom-img { height: auto !important; max-width: 100% !important; width:100% !important; }'+'#sublime-mobile-panel-close { color: white !important; cursor: pointer !important; font-size: 5vw !important; padding: 10px 15px !important; position: absolute !important; right: 20px !important; top: 20px !important; z-index: 10 !important; }'+'.sublime-indicator-container { position: absolute !important; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, .7); color: #fff; height: 6vh; line-height: 6vh; text-align: center; }'+'.sublime-indicator-container.hide { display: none; }'+'.sublime-indicator-text { font-family: sans-serif; margin: 0; text-transform: uppercase; font-size: 2.3vh; height: 100%; display: inline-block; vertical-align: top; }'+'#sublime-mobile-panel-swipe-icon { width: 3.3vh; display: inline; height: 100%; margin-right: 3vw; }'+'#sublime-mobile-panel-swipe-icon path { fill: #ffffff; }'+'#sublime-position-indicator-block { width: 100%; height: 25px; position: fixed!important; top: 0; left: 0; z-index: 1000001; opacity: 1; visibility: visible; transition: 300ms opacity ease, 300ms visibility ease; }'+'#sublime-position-indicator-block.hide { opacity: 0; visibility: hidden; }'+'#sublime-position-indicator-container { width: 50px; height: 15px; margin: 5px auto; background: rgba(0, 0, 0, .7); border-radius: 14px; text-align: center; border: 1px solid rgba(255, 255, 255, .7); }'+'.sublime-position-indicator { width: 5px; height: 5px; border-radius: 50%; display: inline-block; background: #ffffff; transform-origin: center; vertical-align: top; margin-top: 5px; }'+'#sublime-position-indicator-left { margin-right: 5px; width: 7px; height: 7px; margin-top: 4px; }'+'.sublime-panel-opened #sublime-position-indicator-left { width: 5px; height: 5px; margin-top: 5px; }'+'.sublime-panel-opened #sublime-position-indicator-right { width: 7px; height: 7px; margin-top: 4px; }'+'#sublime-mobile-panel-arrow-container { position: fixed !important; right:0; top: 50%; border: 1px solid rgba(255, 255, 255, .7); border-right: none; z-index: 10001 !important; background: rgba(0, 0, 0, .7); -webkit-transform-origin: 50% 50%; -moz-transform-origin: 50% 50%; -ms-transform-origin: 50% 50%; -o-transform-origin: 50% 50%; transform-origin: 50% 50%; padding: 10px 5px 10px 10px; border-radius: 50px 0 0 50px; }'+'#sublime-mobile-panel-arrow-container.hide { display:none; }'+'#sublime-mobile-panel-arrow-container{ transition: margin .5s ease-in; }'+'#sublime-mobile-panel-arrow-container.sublime-top-fixed{ margin-right: -50px; }'+'.sublime-panel-opened #sublime-mobile-panel-arrow-container{ transition: margin .5s ease-in; }'+'.sublime-panel-opened #sublime-mobile-panel-arrow-container.sublime-top-fixed{ margin-right: 0px; }'+'#sublime-mobile-panel-arrow { display:block; fill: #fff; }';sublime.display.addCss(css);}
function createComponentContainer(componentKey){var container=sublime.document.createElement('div');container.id='sublime-mobile-'+componentKey+'-container';container.className='sublime-mobile-container';container.style.backgroundColor=creativeAd.color;return container;}
function changeComponentBackground(component,container,callback){var mediaHeight=0;container.style.backgroundImage='url(\''+component.src+'\')';var image=new Image();image.src=component.src;image.onload=function(){mediaHeight=parseInt(image.height / image.width*sublime.document.body.clientWidth);container.style.backgroundSize='cover';callback.call(this,mediaHeight);};}
function appendComponentTop(component){var container=createComponentContainer(component.key);var image=sublime.document.createElement('div');image.id='sublime-mobile-top-image';components.topImage=image;changeComponentBackground(component,image,function(mediaHeight){container.style.background='transparent';sublime.document.body.style.setProperty('padding-top',mediaHeight+'px');container.style.height=mediaHeight+'px';container.appendChild(image);sublime.display.getCreativeContainer().appendChild(container);sublime.hook.call('step.mobile.topReady');});container.addEventListener('click',function(){sublime.hook.call('event.mobile.clickTop');});return container;}
function appendComponentPanel(component){var container=createComponentContainer(component.key);var indicationContainer=createIndicator();changeComponentBackground(component,container,function(){container.style.height=sublime.window.innerHeight+'px';container.appendChild(indicationContainer);sublime.display.getCreativeContainer().appendChild(container);sublime.hook.call('step.mobile.panelReady');});container.onclick=handlePanelClick;return container;}
function buildComponentBottom(component){var container=createComponentContainer(component.key);changeComponentBackground(component,container,function(mediaHeight){container.style.height=mediaHeight+'px';componentBottomHeight=mediaHeight;});container.addEventListener('click',function(){sublime.hook.call('event.mobile.clickBottom');});return container;}
function appendArrow(parentElement,width,arrowAttrs){var prop;var defaultWidth=30;width=width?width:defaultWidth;arrowAttrs=arrowAttrs?arrowAttrs:{};var svgNS=null;var container=sublime.document.createElement('div');container.id='sublime-mobile-panel-arrow-container';var svg=sublime.document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttributeNS(svgNS,"viewBox","0 0 24 37");svg.id='sublime-mobile-panel-arrow';var arrowPath=sublime.document.createElementNS("http://www.w3.org/2000/svg","path");arrowPath.setAttributeNS(svgNS,"id","pathIdD");arrowPath.setAttributeNS(svgNS,"d","M17.8,36.8c-1.2,0-2.4-0.5-3.3-1.4L1.3,21.5c-1.7-1.8-1.7-4.5,0-6.3L14.5,1.4c1.7-1.8,4.6-1.9,6.4-0.1 C22.7,3,22.8,5.9,21,7.8L10.9,18.4l10.2,10.7c1.7,1.8,1.7,4.7-0.2,6.5C20,36.4,18.9,36.8,17.8,36.8L17.8,36.8z");sublime.display.addCss('.sublime-panel-opened #sublime-mobile-panel-arrow-container {transform: rotate(180deg); transform-origin: center; } #sublime-mobile-panel-arrow {width: '+width+'px;}.sublime-panel-opened #sublime-mobile-panel-arrow-container{right: -'+(width+15)+'px;z-index:9999999 !important}');for(prop in arrowAttrs){if(!arrowAttrs.hasOwnProperty(prop)){continue;}
arrowPath.setAttributeNS(svgNS,prop,arrowAttrs[prop]);}
svg.appendChild(arrowPath);container.appendChild(svg);parentElement.appendChild(container);components.arrowContainer=container;svg.addEventListener('click',handleArrowClick);return svg;}
function createIndicator(){var container=sublime.document.createElement('div');container.className='sublime-indicator-container';var p=sublime.document.createElement('p');p.className='sublime-indicator-text';p.innerHTML=sublime.i18n('swipeBack');container.appendChild(createSwipeBackIcon());container.appendChild(p);return container;}
function appendPositionIndicator(){var block=sublime.document.createElement('div');block.id='sublime-position-indicator-block';var container=sublime.document.createElement('div');container.id='sublime-position-indicator-container';var positions=['left','right'];positions.forEach(function(value){var indicator=sublime.document.createElement('div');indicator.id='sublime-position-indicator-'+value;indicator.className='sublime-position-indicator';container.appendChild(indicator);});block.appendChild(container);sublime.display.getCreativeContainer().appendChild(block);return block;}
function createSwipeBackIcon(){var svgNS=null;var svg=sublime.document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttributeNS(svgNS,"viewBox","0 0 178 220");svg.id='sublime-mobile-panel-swipe-icon';var arrowPath=sublime.document.createElementNS("http://www.w3.org/2000/svg","path");arrowPath.setAttributeNS(svgNS,"id","icon-arrow-swipe");arrowPath.setAttributeNS(svgNS,"d","M78.7,45.2h70.2c0.1,0,0.1,0.1,0,0.1l-15.1,15.1c-2.9,2.9-3.1,7.9-0.1,10.7c1.4,1.3,3.1,1.9,4.9,1.9c1.8,0,3.7-0.7,5.1-2.1 l27-26.9c2.8-2.8,2.8-7.4,0-10.2L143,6.2c-3-3-7.9-2.8-10.6,0.5c-2.4,2.9-2,7.3,0.7,10l14,14v0.1h-68c-3.8,0-7.2,2.8-7.6,6.6 C71.1,41.7,74.5,45.2,78.7,45.2L78.7,45.2z");var handPath=sublime.document.createElementNS("http://www.w3.org/2000/svg","path");handPath.setAttributeNS(svgNS,"id","icon-hand-swipe");handPath.setAttributeNS(svgNS,"d","M162.7,115.9c-3.8-22.9-18.6-27-25.6-27.6c-5.3-6.9-12.9-10.7-21.6-10.7c-1.9,0-3.8,0.2-5.7,0.5c-5.2-6.2-12.3-9.5-20.4-9.5 c-6.1,0-11.5,1.9-15.2,4.1L59,25C55.9,15.1,47.7,8.9,37.6,8.9l0,0c-7.6,0-14.8,3.6-19.1,9.6c-4.2,5.8-5.3,13-3,20.2L34.6,99 c-2.7,1.6-5.1,3.7-7.1,6.2c-3.9,4.9-6.3,11.5-7,19.4c-1.1,11.8,2.8,24.9,11.6,39.1c5.9,9.5,12.5,17,15.2,19.8l9,21.1 c2.2,5.2,7.2,8.4,12.8,8.4H129c6.8,0,12.6-4.8,13.8-11.5c0-0.2,0-0.3,0.1-0.4l2.5-21c0.1-0.3,0.3-0.6,0.4-0.9 C159.1,148.5,164.7,127.8,162.7,115.9L162.7,115.9z M136.2,176.9c-0.1,0.3-0.2,0.6-0.3,1l-2.6,21.9c-0.4,2.1-2.2,3.5-4.3,3.5H69.1 c-1.7,0-3.3-0.9-4-2.6l-9.4-22c-0.2-0.5-0.5-0.9-0.9-1.3c-3.9-4-26.9-29.2-24.8-52.1c1.2-13.6,7.8-18,12.3-19.4 c2.3-0.7,3.5-3.2,2.8-5.4L24.6,35.9c-3.2-10.3,5-17.2,13-17.2c5.1,0,10.2,2.8,12.2,9.3l17.6,55.2c0.6,2,2.4,3.1,4.2,3.1 c1.3,0,2.5-0.5,3.4-1.7c0.7-1,1.6-1.9,2.6-2.7c2.3-1.8,6.8-3.7,11.7-3.7c5.1,0,10.5,2,14.5,8.1c0.8,1.3,2.2,2,3.7,2 c0.4,0,0.8-0.1,1.2-0.2c1.7-0.5,4.1-1,6.6-1c4.9,0,10.8,1.8,15.1,8.6c0.8,1.3,2.2,2.1,3.7,2.1h0.1c0.2,0,0.3,0,0.5,0 c5.2,0,15.5,2.3,18.4,19.7C155.9,133.7,138.2,172.2,136.2,176.9L136.2,176.9z");svg.appendChild(handPath);svg.appendChild(arrowPath);return svg;}
function addWindowEvents(){sublime.window.addEventListener('orientationchange',applyOrientationClassPanel);sublime.window.addEventListener('resize',handleResize);sublime.window.addEventListener('scroll',handleScroll);sublime.document.body.addEventListener('touchstart',sublime.display.mobile.panel.handleTouchStart);sublime.document.body.addEventListener('touchmove',sublime.display.mobile.panel.handleTouchMove);sublime.document.body.addEventListener('touchend',sublime.display.mobile.panel.handleTouchEnd);sublime.hook.register('event.cleanUp',function clearEventListeners(){sublime.window.removeEventListener('orientationchange',applyOrientationClassPanel);sublime.window.removeEventListener('resize',handleResize);sublime.window.removeEventListener('scroll',handleScroll);sublime.document.body.removeEventListener('touchstart',sublime.display.mobile.panel.handleTouchStart);sublime.document.body.removeEventListener('touchmove',sublime.display.mobile.panel.handleTouchMove);sublime.document.body.removeEventListener('touchend',sublime.display.mobile.panel.handleTouchEnd);});}
sublime.display.mobile.panel.handleTouchStart=function handleTouchStart(e){if(!canSwipe){return;}
if(e.touches&&e.touches.length>1){return false;}
if(!isPortrait()){return;}
for(var i=0,lgt=noSwipeElements.length;i<lgt;i++){var selector=noSwipeElements[i];if(e.target.closest(selector)){sublime.info('Swipe has been disable for these elements',noSwipeElements);return;}}
touchStartX=e.touches[0].screenX;touchStartY=e.touches[0].screenY;var transform=sublime.document.body.style.transform||'';transform=transform.split(', ')[0];startPercentX=(transform!=='')?-100:0;};sublime.display.mobile.panel.handleTouchMove=function handleTouchMove(e){if(e.touches&&e.touches.length>1){return false;}
if(!isPortrait()){return;}
touchCurrentX=(e.touches&&e.touches[0]?e.touches[0].screenX:touchCurrentX)||0;touchCurrentY=(e.touches&&e.touches[0]?e.touches[0].screenY:touchCurrentY)||0;if(!touchCurrentX||!touchCurrentY){return;}
var direction;isOpened=sublime.document.body.classList.contains('sublime-panel-opened');isOpening=sublime.document.body.classList.contains('sublime-panel-opening');touchDeltaX=touchCurrentX-touchStartX;touchDeltaY=touchCurrentY-touchStartY;percentY=(touchDeltaY / sublime.window.innerHeight)*100;if(Math.abs(touchDeltaY)>Math.abs(touchDeltaX)){if(isOpened||isOpening){return false;}
return;}
if(sublime.document.body.classList.contains('sublime-scrolling')){return false;}
sublime.document.body.classList.add('sublime-panel-opening');if(touchDeltaX>0){direction='right';}else{direction='left';}
if(direction==='right'&&!isOpened){return;}
if(direction==='left'&&isOpened){return;}
percentX=touchDeltaX /(sublime.window.innerWidth)*100;if(Math.abs(percentX)>100){percentX=(direction==='left')?-100:100;}
components.positionIndicator.style.top=sublime.window.scrollY+'px';movePanel(percentX);movePositionIndicator(percentX);moveArrow();};sublime.display.mobile.panel.handleTouchEnd=function handleTouchEnd(e){if(Math.abs(touchDeltaY)>Math.abs(touchDeltaX)){openClosePanelChecker();resetTouchVariables();return;}
if((percentX===undefined||percentX===null)&&(percentY===undefined||percentY===null)){resetTouchVariables();return;}
openClosePanelChecker();resetTouchVariables();e.preventDefault();};function handleResize(){computeOrientation();components.panel.style.height=sublime.window.innerHeight+'px';}
function showFooter(param){if(param){components.bottom.style.transform='translate3d(0,0,0)';sublime.analytics.fire(32097,'bottomView');}else{components.bottom.style.transform='translate3d(0,'+(componentBottomHeight+25)+'px, 0)';}}
function handleScroll(){if(topSticky){if(sublime.display.mobile.panel.isOnTopOfPage()){components.close_button.classList.add('sublime-hidden');components.top.style.left=0;}else if(!sublime.display.mobile.panel.isOnPanel()&&!sublime.display.mobile.panel.isTopAdClosed()){components.close_button.classList.remove('sublime-hidden');}}
components.panel.style.top=sublime.window.scrollY+'px';if(isOpened||isOpening){moveArrow();}
var windowHeight=Math.max(sublime.document.body.scrollHeight,sublime.document.body.offsetHeight,sublime.document.body.parentNode.clientHeight),bottomHeight=components.bottom.clientHeight,footerFixedClass=components.bottom.classList.contains('sublime-fixed-footer-option'),isViewabilityBoosted=components.bottom.classList.contains('sublime-viewability-behaviour');if(!sublime.zone.mobile_setup){sublime.zone.mobile_setup={};sublime.zone.mobile_setup.footer_fixed=0;}
var footerFixed=creativeAd.mobile_setup.footer_fixed&&sublime.zone.mobile_setup.footer_fixed;if(!footerFixedClass&&footerFixed){components.bottom.classList.add('sublime-fixed-footer-option');}
if(hideIndicatorTimeout){sublime.timer.clearTimeout(hideIndicatorTimeout);hideIndicatorTimeout=null;}
if(sublime.window.scrollY>components.top.clientHeight){if(!isOpened||!isOpening){if(!footerFixed){components.positionIndicator.classList.add('hide');}else if(lastScrollPosition-sublime.window.scrollY>50){showFooter(true);components.arrowContainer.classList.remove('hide');components.positionIndicator.classList.remove('hide');}else if(lastScrollPosition-sublime.window.scrollY<0){if(!isViewabilityBoosted){showFooter(false);}
components.arrowContainer.classList.add('hide');components.positionIndicator.classList.add('hide');}}else{components.positionIndicator.classList.remove('hide');}}else{components.positionIndicator.classList.remove('hide');components.arrowContainer.classList.remove('hide');if(footerFixed){showFooter(false);}
canSwipe=true;}
sublime.timer.setTimeout(function(){lastScrollPosition=sublime.window.scrollY;},100);if(windowHeight-bottomHeight<sublime.window.innerHeight+sublime.window.scrollY){if(footerFixed){canSwipe=true;sublime.document.body.style.padding=componentBottomHeight+'px 0px';components.bottom.style.transform='translate3d(0,0,0)';}
sublime.analytics.fire(32097,'bottomView');components.positionIndicator.classList.remove('hide');components.arrowContainer.classList.remove('hide');}
handleParallax();sublime.document.body.classList.add('sublime-scrolling');var delay=200;if(timeoutScroll){sublime.timer.clearTimeout(timeoutScroll);}
timeoutScroll=sublime.timer.setTimeout(function(){sublime.document.body.classList.remove('sublime-scrolling');},delay);}
function handleParallax(){var val=sublime.window.scrollY / 2;components.topImage.style.transform='translate3d(0, '+val+'px, 0)';}
function handleArrowClick(e){e.preventDefault();e.stopPropagation();if(sublime.document.body.classList.contains('sublime-panel-opened')){sublime.display.mobile.panel.openClosePanel('close');}else{sublime.display.mobile.panel.openClosePanel('open');}}
function handleTopClick(){sublime.analytics.fire(32097,'click');sublime.window.open(sublime.adServer.clickurlizeAntenna(creativeAd.url,'mct'));}
function handleBottomClick(){sublime.analytics.fire(32097,'click');sublime.window.open(sublime.adServer.clickurlizeAntenna(creativeAd.url,'mcb'));}
function handlePanelClick(){sublime.analytics.fire(32097,'click');sublime.hook.call('event.mobile.clickPanel');sublime.window.open(sublime.adServer.clickurlizeAntenna(creativeAd.url,'mcp'));}
function appendIframeInsidePanel(){if(sublime.isEmpty(creativeAd.html)){return;}
if(sublime.inArray(creativeAd.html_usage,['iframe-lazy','iframe','cross-domain-iframe'])){var i=sublime.document.createElement('iframe');i.id=sublime.env('sublime_prefix')+'-rich-media';i.name=sublime.env('sublime_prefix')+'-rich-media';i.height='94%';i.width='100%';i.style.borderWidth='0';if(creativeAd.html_usage==='cross-domain-iframe'){i.src=sublime.env('sublime_url')+'ad/'+creativeAd.id+'/iframe';components.panel.appendChild(i);return;}
if(creativeAd.html_usage==='iframe'){writeToIframeAndAppendToPanelContent(i,creativeAd.html);return;}
if(creativeAd.html_usage==='iframe-lazy'){sublime.hook.register({namespace:'event.mobile.openPanel',callback:function(){writeToIframeAndAppendToPanelContent(i,creativeAd.html);},multiple:false});return;}}else{sublime.display.writeToContainer(creativeAd.html,components.panel.id);}}
function movePanel(percentX){sublime.document.body.style.transform='translate3d('+(percentX+startPercentX)+'%, 0, 0)';}
function movePositionIndicator(percentX){components.positionIndicator.style.transform='translate3d('+(-(percentX+startPercentX))+'%, 0, 0)';}
function openClosePanelChecker(){if(isOpened){if(Math.abs(percentX)>30){sublime.display.mobile.panel.openClosePanel('close');}else{sublime.display.mobile.panel.openClosePanel('open');}}else if(isOpening){if(Math.abs(percentX)>30){sublime.display.mobile.panel.openClosePanel('open');}else{sublime.display.mobile.panel.openClosePanel('close');}}}
function handlePositionIndicatorsOnPanelClose(){components.positionIndicator.style.transform='translate3d(0, 0, 0)';components.positionIndicator.style.top='0';if(sublime.window.scrollY>components.top.clientHeight){hideIndicatorTimeout=sublime.timer.setTimeout(function(){components.positionIndicator.classList.add('hide');},1000);}}
function handlePositionIndicatorsOnPanelOpen(){components.positionIndicator.style.transform='translate3d(100%, 0, 0)';components.positionIndicator.classList.remove('hide');if(hideIndicatorTimeout){sublime.timer.clearTimeout(hideIndicatorTimeout);hideIndicatorTimeout=null;}}
function closePanel(){sublime.document.body.style.transform='translate3d(0, 0, 0)';handlePositionIndicatorsOnPanelClose();recenterArrow();stepMobilePanelClose();sublime.document.body.classList.remove('sublime-panel-opened');sublime.document.body.classList.remove('sublime-panel-opening');isOpened=false;isOpening=false;isOnPanel=false;sublime.document.body.style.transform='';}
function openPanel(){isOnPanel=true;sublime.document.body.style.transform='translate3d(-100%, 0, 0)';sublime.document.body.classList.add('sublime-panel-opened');handlePositionIndicatorsOnPanelOpen();stepMobilePanelOpen();controlBackButton();}
function moveArrow(){components.arrowContainer.style.top=(sublime.window.scrollY+(sublime.window.innerHeight / 2-(svgArrowHeight / 2)))+'px';}
function recenterArrow(){components.arrowContainer.style.top=(sublime.window.innerHeight / 2-(svgArrowHeight / 2))+'px';}
function stepMobilePanelOpen(){sublime.elapsedSinceLastCall('mobilePanel');sublime.analytics.fire(32097,'panelView');if(timeElapsedOnPanel<1000){timeout1s=sublime.timer.setTimeout(function(){sublime.analytics.fire(32097,'panelViewSec1');},1000-timeElapsedOnPanel);}
if(timeElapsedOnPanel<3000){timeout1s=sublime.timer.setTimeout(function(){sublime.analytics.fire(32097,'panelViewSec3');},3000-timeElapsedOnPanel);}}
function stepMobilePanelClose(){if(!isOpened){return;}
timeElapsedOnPanel+=sublime.elapsedSinceLastCall('mobilePanel');if(timeout1s){sublime.timer.clearTimeout(timeout1s);}
if(timeout3s){sublime.timer.clearTimeout(timeout3s);}}
function resetTouchVariables(){touchStartY=0;touchStartX=0;percentX=null;percentY=null;touchDeltaY=0;touchDeltaX=0;}
function writeToIframeAndAppendToPanelContent(i,html){components.panel.appendChild(i);html+='<script>var inDapIF = true;</script>';var iDoc=i.contentDocument;iDoc.open();iDoc.write('<!doctype html><html><body style="margin:0">'+html+'</body></html>');iDoc.close();}
var pixelsPanel={topView:{inherit:'_commonSkinz',qs:{e:'mtv'}},bottomView:{inherit:'_commonSkinz',qs:{e:'mbv'}},panelView:{inherit:'_commonSkinz',qs:{e:'mp0'}},panelViewSec1:{inherit:'_commonSkinz',qs:{e:'mp1'}},panelViewSec3:{inherit:'_commonSkinz',qs:{e:'mp3'}}};sublime.helpers.createNamespace('sublime.display.mobile.panel.mskinz');sublime.display.mobile.panel.mskinz.adIsReady=sublime.display.mobile.panel.adIsReady;sublime.display.mobile.panel.mskinz.render=sublime.display.mobile.panel.render;sublime.display.mobile.setNoSwipeElements=sublime.display.mobile.panel.setNoSwipeElements;sublime.display.mobile.getComponent=sublime.display.mobile.panel.getComponent;sublime.display.mobile.moveBottom=sublime.display.mobile.panel.moveBottom;sublime.display.mobile.openClosePanel=sublime.display.mobile.panel.openClosePanel;sublime.helpers.createNamespace('sublime.display.mobile.panel.mskinzVideo');var VIDEO_CONTAINER='video_container',VIDEO='video',CLOSE_BUTTON='close_button',MUTE_BUTTON='mute_button',VIDEO_PROGRESS_BAR='video_progress_bar';var quartileNames=['start','firstQuartile','midpoint','thirdQuartile','complete'],components=[],triggeredQuartiles=[],isVideoFinished=false,hasBeenClicked=false;sublime.display.mobile.panel.mskinzVideo.adIsReady=function(ad){return sublime.display.mobile.panel.adIsReady(ad)&&ad.mobile_setup.top.hasOwnProperty('video');};sublime.display.mobile.panel.mskinzVideo.render=function(ad){sublime.analytics.setPixels(32097,videoPixelsMskinzVideo);sublime.display.mobile.panel.setTopSticky(true);sublime.display.mobile.panel.render(ad);components=sublime.display.mobile.panel.getComponents();addMSkinVideoCss();var video=displayMSkinzVideo(ad.mobile_setup.top.video);addEventsMskinzVideo();video.play();};function displayMSkinzVideo(videoSrc){var videoContainer=createVideoContainer();var videoLoading=createVideoLoading();videoContainer.appendChild(videoLoading);var videoProgressBar=createVideoProgressBar();videoLoading.appendChild(videoProgressBar);var muteButton=createVideoMuteButton();videoContainer.appendChild(muteButton);var video=createVideo(videoSrc);videoContainer.insertBefore(video,videoContainer.firstChild);var topContainer=components.top;topContainer.appendChild(videoContainer);return video;}
function createVideoContainer(){var videoContainer=document.createElement('div');videoContainer.id='sublime-mobile-video-container';videoContainer.style.height='inherit';videoContainer.style.zIndex='2';components[VIDEO_CONTAINER]=videoContainer;return videoContainer;}
function createVideoLoading(){var videoLoading=document.createElement('div');videoLoading.className='sublime-mobile-loading-bar';return videoLoading;}
function createVideoProgressBar(){var videoLoadingProgress=document.createElement('div');videoLoadingProgress.className='sublime-mobile-loading-bar-progress';components[VIDEO_PROGRESS_BAR]=videoLoadingProgress;return videoLoadingProgress;}
function createVideoMuteButton(){var videoMute=document.createElement('div');videoMute.className='sublime-mobile-video-mute muteOn mute-animation';components[MUTE_BUTTON]=videoMute;videoMute.onclick=function(e){e.stopPropagation();e.preventDefault();var video=components[VIDEO];video.muted=!video.muted;videoMute.className='sublime-mobile-video-mute '+(video.muted?'muteOn':'muteOff');videoMute.classList.remove('mute-animation');};return videoMute;}
function createVideo(videoSrc){var video=sublime.window.document.createElement('video');video.id=sublime.display.elements.VIDEO_ID.mobile;video.src=videoSrc;video.controls=false;video.muted=true;video.loop=false;video.preload='auto';video.style.width='inherit';video.style.display='';video.setAttribute('playsinline','playsinline');video.setAttribute('muted','muted');components[VIDEO]=video;video.onclick=function(){sublime.display.mobile.panel.openClosePanel('open');};var videoLoadingProgress=components[VIDEO_PROGRESS_BAR];video.ontimeupdate=function(){var percentage=Math.abs((((video.duration-video.currentTime)/ video.duration)*100)-100);videoLoadingProgress.style.width=percentage+'%';sublime.creativeAd.video_duration=parseInt(video.duration,10);computeMetrics(video);};function createPlayControls(){var container=d.getElementById('sublime-mobile-video-container');var controls=d.createElement('div');controls.id='sublime-mobile-video-play-controls';controls.className='sublime-mobile-video-play-controls';var playButton=d.createElement('div');playButton.id='sublime-mobile-video-buttons-play';playButton.className='play';controls.appendChild(playButton);var pauseButtonPulseCircle=d.createElement('div');pauseButtonPulseCircle.id='play-video-pulsar';controls.appendChild(pauseButtonPulseCircle);var vidOverlay=d.createElement('div');vidOverlay.id='sublime-mobile-video-overlay';container.appendChild(vidOverlay);controls.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();video.play();d.getElementById('sublime-mobile-video-overlay').remove();d.getElementById('sublime-mobile-video-play-controls').remove();});container.appendChild(controls);}
video.onended=function(){isVideoFinished=true;createPlayControls();};video.addEventListener('canplaythrough',function(){sublime.analytics.fire(32097,'videoCanplaythrough');});video.addEventListener('loadeddata',function(){sublime.analytics.fire(32097,'videoLoadeddata');});video.addEventListener('playing',function(){sublime.analytics.fire(32097,'videoPlaying');});return video;}
function removeTopContainerClickEventMskinzVideo(){sublime.hook.register({namespace:'event.mobile.clickTop',callback:sublime.noOp,only:true});}
function pauseAndMuteVideo(){hasBeenClicked=true;components[VIDEO].pause();}
function addEventsMskinzVideo(){removeTopContainerClickEventMskinzVideo();var videoContainer=components[VIDEO_CONTAINER],video=components[VIDEO],topContainer=components.top;sublime.hook.register('event.mobile.clickPanel',pauseAndMuteVideo);sublime.hook.register('event.mobile.clickBottom',pauseAndMuteVideo);sublime.hook.register('event.mobile.openPanel',function(){components.panel.appendChild(videoContainer);videoContainer.style.height=topContainer.clientHeight+'px';if(!isVideoFinished){video.play();}});sublime.hook.register('event.mobile.closePanel',function(){topContainer.appendChild(videoContainer);components.topImage.style.display='none';videoContainer.style.height='inherit';if(!isVideoFinished){var isVideoClosed=sublime.display.mobile.panel.isTopAdClosed();if(!isVideoClosed||(isVideoClosed&&sublime.display.mobile.panel.isOnTopOfPage())){video.play()}}});components[CLOSE_BUTTON].addEventListener('click',function(e){e.stopPropagation();e.preventDefault();var video=components[VIDEO];video.pause();});sublime.window.addEventListener('scroll',function(e){if(sublime.display.mobile.panel.isOnTopOfPage()){if(!isVideoFinished&&!hasBeenClicked){video.play();}}else if(!sublime.display.mobile.panel.isOnPanel()&&sublime.display.mobile.panel.isTopAdClosed()){video.pause();}});}
function getQuartile(currentTime,duration){var quartileLength=duration / 4;var unroundedQuartile=currentTime / quartileLength;return Math.floor(unroundedQuartile);}
function computeMetrics(video){if(!sublime.isDefined(video.currentTime)||!sublime.isDefined(video.duration)||!sublime.isNum(video.currentTime)||!sublime.isNum(video.duration)){sublime.warn('video.currentTime or video.duration is not defined, no metrics sent.');return;}
if(video.paused&&video.duration!==video.currentTime){sublime.warn('Video is paused, no metrics sent.');return;}
var quartile=getQuartile(video.currentTime,video.duration);if(quartile>4||triggeredQuartiles[quartile]){return;}
for(var index=0;index<quartile;index++){var quartileIndex='videoQ'+index;var pixels=sublime.analytics.getPixels();if(sublime.helpers.hasProperty(pixels,32097+'.'+quartileIndex)&&pixels[32097][quartileIndex].fired!==1){sublime.analytics.fire(32097,quartileIndex);}}
sublime.analytics.fire(32097,'videoQ'+quartile);var quartileName=quartileNames[quartile];sublime.hook.call('step.video.quartile'+quartile,{duration:video.duration,quartile:quartile,quartileName:quartileName,currentTime:video.currentTime});triggeredQuartiles[quartile]=true;}
var videoPixelsMskinzVideo={videoCanplaythrough:{inherit:'_commonSkinz',qs:{e:'dicpt'}},videoLoadeddata:{inherit:'_commonSkinz',qs:{e:'dild'}},videoPlaying:{inherit:'_commonSkinz',qs:{e:'dip'}},videoQ0:{inherit:'_videoQuartile',qs:{e:'q0'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ1:{inherit:'_videoQuartile',qs:{e:'q1'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ2:{inherit:'_videoQuartile',qs:{e:'q2'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ3:{inherit:'_videoQuartile',qs:{e:'q3'},addBrowserDimensions:true,addPageHeightDimension:true,},videoQ4:{inherit:'_videoQuartile',qs:{e:'q4'},addBrowserDimensions:true,addPageHeightDimension:true,}};function addMSkinVideoCss(){var css='#sublime-mobile-top-image{ display: none; }'+'.sublime-indicator-container{ display: none; line-height:0 }'+'#sublime-mobile-video { width: 100% }'+'.sublime-panel-opened #sublime-mobile-video{ margin-top:0px; }'+'#sublime-position-indicator-block{ display: none; }'+'#sublime-mobile-video-container{ position: absolute; top: 0; width: inherit; overflow: hidden; }'+'.sublime-mobile-video-mute{ position: absolute; width: 23px; height: 23px; bottom: 4px; left: 4px; background-size: contain; background-repeat: no-repeat;}'+'.mute-animation{animation-name: muteScale; animation-duration: 1s; animation-iteration-count: infinite; animation-direction: alternate; animation-timing-function: ease-in-out;}'+'.sublime-mobile-video-mute.muteOff{ background-image: url(https://cdn.ayads.co/creatives/commons/volume-up.svg)}'+'.sublime-mobile-video-mute.muteOn{ background-image: url(https://cdn.ayads.co/creatives/commons/volume-down.svg)}'+'@keyframes muteScale{ 0%{ transform: scale(1); } 50%{ transform: scale(1); } 100%{ transform: scale(1.1); } }'+'@keyframes countdownFixSafari{ 0%{ transform: scale(1); } 100%{ transform: scale(1); } }'+'.sublime-mobile-loading-bar{   position: absolute; bottom: 0; height: 3px; width: 100%; background-color: rgba(255, 255, 255); }'+'.sublime-mobile-loading-bar-progress{ position: relative; height: 3px; width: 0%; background-color: rgba(233, 83, 29); }'+'.sublime-mobile-video-play-controls {height:100%;width:100%;display:flex;justify-content:center;align-items:center;background:no-repeat center;position:absolute;background-size:contain;z-index:1;bottom:0;}'+'#sublime-mobile-video-buttons-play {height:37px;width:37px;background-image:url(https://cdn.ayads.co/creatives/commons/icon-play.svg)}'+'#play-video-pulsar{position:absolute;background:transparent;border:1px solid white;width:35px;border-radius:50%;height:35px;z-index:5;transform-origin:center;animation-name:play-video-pulsar;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate-reverse;animation-timing-function:cubic-bezier(0.4,0,1,1);}'+'@keyframes play-video-pulsar{ from {transform:scale(1.5);opacity:.2;} to {transform:scale(1.2);opacity:1;}}'+'#sublime-mobile-video-overlay {height:100%;width:100%;position:fixed;top:0;left:0;background-color:black;opacity:0.5}';sublime.display.addCss(css);}
sublime.helpers.createNamespace('sublime.display.mobile.panel.mskinzShop');var isFirstOpen=true;sublime.display.mobile.panel.mskinzShop.adIsReady=sublime.display.mobile.panel.adIsReady;sublime.display.mobile.panel.mskinzShop.render=function(ad){sublime.display.mobile.panel.setTopSticky(false);sublime.display.mobile.panel.render(ad);addMSkinShopCss();addEvents(ad);};function removeTopContainerClickEvent(){sublime.hook.register({namespace:'event.mobile.clickTop',callback:sublime.noOp,only:true});}
function removeBottomContainerClickEvent(){sublime.hook.register({namespace:'event.mobile.clickBottom',callback:sublime.noOp,only:true});}
function addEvents(ad){removeSwipeBackClickEvent();removeTopContainerClickEvent();removeBottomContainerClickEvent();sublime.hook.register('step.mobile.topReady',function(){var components=sublime.display.mobile.panel.getComponents();if(sublime.helpers.hasProperty(ad,'sspResponse.privacy.optout_image_url')&&sublime.helpers.hasProperty(ad,'sspResponse.privacy.optout_click_url')){var optoutImageUrl=ad.sspResponse.privacy.optout_image_url;var optoutClickUrl=ad.sspResponse.privacy.optout_click_url;appendAdChoice(components.ayadsHtml,optoutImageUrl,optoutClickUrl);appendAdChoice(components.bottom,optoutImageUrl,optoutClickUrl);appendAdChoice(components.panel,optoutImageUrl,optoutClickUrl);}
appendProductsList(components.top,ad.shopData,'top');appendProductsList(components.bottom,ad.shopData,'bottom');});sublime.hook.register('event.mobile.openPanel',function(){if(isFirstOpen){isFirstOpen=false;createPanelIframe(ad.shopData);}});}
function removeSwipeBackClickEvent(){var panel=sublime.display.mobile.panel.getComponent('panel');panel.onclick=function(){sublime.display.mobile.panel.openClosePanel('close');}}
function createPanelIframe(shopData){var iframe=top.document.createElement('iframe');iframe.id='sublime-iframe-criteo';iframe.setAttribute('frameborder','0');iframe.scrolling='no';iframe.width='1';iframe.height='1';iframe.style.cssText='border: 0px; width: 100%; height: calc(100% - 6vh); margin: 0px auto; display: block;';var css='@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600);'+'body {margin: 0; font-family: "Source Sans Pro", Helvetica, sans-serif;}'+'.container-criteo {height: 100%;}'+'.container-criteo img {width: 100%; display: block;}'+'.container-criteo .products-container {height: 90%;overflow-y: scroll;-webkit-overflow-scrolling:touch;}'+'.container-criteo .product {width: calc(50% - 2px); float: left; height: 33%; background-color: #fff; position: relative; text-align: center; border: 1px solid #c7c7c7; font-family: "Source Sans Pro", Helvetica, sans-serif !important;}'+'.container-criteo .product img {width: auto;max-height: 50%;margin: 0 auto;max-width: 100%; padding-top: 20px}'+'.container-criteo .product:first-child img {width: auto;max-height: 100%;margin: 0 auto;max-width: 100%; padding-top: 0;}'+'.container-criteo .product:first-child {background-size: contain; background-repeat: no-repeat; background-position: center;}'+'.container-criteo > .block-top {border-bottom: 1px solid #e0e0e0;}'+'.container-criteo .text-bottom {width: 30%; margin: calc((15% - 30px)/2) auto 0; height: 30px; text-align: center; line-height: 31px; position: relative; display: block; border: 2px solid #5b595a; color: #000; text-transform: uppercase; font-size: 12px; font-weight: 700; cursor: default;}'+'.container-criteo > div[class^="block"] {height: 10%;width: 100%; background-repeat: no-repeat; background-size: auto 100%; background-position: center top; background-color: #f9f9f9;}'+'.container-criteo .block-bottom {position: absolute; bottom: 0; z-index: 1; box-shadow: 0 0 13px 11px rgba(0,0,0,0.5);}'+'.container-criteo .product .product-infos {position: absolute;bottom: 5%;margin: 0 auto;left: 0;right: 0;}'+'.container-criteo .product .description {font-size: 11px;margin: 2px 0; display: none;}'+'.container-criteo .product .title {font-size: 11px; text-transform: uppercase; margin: 5px 0 2px;}'+'.sublime-adchoice { height: 20px !important; width: 20px !important; background-color: #fff; position: absolute; left: 0; top: 0; z-index: 10000000; }'+'.container-criteo .product .price {font-size: 12px; font-weight: bold;margin: 2px 0 5px;}';var iframeHtml='<style>'+css+'</style>';var panel=sublime.display.mobile.panel.getComponent('panel');panel.appendChild(iframe);iframe.contentWindow.document.open();iframe.contentWindow.document.write(iframeHtml);iframe.contentWindow.document.close();iframe.contentWindow.document.addEventListener('touchstart',sublime.display.mobile.panel.handleTouchStart);iframe.contentWindow.document.addEventListener('touchmove',sublime.display.mobile.panel.handleTouchMove);iframe.contentWindow.document.addEventListener('touchend',sublime.display.mobile.panel.handleTouchEnd);appendProductsList(iframe.contentWindow.document.body,shopData,'panel');}
function bindRedirectUrl(element,url,eventName){element.addEventListener('click',function(e){sublime.analytics.fire(32097,'click');sublime.window.open(sublime.adServer.clickurlizeAntenna(url,eventName));e.stopPropagation();});}
function createElement(elementType,cssNames){var element=sublime.window.document.createElement(elementType);if(cssNames instanceof Array){cssNames.forEach(function(cssName){element.classList.add(cssName);});}else{element.classList.add(cssNames);}
return element;}
function appendElement(sibling,elementType,cssNames){var element=createElement(elementType,cssNames);sibling.appendChild(element);return element;}
function appendAdChoice(sibling,optoutImageUrl,optoutClickUrl){var adChoice=appendElement(sibling,'img','sublime-adchoice');adChoice.style.backgroundImage='url('+optoutImageUrl+')';adChoice.addEventListener('click',function(){sublime.window.open(optoutClickUrl);});}
function appendLogoContainer(parent,url,logo,eventName){var logoDiv=appendElement(parent,'div',['product']);bindRedirectUrl(logoDiv,url,eventName);logoDiv.style="background-image: url("+logo+")";return logoDiv;}
function appendDiscoverContainer(sibling,url){var discoverContainer=appendElement(sibling,'div','block-bottom');bindRedirectUrl(discoverContainer,url,'mcp');var discoverPanel=appendElement(discoverContainer,'p','text-bottom');discoverPanel.innerHTML=sublime.i18n('shopDiscover');return discoverContainer;}
function appendProductDiv(sibling,index,product,eventName){var productDiv=appendElement(sibling,'div',['product','product'+index]);bindRedirectUrl(productDiv,product.url,eventName);var image=appendElement(productDiv,'img','image-product');image.src=product.image;var infoContainer=appendElement(productDiv,'div','product-infos');var name=appendElement(infoContainer,'h4','title');name.innerHTML=product.name;var description=appendElement(infoContainer,'p','description');description.innerHTML=product.description;var price=appendElement(infoContainer,'p','price');price.innerHTML=product.price;return productDiv;}
function appendCriteoContainer(sibling){return appendElement(sibling,'div','container-criteo');}
function appendProductsContainer(parent){var productsContainer=createElement('div','products-container');parent.insertBefore(productsContainer,parent.lastChild);return productsContainer;}
function appendProductsList(sibling,shopData,position){var criteoContainer=appendCriteoContainer(sibling);var eventName='mc'+position.substring(0,1);var limitItems=3;if(position==='panel'){limitItems=5;appendDiscoverContainer(criteoContainer,shopData.url);}
var productsContainer=appendProductsContainer(criteoContainer);appendLogoContainer(productsContainer,shopData.url,shopData.logo,eventName);for(var i=0;i<limitItems;i++){var product=shopData.products[i%shopData.products.length];appendProductDiv(productsContainer,i+1,product,eventName);}}
function addMSkinShopCss(){var css='@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700);'+'#sublime-mobile-panel-container { box-shadow: none !important; }'+'.container-criteo .product img { width: auto; max-height: 60px; margin: 0 auto; max-width: 100%; }'+'.container-criteo .products-container { width: 100%; position: absolute; bottom: 25px; max-height: calc(60% - 10px); height: 50% }'+'.container-criteo .product { bottom: 0; width: 25%; height: 100%; box-sizing: border-box; float: left; text-align: center; font-size: 9px; padding: 0; background-color: #fff; }'+'.container-criteo .product:not(:first-child) { border-left: 1px solid #d8d8d8; padding: 4px 8px; }'+'.container-criteo .product:first-child {background-size: contain; background-repeat: no-repeat; background-position: center;}'+'.container-criteo .product .description { display: none; }'+'.container-criteo .product .title { margin-bottom: 5px; text-transform: uppercase; margin-top: 5px; -webkit-line-clamp: 2; max-height: 2em;}'+'.container-criteo .product .price { margin-top: 0; -webkit-line-clamp: 1; max-height: 1em;}'+'.container-criteo .product .title, .container-criteo .product .price { font-weight: bold; font-size: 9px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-box-orient: vertical; }'+'.container-criteo .product h4, .container-criteo .product p { font-family: "Source Sans Pro", Helvetica, sans-serif; }'+'.sublime-adchoice { height: 20px !important; width: 20px !important; background-color: #fff; position: absolute; left: 0; top: 0; z-index: 10000000; background-position-y: 3px; }'+'.sublime-panel-opened #ayads-html > .sublime-adchoice { left: 100%; }';sublime.display.addCss(css);}
sublime.helpers.createNamespace('sublime.display.mobile.kargo');sublime.display.mobile.kargo.adIsReady=function adIsReady(ad){if(sublime.isEmpty(ad.html)){sublime.warn('adServer: Ad is not displayable, empty ad html');return false;}
return true;};sublime.display.mobile.kargo.render=function render(){if(sublime.isEmpty(sublime.creativeAd)||sublime.isEmpty(sublime.zone)){sublime.warn('adServer: Empty zone or creativeAd');return;}
sublime.creativeAd.placementType='bottom';sublime.info('sublime.display.mobile.kargo');sublime.hook.call('step.impression.before');setupZoneAdKargo();sublime.hook.call('step.impression.after');};var setupZoneAdKargo=function setupZoneAdKargo(){sublime.hook.call('step.setupZoneAd.before');if(sublime.isEmpty(sublime.creativeAd.html)){sublime.warn('adServer: Ad is not displayable, empty ad html');return;}
if(sublime.isObject(sublime.zone.sticky_setup)){if(sublime.zone.sticky_setup.css){sublime.display.addCss(sublime.zone.sticky_setup.css);}
if(sublime.zone.sticky_setup.js){sublime.applyJs(sublime.zone.sticky_setup.js);}}
var html=sublime.macros.replace(sublime.creativeAd.html,sublime.creativeAd);var divId=sublime.env('sublime_prefix')+'-kargo';sublime.write(html,{id:divId});sublime.display.addCreativeContainer();sublime.hook.call('step.setupZoneAd.after');};sublime.display=sublime.display||{};sublime.display.generic=sublime.display.generic||{};sublime.display.generic.adIsReady=function(ad){if(sublime.isEmpty(ad.html)){sublime.warn('adServer: Ad is not displayable, empty ad html');return false;}
return true;};sublime.display.generic.render=function(){sublime.info('sublime.display.generic');sublime.hook.call('step.impression.before');var ad=sublime.creativeAd,zone=sublime.zone;ad.noCookieMatch=zone.block_cookies;sublime.display.generic.setupZoneAd();sublime.hook.call('step.impression.after');};sublime.display.generic.setupZoneAd=function(){sublime.hook.call('step.setupZoneAd.before');var ad=sublime.creativeAd;if(sublime.isEmpty(ad.html)){return;}
var html=ad.html;html=sublime.macros.replace(html);var divId=sublime.env('sublime_prefix')+'-generic';sublime.write(html,{id:divId});sublime.hook.call('step.setupZoneAd.after');};sublime.passback={};sublime.passback.render=function(passbackScript,renderType){var divId=sublime.env('sublime_prefix')+'-passback';sublime.script_location=sublime.script_location||sublime.originWindow.document.querySelector('script[src*="sac.ayads.co/sublime"]')||sublime.originWindow.document.querySelector('script[src*="ads.ayads.co/ajs.php?zid="]');sublime.compat.toAyads();var globalVar=sublime.env('sublime_prefix');passbackScript='<script>window.'+globalVar+' = top.'+globalVar+';<\/script>'+passbackScript;if(!sublime.isDefined(sublime.script_location)||(sublime.script_location.parentElement&&sublime.script_location.parentElement.nodeName==='HEAD')){if(sublime.originWindow.document.body.firstChild){sublime.script_location=sublime.originWindow.document.body.firstChild;}else{sublime.script_location=sublime.originWindow.document.body;}}
if(sublime.isEmpty(sublime.script_location)){sublime.error('No script location to render passback: ',sublime.script_location);return null;}
var p=sublime.document.querySelectorAll('.ayads-passback');for(var i=0;i<p.length;i++){p[i].style.display='none';}
var iframe=sublime.write(passbackScript,{id:divId,targetElement:sublime.script_location,iframeAttributes:{class:'ayads-passback'}});if(renderType==='pullToTop'){pullToOriginWindow(iframe,sublime.script_location);}else if(renderType==='iframeResizeParent'){autoResizeIframe(iframe,true);}else if(renderType==='iframeResized'){autoResizeIframe(iframe);}
return iframe;};var autoResizeIframe=function(iframe,withParent){withParent=!!(withParent||0);iframe.addEventListener("load",function(){autoResizeIframeInterval(iframe);});var i=0,interval=sublime.timer.setInterval(function(){autoResizeIframeInterval(iframe,withParent);if(i>=50){sublime.timer.clearInterval(interval);}
i++;},100);};var autoResizeIframeInterval=function(iframe,withParent){withParent=!!(withParent||0);if(!iframe&&this){iframe=this;}
if(iframe.nodeName!=='IFRAME'||!iframe.contentWindow){sublime.warn("autoResizeIframe: passed argument isn't an iframe",iframe);return;}
var iframeDocument=iframe.contentWindow.document.body;iframeDocument.style.margin=0;iframe.style.border='0';var elementWidth,elementHeight;if(iframeDocument.getBoundingClientRect().height&&iframeDocument.getBoundingClientRect().width){elementWidth=iframeDocument.getBoundingClientRect().width;elementHeight=iframeDocument.getBoundingClientRect().height;}else{elementWidth=iframeDocument.offsetWidth;elementHeight=iframeDocument.offsetHeight;}
if(elementWidth<30&&iframeDocument.scrollWidth>30){elementWidth=iframeDocument.scrollWidth;}
if(elementHeight<30&&iframeDocument.scrollHeight>30){elementHeight=iframeDocument.scrollHeight;}
var isContentDisplayable=elementWidth>30&&elementHeight>30;if(!isContentDisplayable){elementWidth=1;elementHeight=1;}
if(withParent){checkIframeDegree(iframe,elementWidth,elementHeight);}else{applyIframeDimension(iframe,elementWidth,elementHeight);}};var checkIframeDegree=function(iframe,width,height){applyIframeDimension(iframe,width,height);var frameParent=sublime.originWindow.frameElement||false;if(!frameParent){return;}
applyIframeDimension(frameParent,width,height);var isAThirdDegreeIframe=frameParent&&(frameParent.id==='ayads-launcher')&&((sublime.originWindow.parent).frameElement);var thirdDegreIframe=isAThirdDegreeIframe?(sublime.originWindow.parent).frameElement:false;if(thirdDegreIframe){applyIframeDimension(thirdDegreIframe,width,height);}};var applyIframeDimension=function(iframe,width,height){iframe.width=width;iframe.style.width=width+'px';iframe.height=height;iframe.style.height=height+'px';iframe.style.border='0';iframe.style.margin='0 auto';if(iframe.id&&iframe.id.match(/^ayads-passback/)){return;}
iframe.style.display='block';};var pullToOriginWindow=function(iframe,scriptLocation){var element=iframe.contentDocument.body,elementsToMove=[],child,i;for(i=0;i<element.childNodes.length;i++){child=element.childNodes[i];if(child.tagName!=='SCRIPT'){elementsToMove.push(child);}}
elementsToMove.reverse();for(i=0;i<elementsToMove.length;i++){child=elementsToMove[i];if(scriptLocation.tagName==='BODY'){scriptLocation.appendChild(child);}else{scriptLocation.parentNode.insertBefore(child,scriptLocation.nextSibling);}}};sublime.adCollection={};sublime.ads=[{id:173304,priority:10,weight:10,zone_id:32097,color:"#E4EDF4",click_area:"double",creative_type:"skinz classic skinz",fixed:1,format:"skinz",html:"<script>\n(function() {\n if(!window.sublime) return;\n \n var ssk_ias_tag_agency = \'https://pixel.adsafeprotected.com/rjss/st/460260/46832154/skeleton.js\';\nvar imagetoload = (sublime.creativeAd) ? sublime.creativeAd.images.bg : ((sublime.ad.image)?sublime.ad.image : \'https://cdn.ayads.co/70/14/image-70149.jpg\');\n \n //let\'s add the IAS tag in an iframe\n var iframe = sublime.write(\n\'<img src=\"\'+imagetoload+\'\" />\'+\n  \'<scr\'+\'ipt type=\"text/javascript\" src=\"\' + ssk_ias_tag_agency + \'\"></scr\'+\'ipt>\',\n  {id:\'ay-ias\'}\n );\n \n //style the iframe (yes, it\'s a 1800x1000 iframe)\n sublime.display.addCss(\n  \'#\'+iframe.id+\'{\'+\n   \'display: block !important;position:absolute;\'+\n   \'width:1800px;\'+\n   \'height:1000px;\'+\n   \'left: 50%;\'+\n   \'top:0px;\'+\n   \'margin-left:-900px;\'+\n   \'opacity: .01;\'+\n   \'transform: scale(.005);\'+\n   \'transform-origin: top left;\'+\n  \'}\'+\n  \'#\'+iframe.id+\'.fixed{ position:fixed; }\'\n);\n \nsublime.ad.fixed && iframe.classList.add(\'fixed\');\n})();\n</script>\n\n<script>var img = (new Image()).src=\"https://ad.doubleclick.net/ddm/ad/N444803.903087GUMTREE.CO.UK/B24362337.276245823;sz=1x1;ord=${sub:puid};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?\";</script>",html_usage:"raw",image:"https://cdn.ayads.co/17/33/image-173304.jpg",moat:1,mobile_setup:"",desktop_setup:[],name:"[Adserving // UK] Gumtree - Audi #HC",script_url:"",ssp_id:"",ssp_name:"",top:220,type:"skinz",url:"https://ad.doubleclick.net/ddm/jump/N444803.903087GUMTREE.CO.UK/B24362337.276245823;sz=1x1;ord=${sub:puid}",vast_url:"",video:"",video_autoplay:1,video_bg:"",viewability:0,category_id:null,end:"2020-12-31 22:59:00",campaign_id:13280,campaign_name:"[Adserving // UK] Gumtree - AUDI #HC",traffic_type:"adserving",images:{bg:"https://cdn.ayads.co/17/33/image-173304.jpg"},supported_devices:["desktop"],cappings:{clicks:0,impressions:0,duration:0},header_bidding:false,originalUrl:"https://ad.doubleclick.net/ddm/jump/N444803.903087GUMTREE.CO.UK/B24362337.276245823;sz=1x1;ord=${sub:puid}"}]||[];sublime.adsProcessed=[];sublime.adCollection.add=function(ads){if(sublime.isArray(ads)){sublime.ads=sublime.ads.concat(ads);}else{sublime.ads.push(ads);}};sublime.adCollection.empty=function(){sublime.ads=[]};sublime.adCollection.init=function(){sublime.info('addCollection.filterAdsByDevice');sublime.adCollection.filterAdsByDevice();sublime.info('addCollection.prioritize');prioritize();sublime.info('addCollection.end');};sublime.adCollection.filterAdsByDevice=function(){for(var i=sublime.ads.length-1;i>=0;i--){var ad=sublime.ads[i];if(!sublime.adCollection.matchSupported(sublime.device,ad.supported_devices)){sublime.ads.splice(i,1);sublime.info('adCollection: unsupported device ad',sublime.merge({},ad));}}
return sublime.ads;};sublime.adCollection.matchSupported=function(placeable){var result=arguments.length>1;for(var i=1;i<arguments.length;i++){result=result&&arguments[i].indexOf(placeable)!==-1;}
return result;};var prioritize=function(){var adList=[],ad,priorities=[],priority,i,j;for(i=0;i<sublime.ads.length;i++){ad=sublime.ads[i];if(ad===null||ad===undefined){continue;}
if(ad.isAdserving){ad.priority=10;}else{ad.priority=parseInt(ad.priority,10);}
priority=ad.priority;if(!priorities[priority]){priorities[priority]={priority:priority,totalWeight:0,adsList:[]};}
priorities[priority].adsList.push(ad);priorities[priority].totalWeight+=ad.weight;}
priorities=priorities.reduce(function(output,item){output.push(item);return output;},[]);priorities.reverse();for(i=0;i<priorities.length;i++){priority=priorities[i];for(j in priority.adsList){if(!priority.adsList.hasOwnProperty(j)){continue;}
ad=priority.adsList[j];priority.adsList[j].rand=Math.random()*ad.weight;}
priority.adsList.sort(function(a,b){if(a.rand>b.rand){return-1;}else if(a.rand<b.rand){return 1;}
return 0;});for(j in priority.adsList){if(!priority.adsList.hasOwnProperty(j)){continue;}
ad=priority.adsList[j];adList.push(ad);}}
sublime.ads=adList;};sublime.adCollection.next=function(){sublime.ad=sublime.ads.shift();var hasAd=(typeof(sublime.ad)!=='undefined');if(hasAd){sublime.adsProcessed.push(sublime.ad);}
return hasAd;};sublime.adServer={};sublime.ad=sublime.ad||{};sublime.device=sublime.device||'';sublime.loadedZones=sublime.loadedZones||[];sublime.adServer.isRedirectPreview=false;var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3}||{};var postImpressionsEvents={sec1:1000,sec2:2000,sec3:3000,sec4:4000,sec5:5000};var forbiddenUa='Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko; googleweblight) Chrome/38.0.1025.166 Mobile Safari/535.19';sublime.adServer.run=function(){var forceDisplay=!!(sublime.previewing&&sublime.isDefined(sublime.preview.params)&&sublime.preview.params.forceDisplay);if(sublime.inArray(zone.id,sublime.loadedZones)){sublime.warn('Zone already loaded');return;}
sublime.storage.unset('suid');sublime.loadedZones.push(zone.id);sublime.hook.call('step.call');if(!sublime.isFeatureEnabled('sskzGDPR')){sublime.analytics.fire(32097,'call');}
sublime.hook.register('step.beforeunload',function(){sublime.analytics.fire(32097,'unload');});if(navigator.userAgent===forbiddenUa){return sublime.adServer.passback('place');}
var isWindows7XFirefox560=navigator.userAgent.search("Windows NT 6.1")!=-1&&navigator.userAgent.search("Firefox/56.0")!=-1;if(isWindows7XFirefox560){return sublime.adServer.passback('place');}
if(sublime.adServer.isUserOptout()){return sublime.adServer.passback('place');}
if(!forceDisplay&&!sublime.adServer.isPlaceable()){return sublime.adServer.passback('place');}
sublime.analytics.fire(32097,'place');sublime.hook.call('step.place');if(sublime.device=="mobile"&&zone.cappings&&zone.cappings.impressions_mobile){zone.cappings.impressions=zone.cappings.impressions_mobile;delete zone.cappings.impressions_mobile;}
if(sublime.adServer.isCapped('zone','impressions')){return sublime.adServer.passback('impression');}
sublime.adServer.hookRegisterStepImpression();sublime.adServer.registerMacros();sublime.hook.register('step.impression.after',sublime.adServer.dnsPrefetch);sublime.hook.register('dom.bodyReady',function(){sublime.info('body is ready');runAds();});};var runAds=function(){if(sublime.previewing){sublime.hook.register('dom.ready',function(){sublime.preview.run();});return;}
sublime.adServer.handleAdServing();sublime.adCollection.init();sublime.adServer.execute();};var isOSCompatible=function(os){var iOSIsCompatible=os.name==='iOS'&&os.version>=9,androidIsCompatible=os.name==='android'&&os.version>=4.4;var osIsCompatible=iOSIsCompatible||androidIsCompatible;if(!osIsCompatible){sublime.warn('OS is not compatible : '+os);}
return osIsCompatible;};sublime.adServer.isPlaceable=function(ua,maxDeviceSize){ua=ua||navigator.userAgent;var device=sublime.device;if(device==="desktop"){maxDeviceSize=maxDeviceSize||sublime.window.innerWidth;var browserAllowed=(!sublime.IEVersion||sublime.IEVersion>9)&&!sublime.isWindowsSafari,hasZoneIgnoreWidth=(sublime.isDefined(zone)&&zone.ignore_client_width),clientWidthAllowed=hasZoneIgnoreWidth?true:(maxDeviceSize>1200);return browserAllowed&&clientWidthAllowed;}else if(device==="mobile"){var allowedUA=ua.match(/\bCrMo\b|CriOS|Chrome|Firefox|Safari|iPhone/i);var forceDevice=!!(sublime.previewing&&sublime.isDefined(sublime.preview.params)&&sublime.preview.params.forceDevice);var os=sublime.detectDevice.detectMobileOS(ua),osIsCompatible=isOSCompatible(os);var isPortrait=sublime.window.innerHeight>sublime.window.innerWidth;if(forceDevice){sublime.warn('Previewing in forced mode with os : ',os);osIsCompatible=true;}
return allowedUA&&osIsCompatible&&!!sublime.document.querySelector('meta[name=viewport]')&&isPortrait;}
return false;};sublime.adServer.isCapped=function(targetName,cappingType){var output=false;if(sublime.previewing){sublime.warn("Preview: sublime.adServer.isCapped disabled");return false;}
if(sublime[targetName]&&sublime[targetName].cappings&&sublime[targetName].cappings[cappingType]&&sublime[targetName].cappings.duration){var storageKey='capping.'+targetName+sublime[targetName].id,value=sublime.storage.get(storageKey);if(value&&value[cappingType]&&value[cappingType]>=sublime[targetName].cappings[cappingType]){output=true;}}
return output;};sublime.adServer.execute=function(){if(sublime.previewing){sublime.warn("sublime.adServer.execute on preview");return;}
sublime.info("sublime.adServer.execute");if(!sublime.adCollection.next()){sublime.success("Ads exhausted");return sublime.adServer.passback('impression');}
sublime.info('Process Ad '+sublime.adsProcessed.length+'/'+(sublime.ads.length+sublime.adsProcessed.length)+' : '+sublime.ad.id);sublime.info('Check capping');if(sublime.adServer.isCapped('ad','clicks')||sublime.adServer.isCapped('ad','impressions')){sublime.warn("Ad "+sublime.ad.id+" capped, continue");return sublime.adServer.execute();}
if(sublime.ad.ssp_name&&!sublime.ad.ssp_id&&!sublime.ad.vast_url&&!sublime.ad.script_url){return sublime.adServer.execute();}
sublime.adServer.serveAd();};sublime.adServer.serveAd=function(){if(sublime.ad.ssp_name){sublime.info('Try to serve SSP ad');sublime.ssp.query();}else{sublime.info('Try to serve direct ad');sublime.adServer.displayAd();}};sublime.adServer.displayAd=function(){sublime.info("sublime.adServer.displayAd()");sublime.info('adServer: Ad ID',sublime.ad.id);sublime.info('adServer: Traffic type',sublime.ad.traffic_type);sublime.info("adServer: Ad",sublime.merge({},sublime.ad));var forceDisplay=!!(sublime.previewing&&sublime.isDefined(sublime.preview.params)&&sublime.preview.params.forceDisplay);if(!sublime.display.adIsReady(sublime.ad)&&!sublime.previewing){return sublime.adServer.execute();}
if(!forceDisplay&&!sublime.display.adIsCompatibleWithDevice(sublime.ad,sublime.device)){return sublime.adServer.execute();}
sublime.display.render(sublime.merge({},sublime.ad));if(sublime.helpers.hasProperty(sublime,'creativeAd.raid')){sublime.success('Ad displayed '+sublime.creativeAd.raid);}
sublime.success('Ad trafficked '+sublime.ad.id);};sublime.adServer.passback=function(reason){if(sublime.isEmpty(reason)){reason='no reason given';}
sublime.info('sublime passback '+reason);if(reason=='place'){sublime.analytics.fire(32097,'place_passback');}else if(reason=='impression'){sublime.analytics.fire(32097,'impression_passback');}else if(reason=='preview_passback'){sublime.info('Preview passback',{reason:reason});}else{sublime.error('Bad reason for passback',{reason:reason});}
var passbackScript='';if(sublime.device==='desktop'&&zone.passback){passbackScript=zone.passback;}else if(sublime.device!=='desktop'&&zone.mobilepassback){passbackScript=zone.mobilepassback;zone.passback_render="iframeResizeParent";}
if(!passbackScript){sublime.info('sublime passback: no passbackScript');return;}
sublime.analytics.fire(32097,'script_passback');sublime.info('sublime passback: write passbackScript');sublime.hook.register('dom.bodyReady',function(){sublime.passback.render(passbackScript,zone.passback_render);});};sublime.adServer.clickurlize=function(targetUrl,extraParams){var antennaUrl=sublime.adServer.clickurlizeAntenna(null,null,extraParams);var clickurlizeThroughAntenna=antennaUrl+targetUrl;return clickurlizeThroughAntenna;};sublime.adServer.clickurlizeAyads=function(targetUrl){var ad=sublime.ad,url=sublime.env('ayads_url')+'/click.php',qs={zid:zone.id,aid:ad.id,ref:sublime.originWindow.btoa(sublime.window.location.href),ua:sublime.originWindow.btoa(navigator.userAgent),t:sublime.timeStart};if(ad.raid){qs.raid=ad.raid;}
if(ad.conversion){qs.conversion='1';}
if(ad.ssp_name){qs.isssp='1';qs.at=getAdTypeAyads(ad);}
if(sublime.isDefined(targetUrl)){qs.url=targetUrl;}
if(ad.id===52157){return targetUrl;}
return sublime.url.merge(url,qs);};sublime.adServer.clickurlizeAntenna=function(targetUrl,event,extraParams){targetUrl=targetUrl||'';var url=sublime.env('antenna_url')+'/redirect.php';var pixelAntenna=sublime.analytics.handleInheritance({inherit:"_commonSkinz",qs:{z:32097}});var qs=sublime.qs.merge(pixelAntenna.qs,sublime.pixels._commonSkinz.qs,{e:sublime.isString(event)&&event.length?event:'c',tse:sublime.now()});if(!sublime.isEmpty(extraParams)){qs=sublime.qs.merge(qs,extraParams);}
qs=sublime.qs.merge(qs,{url3rd:''});var antennaUrl=sublime.url.merge(url,qs)+targetUrl;return antennaUrl;};sublime.cookieMatch=function(){if(sublime.previewing){sublime.info("Preview: cookieMatch disabled");return;}
var storageKey='cookie-matching-capping',isCapped=sublime.storage.get(storageKey);if(isCapped){sublime.info("CookieMatch capped");return;}
var setup=[]||{};for(var i in setup){if(!setup.hasOwnProperty(i)){continue;}
var url=setup[i].url;url=sublime.macros.replace(url);if(setup[i].type==='img'){(function(url){sublime.timer.setTimeout(function(){new Image().src=url;},0);})(url);}else{var s=sublime.document.createElement('script');s.id='sublime-cm-'+i;s.type='text/javascript';s.async=true;s.src=url;sublime.document.body.appendChild(s);}}
sublime.storage.set(storageKey,true,864e+5);};sublime.adServer.incrementCappings=function(cappingName){var targets=['ad','zone'],name,target;if(sublime.isFeatureEnabled('cookieConsent')){if(!sublime.gdpr.getSublimeConsent()){return;}}
for(var i=0;i<targets.length;i++){name=targets[i];target=sublime[name];if(target.cappings&&target.cappings[cappingName]){var storageKey='capping.'+(name+''+target.id),value=sublime.storage.get(storageKey)||{},duration=target.cappings.duration||86400;if(value[cappingName]){value[cappingName]++;sublime.storage.set(storageKey,value);}else{value[cappingName]=1;sublime.storage.set(storageKey,value,duration);}}}};sublime.adServer.dnsPrefetch=function(){var d=sublime.document,head=d.getElementsByTagName('head')[0],url,link,urls=[sublime.env('ayads_url'),sublime.ad.url];for(var i in urls){url=urls[i];if(!url){continue;}
link=d.createElement('link');link.id='sublime-dns-prefetch';link.rel='dns-prefetch';link.href=url;head.appendChild(link);}};sublime.cookiesBlocked=function(){if(!sublime.ad){return true;}
if(sublime.isDefined(zone.block_cookies)){return!!zone.block_cookies;}
return false;};var applyCookieMatch=function(){if(!zone.nortb){sublime.cookieMatch();}};if(zone.id!=803){sublime.hook.register('step.call',applyCookieMatch);}
sublime.adServer.hookRegisterStepImpression=function(){sublime.hook.register('step.impression.before',function(){sublime.analytics.fire(32097,'impression');sublime.adServer.incrementCappings('impressions');for(var i in postImpressionsEvents){if(!postImpressionsEvents.hasOwnProperty(i)){continue;}
(function(name,ms){sublime.timer.setTimeout(function(){sublime.hook.call('step.impression.'+name);},ms);})(i,postImpressionsEvents[i]);}});};function runDARAudit(){if(sublime.env('activate_dar')){sublime.info('run DAR Audit');var site_id=345551,page_id=1205083,format_id=sublime.device==='desktop'?42281:44974;sublime.xhr('https://www8.smartadserver.com/ac?'+sublime.qs.build({siteid:site_id,pgid:page_id,fmtid:format_id,visit:'M',tmstp:sublime.now(),out:'json',sh:top.innerHeight,sw:top.innerWidth,tgt:['json','gm=0','screen=large','large_screen=TRUE','zone_id='+(sublime.zone.id||0),'gc='+(sublime.gdpr.getSublimeConsent()?1:0)].join(';'),gdpr:1}),{withCredentials:true,async:true,success:function(response){if(response!==''){response=JSON.parse(response);if(response.ad){response.ad.impUrls&&(new Image().src=response.ad.impUrls);response.ad.creativeScriptRAW&&sublime.write(response.ad.creativeScriptRAW);}}}});}}
sublime.hook.register('step.place',runDARAudit);sublime.adServer.registerMacros=function(){var allowedMacros={click:'pixelClick',impression:'pixelImpression'};for(var slot in allowedMacros){if(!allowedMacros.hasOwnProperty(slot)){continue;}
var pixelUrl=sublime[allowedMacros[slot]];if(sublime.isEmpty(pixelUrl)){continue;}
sublime.info('Macro found for '+slot+': '+pixelUrl);if(!sublime.isUrl(pixelUrl)){sublime.warn('Macro for '+slot+' is not a valid url');continue;}
sublime.analytics.setPixels(32097,{inherit:'_external',slot:slot+".macro",url:pixelUrl});}};sublime.adServer.handleAdServing=function(){var asAds=sublime.compat.windowHasAds(sublime.originWindow);if(sublime.isEmpty(asAds)){asAds=sublime.compat.windowHasAds(sublime.window);}
if(sublime.isEmpty(asAds)||!sublime.isArray(asAds)){return false;}
sublime.adCollection.empty();for(var i=0,ad;i<asAds.length;i++){ad=sublime.merge(adDefaultFormat,asAds[i]);sublime.adCollection.add(ad);}};sublime.adServer.isUserOptout=function(){var lc='dnt',ttl=18e5,localIsOptout=sublime.storage.get(lc);var checkOptoutBeforeExecutingCallback=function(isOptout,fromStorage){if(!fromStorage){sublime.storage.set(lc,isOptout,ttl);}
if(isOptout){sublime.log('isOptout');return true;}else{sublime.log('isNotOptout');return false;}};if(localIsOptout===null){sublime.xhr(sublime.env('optchk_url'),{async:true,jsonp:true,success:checkOptoutBeforeExecutingCallback});return false;}
return checkOptoutBeforeExecutingCallback(localIsOptout,true);};var getAdTypeAyads=function(ad){return ad.type.charAt(0)=='v'?'v':'i';};var storedLogLevel=sublime.storage.get('logLevel');if(storedLogLevel){sublime.setLogLevel(storedLogLevel);}
var adDefaultFormat={campaign_id:0,cappings:{clicks:0,impressions:0,duration:0},click_area:'double',click_macro:null,color:'',creative_type:'',creative_id:null,fixed:'',html:'',id:0,images:{bg:''},moat:0,mobile_setup:{},desktop_setup:{},name:'',priority:1,ssp_id:'',ssp_name:'',top:0,type:'skinz',url:'',video_autoplay:1,videos:{},viewability:0,weight:10};sublime.analytics.setPixels(32097,sublime.pixels);sublime.helpers.createNamespace('sublime.sspRequest');sublime.sspRequest.ssp_response={OK:0,EMPTY_RESPONSE:1,TIMEOUT:2,REQUEST_ERROR:3,PARSE_ERROR:4,PARAMETERS_ERROR:5,PARSE_TIMEOUT:6,UNKNOWN_REQUEST_CALL:7,REQUEST_CANCELLED:8,RESPONSE_DISCARDED:9,UNKNOWN_ERROR:99};sublime.helpers.createNamespace('sublime.sspRequest.appnexusRequest');var SSP_NAME_APPNEXUS="appnexus";var SUBLIME_BUYER_ID=[3538,3539,3540];sublime.sspRequest.appnexusRequest.call=function(source,options){var defaults={async:true,timeout:1000};if(!options||!sublime.isObject(options)){options={};}
options=sublime.merge(defaults,options);var data=sublime.sspRequest.appnexusRequest.getDataParams(source,options);return new sublime.Promise(function(resolve,reject){sublime.xhr(source.url,{async:options.async,timeout:options.timeout,withCredentials:true,method:"POST",headers:{"Content-Type":"text/plain"},data:data,success:function(jsonResponse){return sublime.sspRequest.appnexusRequest.successCallback(jsonResponse,resolve);},error:function(){return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.REQUEST_ERROR});},onTimeout:function(){return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.TIMEOUT});}});});};sublime.sspRequest.appnexusRequest.getDataParams=function(source,options){var data={member_id:"none",sdk:{source:"ast",version:"0.16.2"},tags:[{ad_types:['banner'],allow_smaller_sizes:false,id:source.id,prebid:true,primary_size:{width:1800,height:1000},sizes:[{width:1800,height:1000}],use_pmt_rule:true,uuid:getUUID()}],uuid:getUUID(),gdpr_consent:{}};if(!sublime.isEmpty(sublime.gdpr.getConsentString())){data.gdpr_consent={consent_string:sublime.gdpr.getConsentString(),consent_required:sublime.gdpr.isActive()};}
if(options.isMobile){data.tags[0].primary_size={width:640,height:300};data.tags[0].sizes=[{width:640,height:300}];}
if(options.acceptVideo&&sublime.helpers.isOptimalHeight()){data.tags[0].ad_types.push('video');}
if(options.acceptVideo&&options.isMobile){data.tags[0].reserve=9.6;}
if(options.acceptVideo){data.tags[0].video={'context':4,'frameworks':[1,2,],};}
if(!sublime.isEmpty(sublime.gdpr.getConsentString())){data.gdpr_consent={consent_string:sublime.gdpr.getConsentString(),consent_required:sublime.gdpr.isActive()};}
if(sublime.isFeatureEnabled('appnexusSendImpressionId')){data.tags[0].external_imp_id=sublime.uuid.get('p');}
return data;};function parseVideoResponse(resolve,response){return resolve({sspName:SSP_NAME_APPNEXUS,success:true,srcType:'vast-string',vast:response.tags[0].ads[0].rtb.video.content});}
function parseImageResponse(resolve,response){var contentSourceType,contentSource,adHtml,impressionPixels;try{contentSourceType=response.tags[0].ads[0].content_source;contentSource=response.tags[0].ads[0][contentSourceType];adHtml=contentSource.banner.content||'';impressionPixels=contentSource.trackers[0].impression_urls||[];}catch(e){return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}
if(!sublime.isString(adHtml)||sublime.isEmpty(adHtml.trim())){return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}
for(var i=0;i<impressionPixels.length;i++){adHtml+='<img src="'+impressionPixels[i]+'" />';}
return resolve({sspName:SSP_NAME_APPNEXUS,success:true,srcType:'html',html:adHtml});}
var getUUID=function getUUID(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e / 16),("x"===t?n:3&n|8).toString(16);});return t;};sublime.sspRequest.appnexusRequest.successCallback=function(jsonResponse,resolve){try{var response=JSON.parse(jsonResponse);var dealId=sublime.helpers.hasProperty(response,'tags.0.ads.0.deal_id')?response.tags[0].ads[0].deal_id:null;var buyerMemberId=sublime.helpers.hasProperty(response,'tags.0.ads.0.buyer_member_id')?sublime.pInt(response.tags[0].ads[0].buyer_member_id,10):null;var isOpenAuction=sublime.isEmpty(dealId)&&!sublime.inArray(buyerMemberId,SUBLIME_BUYER_ID);var isVideo=sublime.helpers.hasProperty(response,'tags.0.ads.0.rtb.video.content');if(!sublime.isEmpty(dealId)){sublime.creativeAd.deal_id=dealId;}
if(sublime.device==='mobile'&&isOpenAuction&&!isVideo){sublime.warn("Open auction from Appnexus blocked : no deal_id in Appnexus response");return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.PARAMETERS_ERROR,});}
if(isVideo){return parseVideoResponse(resolve,response);}
return parseImageResponse(resolve,response);}catch(e){return resolve({sspName:SSP_NAME_APPNEXUS,success:false,error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}};sublime.helpers.createNamespace('sublime.sspRequest.stickyRequest');var SSP_NAME_STICKY="sticky";sublime.sspRequest.stickyRequest.call=function(source,options){var defaults={timeout:1000};if(!options||!sublime.isObject(options)){options={};}
source.url=sublime.sspRequest.stickyRequest.buildGDPRQuery(source.url);return new sublime.Promise(function(resolve,reject){options=sublime.merge(defaults,{errorCallback:function(){return resolve({sspName:SSP_NAME_STICKY,success:false,error_code:sublime.sspRequest.ssp_response.REQUEST_ERROR});},successCallback:function(creativeAd,data){creativeAd.pixels=data.pixels;return sublime.sspRequest.stickyRequest.successCallback(creativeAd,resolve);}},options);sublime.parseVast.query(source.url,options);});};sublime.sspRequest.stickyRequest.buildGDPRQuery=function buildGDPRQuery(baseUrl){if(!sublime.isFeatureEnabled('stickyConsent')){return baseUrl;}
var baseParams=sublime.qs.parse(baseUrl),params={},querySeparator='&';if(sublime.gdpr.getConsentString()){params._fw_gdpr_consent=sublime.gdpr.getConsentString();}
else if(sublime.gdpr.isActive()){params._fw_gdpr=1;}else{params._fw_gdpr=0;}
if(sublime.isEmpty(baseParams)){querySeparator='?';}
return baseUrl+querySeparator+sublime.qs.build(params);};sublime.sspRequest.stickyRequest.successCallback=function(creativeAd,resolve){return resolve({sspName:SSP_NAME_STICKY,success:true,srcType:'creative',creative:creativeAd});};sublime.helpers.createNamespace('sublime.sspRequest.smartadserverRequest');var SSP_NAME_SMARTADSERVER='smartadserver';var KEYWORD_PAGE_HEIGHT_LARGE=7000;sublime.sspRequest.smartadserverRequest.call=function call(source,options){return new sublime.Promise(function(resolve,reject){return callSmart(resolve,source,options);});};function callSmart(resolve,source,options){var url=sublime.sspRequest.smartadserverRequest.buildUrl(source.url,options);sublime.xhr(url,{timeout:options.timeout||false,async:true,withCredentials:true,success:function(response){sublime.sspRequest.smartadserverRequest.successCallback(response,resolve,options);},error:function(e){return resolve({sspName:SSP_NAME_SMARTADSERVER,success:false,message:'Error SmartAdServer response',error_code:sublime.sspRequest.ssp_response.REQUEST_ERROR,});},onTimeout:function(){return resolve({sspName:SSP_NAME_SMARTADSERVER,success:false,message:'Timeout SmartAdServer error',error_code:sublime.sspRequest.ssp_response.TIMEOUT,});},});}
sublime.sspRequest.smartadserverRequest.buildUrl=function(baseUrl,options){var params=sublime.qs.parse(baseUrl);var tgtMatch=baseUrl.match(/[?&]tgt=([^&]+)/);if(tgtMatch&&tgtMatch[1]){params.tgt=tgtMatch[1].split(';');}else{params.tgt=[];}
if(!sublime.inArray('json',params.tgt)){params.tgt.push('json');}
if(options.acceptVideo&&sublime.helpers.isOptimalHeight()){params.tgt.push('vskinz=true');}
if(sublime.isFeatureEnabled('smartSendImpressionId')){params.tgt.push('puid='+sublime.uuid.get('p'));}
if(sublime.isDefined(params.tmstp)){params.tmstp=sublime.now();}
if(sublime.isFeatureEnabled('smartConsent')){params=sublime.sspRequest.smartadserverRequest.addGDPRQueryParameters(params);}
params.tgt.push('screen='+sublime.detectDevice.categorizedScreenSize());params.tgt.push(sublime.detectDevice.categorizedScreenSize()+'_screen=TRUE');params.tgt.push('tag='+"wf");if(sublime.helpers.getPageHeight()>=KEYWORD_PAGE_HEIGHT_LARGE){params.tgt.push('page_height=large');}
params.tgt=params.tgt.join(';');var urlParts=sublime.url.parse(baseUrl);urlParts.query=sublime.qs.build(params);return sublime.url.build(urlParts);};sublime.sspRequest.smartadserverRequest.addGDPRQueryParameters=function(params){if(sublime.gdpr.isActive()){params.gdpr=1;if(sublime.gdpr.getConsentString()){params.gdpr_consent=sublime.gdpr.getConsentString();}}else{params.gdpr=0;}
if(sublime.isFeatureEnabled('smartKeywordConsent')){if(sublime.gdpr.cmpHasAnswered()){params.tgt.push('gc='+(sublime.gdpr.getSublimeConsent()?1:0));params.tgt.push('gm=1');}else{params.tgt.push('gm=0');}}
return params;};sublime.sspRequest.smartadserverRequest.parseJSONResponse=function(json){if(!sublime.helpers.hasProperty(json,'ad.creativeScriptRAW')){return{sspName:SSP_NAME_SMARTADSERVER,success:false,message:'Query SmartAdServer JSON no ad to display',error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE,};}
var pixels={};if(json.ad.sendImpPixel&&json.ad.impUrls&&sublime.isUrl(json.ad.impUrls)){pixels.impressionSmart={isInternal:false,slot:'impression.smart',url:json.ad.impUrls,};}
if(json.ad.vtrPixel&&sublime.isUrl(json.ad.vtrPixel)){sublime.log('Adding smart video completion pixels');var quartiles=['start','firstquartile','midpoint','thirdquartile','complete'];for(var i in quartiles){if(!quartiles.hasOwnProperty(i)){continue;}
var vtrPixel=sublime.url.merge(json.ad.vtrPixel,{key:quartiles[i],});pixels['videoQ'+i+'Smart']={isInternal:false,slot:'videoQ'+i+'.smartQ'+i,url:vtrPixel,};}}
return{sspName:SSP_NAME_SMARTADSERVER,success:true,srcType:'html',html:json.ad.creativeScriptRAW,json:json,pixels:pixels,};};sublime.sspRequest.smartadserverRequest.successCallback=function(response,resolve){if(sublime.isEmpty(response)){return resolve({sspName:SSP_NAME_SMARTADSERVER,success:false,message:'Query SmartAdServer empty response',error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE,});}
var json=sublime.helpers.tryParseJson(response);if(json){var HTMLResponse=sublime.sspRequest.smartadserverRequest.parseJSONResponse(json);if(sublime.isObject(sublime.ad)&&sublime.helpers.hasProperty(HTMLResponse,'json.ad.insertionId')){sublime.ad.insertion_id=HTMLResponse.json.ad.insertionId;}
if(sublime.isObject(sublime.ad)&&sublime.helpers.hasProperty(HTMLResponse,'json.ad.externaldealId')){sublime.ad.deal_id=HTMLResponse.json.ad.externaldealId;}
return resolve(HTMLResponse);}
var vast=sublime.helpers.tryParseXml(response);if(vast){return resolve({sspName:SSP_NAME_SMARTADSERVER,success:true,srcType:'vast-string',vast:response,});}
sublime.error('smartadserver.queryCallback: parse error',{response:response});return resolve({sspName:SSP_NAME_SMARTADSERVER,success:false,message:'Query SmartAdServer parse error',error_code:sublime.sspRequest.ssp_response.PARSE_ERROR,});};sublime.sspRequest.smartadserverRequest.getDefaultSourceUrl=function getSourceUrl(sspId){var parts=sspId.toString().split('|');var parameters={siteId:sublime.pInt(parts[0]),pageId:sublime.pInt(parts[1]),formatId:sublime.pInt(parts[2]),};var dimensions=sublime.helpers.getBrowserDimensions();var url='https://www8.smartadserver.com/ac?siteid='+parameters.siteId
+'&pgid='+parameters.pageId
+'&fmtid='+parameters.formatId
+'&visit=M&tmstp='+sublime.now()
+'&out=json'
+'&sh='+dimensions.bh
+'&sw='+dimensions.bw;return url;};sublime.helpers.createNamespace('sublime.sspRequest.improveRequest');var SSP_NAME_IMPROVE="improve";sublime.sspRequest.improveRequest.buildGDPRQuery=function buildGDPRQuery(baseUrl){if(!sublime.isFeatureEnabled('improveConsent')){return baseUrl;}
var baseParams=sublime.qs.parse(baseUrl),params={},querySeparator='&';if(sublime.gdpr.isActive()&&sublime.gdpr.getConsentString()){params.GDPR=sublime.gdpr.getConsentString();}else if(sublime.gdpr.isActive()){params.GDPR='';}
if(sublime.isEmpty(params)){return baseUrl;}else{if(sublime.isEmpty(baseParams)){querySeparator='?';}
return baseUrl+querySeparator+sublime.qs.build(params);}};sublime.sspRequest.improveRequest.call=function(source,options){var defaults={async:true,timeout:1000};if(!options||!sublime.isObject(options)){options={};}
options=sublime.merge(defaults,options);var jsonpParam=sublime.sspRequest.improveRequest.getDataParams(source,options);var url=sublime.url.merge(source.url,{jsonp:JSON.stringify(jsonpParam)});return new sublime.Promise(function(resolve,reject){sublime.xhr(url,{async:options.async,timeout:options.timeout,withCredentials:true,success:function(jsonResponse){return sublime.sspRequest.improveRequest.callSuccessCallback(jsonResponse,resolve);},error:function(){return resolve({sspName:SSP_NAME_IMPROVE,success:false,error_code:sublime.sspRequest.ssp_response.REQUEST_ERROR});},onTimeout:function(){return resolve({sspName:SSP_NAME_IMPROVE,success:false,error_code:sublime.sspRequest.ssp_response.TIMEOUT});}});});};sublime.sspRequest.improveRequest.callSuccessCallback=function(jsonResponse,resolve){try{var response=JSON.parse(jsonResponse);if(!sublime.isObject(response)||!sublime.isArray(response.bid)||!sublime.isObject(response.bid[0])||!sublime.isString(response.bid[0].adm)||sublime.isEmpty(response.bid[0].adm.trim())){return resolve({sspName:SSP_NAME_IMPROVE,success:false,error_code:sublime.sspRequest.ssp_response.PARSE_ERROR});}
var bidResponse=response.bid[0];if(bidResponse.adm.match(/<img [^>]+src=\\"https?:\\\/\\\/creative\.360yield\.com\\\/file\\\/\d+\\\/1x1\.gif/)){return resolve({sspName:SSP_NAME_IMPROVE,success:false,error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}
var output={sspName:SSP_NAME_IMPROVE,success:true,srcType:'html',html:'<script>eval(atob("'+sublime.window.btoa(bidResponse.adm)+'"));</script>',pixels:{}};output.pixels.impressionImprove={slot:'impression.improve',url:bidResponse.nurl};return resolve(output);}catch(e){return resolve({sspName:SSP_NAME_IMPROVE,success:false,error_code:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}};sublime.sspRequest.improveRequest.getDataParams=function(source,options){var data={bid_request:{id:(sublime.rngU32()*sublime.rngU32()).toString(16).substr(2),secure:1,version:"Sublime-1.0",imp:[{id:(sublime.rngU32()*sublime.rngU32()).toString(16).substr(2),pid:source.id,banner:{}}]}};if(sublime.isFeatureEnabled('improveConsent')&&sublime.gdpr.getConsentString()){data.bid_request.gdpr=sublime.gdpr.getConsentString();}
return data;};var callTimeStart;sublime.ssp=sublime.ssp||{};sublime.ssp.setup={improve:[],appnexus:[],smartadserver:[],sticky:[]}||{};sublime.ssp.awaitedTime={total:0};sublime.ssp.successAndDisplayAd=function(ad,data){sublime.info("event.ssp.ok",data);var fireSspPixelExtraQs={ssprf:ad.response_format};if(sublime.helpers.hasProperty(ad,'vpaid.provider')){fireSspPixelExtraQs.vtpp=ad.vpaid.provider;}
if(data.type==='vast'){if(sublime.length(data.pixels)){sublime.analytics.setPixels(32097,data.pixels);}
if(sublime.isDefined(ad.mobile_setup)){ad.type='mobile';ad.creative_type=ad.creative_type||'mobile m-skinz video';}else{ad.type='video';}}
sublime.ad=sublime.merge(sublime.ad,ad);sublime.ssp.fireSspPixel('sspOk',0,fireSspPixelExtraQs);sublime.adServer.displayAd();};sublime.ssp.errorAndGoNext=function(data){data=sublime.merge(data,{'event.ssp.ko':sublime.ad.ssp_name});if(data.parseScript_response&&(data.parseScript_response in sublime.sspRequest.ssp_response)){data.ssp_response=sublime.sspRequest.ssp_response[data.parseScript_response];}
if(data.parseVast_response&&(data.parseVast_response in sublime.sspRequest.ssp_response)){data.ssp_response=sublime.sspRequest.ssp_response[data.parseVast_response];}
var ssp_r=data.ssp_response?sublime.pInt(data.ssp_response):99;sublime.warn(data);var extraQS={};if(sublime.isObject(data.ad)){if(sublime.isDefined(data.ad.raid)){extraQS.ra=data.ad.raid;}
if(sublime.isDefined(data.ad.deal_id)){extraQS.di=data.ad.deal_id;}
if(sublime.isDefined(data.ad.insertion_id)){extraQS.ii=data.ad.insertion_id;}}
sublime.ssp.fireSspPixel('sspKo',ssp_r,extraQS);delete sublime.ad.response_format;return sublime.adServer.execute();};sublime.ssp.query=function(){var sspClass=sublime.ssp.getSspClassFromAd(sublime.ad);if(!sspClass){sublime.error('Ssp not supported',{ssp:sublime.ad.ssp_name});return sublime.adServer.execute();}
callTimeStart=sublime.now();sublime.info('SSP Call: '+sublime.ad.ssp_name);sublime.ssp.fireSspPixel('sspCall');try{sspClass.query();}catch(e){sublime.error('Error ssp query',{ssp:sublime.ad.ssp_name},e);return sublime.ssp.errorAndGoNext({message:'Error ssp query '+sublime.ad.ssp_name,ssp_response:sublime.sspRequest.ssp_response.REQUEST_ERROR});}};sublime.ssp.getSspClassFromAd=function(ad){var sspNamespace=ad.ssp_name.toLowerCase();if(sublime.ssp[sspNamespace]&&sublime.isFunction(sublime.ssp[sspNamespace].query)){return sublime.ssp[sspNamespace];}else{return false;}};sublime.ssp.write=function(html,options){sublime.info('sublime.ssp.write()',html);sublime.write(html,options);};sublime.ssp.queryCallback=function(iframeWindow){sublime.hook.call('ssp.'+sublime.ad.ssp_name+'.queryCallback');if(!sublime.parseScript.readResponseFromIframe(iframeWindow)){return false;}
sublime.info("sublime.adServer.displayAd()");sublime.adServer.displayAd();return true;};sublime.ssp.isHTML=function(html){var commentPseudoCommentOrLtBang=new RegExp('<!--[\\s\\S]*?(?:-->)?'+'<!---+>?'+'|<!(?![dD][oO][cC][tT][yY][pP][eE]|\\[CDATA\\[)[^>]*>?'+'|<[?][^>]*>?','g');var s=html;s=s.replace(commentPseudoCommentOrLtBang,'');s=sublime.trim(s).replace(/^[\r\n]+|[\r\n]+$/g,'');return!!s.match(/^</);};sublime.ssp.fireSspPixel=function(callName,sspResponse,extraQS){var e=(callName==='sspCall')?'sspc':callName.toLowerCase();var pixel={inherit:'_ssp',qs:{e:e}};var id=sublime.ad.ssp_id||'ad-'+sublime.ad.id;if(callName!=='sspCall'){pixel.qs.sspr=sublime.pInt(sspResponse);pixel.preFireCallback=function(){this.qs.rt=Math.round(sublime.now()-callTimeStart);};}
if(sublime.isObject(extraQS)){pixel.qs=sublime.merge(pixel.qs,extraQS);}
sublime.analytics.fire(32097,callName+'-'+sublime.ad.ssp_name+'-'+id,pixel);};var pixelsSsp={_ssp:{inherit:'_commonSkinz',preFireCallback:function(){if(sublime.isDefined(sublime.ad)&&'ssp_name'in sublime.ad){var sspName=sublime.ad.ssp_name;if(sublime.ad.ssp_name==='appnexus'&&sublime.ad.header_bidding){sspName='appnexus3';}
this.qs.sspname='sspv3-'+sspName;}
if(sublime.isDefined(sublime.ad)&&'ssp_id'in sublime.ad){this.qs.sspplid=sublime.ad.ssp_id;}
this.qs.isssp=1;},qs:{}}};sublime.analytics.setPixels(32097,pixelsSsp);sublime.parseVast={emptyResponse:/<VAST version='2\.0'>[\s\r\n]*<\/VAST>/,};sublime.parseVast.response={OK:'OK',EMPTY_RESPONSE:'EMPTY_RESPONSE',PARSE_ERROR:'PARSE_ERROR',PARSE_TIMEOUT:'PARSE_TIMEOUT',REQUEST_ERROR:'REQUEST_ERROR',UNKNOWN_ERROR:'UNKNOWN_ERROR',};var quartileNames=['start','firstQuartile','midpoint','thirdQuartile','complete'];var eventNames=['mute','unmute','rewind','pause','resume','fullscreen','complete'];var pixelNumber=0;var allPixels=[];var insertionId=null;var dealId=null;var vpaid=null;var imageSelector='sublime_img_bg';var getNodeValue=function(e){if(!e||!e.childNodes){return null;}
var child=e.childNodes.length===1?e.firstChild:e.childNodes[1];for(var i=0;i<e.childNodes.length;i+=1){if(e.childNodes[i].nodeType===4){child=e.childNodes[i];}}
if(child){if(child.nodeValue){return sublime.trim(child.nodeValue);}
if(e.querySelector('URL')){return sublime.trim(e.querySelector('URL').firstChild.nodeValue);}
return sublime.trim(child.innerHTML||'');}
return false;};sublime.parseVast.decodeAppnexusWrappedContent=function decodeAppnexusWrappedContent(encodedContent){var adParametersObject=JSON.parse(encodedContent);if(!sublime.helpers.hasProperty(adParametersObject,'ads.0.rtb.content_b64')){return'';}
var content=adParametersObject.ads[0].rtb.content_b64;var parts=content.split('-');if(!parts||!parts.length||parts[0]===''){return'';}
try{var decodedContent=parts.reduce(function(acc,value){value+='-';acc+=sublime.base64url.decode(value.replace(/\s|\./,''));return acc;},'');return decodedContent;}catch(e){sublime.warn('Error while parsing VPAID with appnexus wrapper:'+e,{content:content});return'';}};function getImageFromId(id,vastData){return vastData.ad.images[id]&&vastData.ad.images[id].url;}
sublime.parseVast.parse=function(responseXML){sublime.ad=sublime.ad?sublime.ad:{};sublime.ad.response_format='vast';var vast=vastParse(responseXML);if(!vast){return false;}
var vastData=vast.data;var imageBg=getImageFromId('image_bg',vastData);if(!sublime.isEmpty(vastData.ad.raid)&&sublime.isEmpty(vastData.ad.videoBg)&&sublime.isEmpty(imageBg)&&vastData.ad.video){vastData.ad.videoBg=vastData.ad.video.replace(/\/video-/,'/video-bg-');sublime.error('VAST video background replaced',{vastAd:vastData.ad,});}
allPixels=allPixels.concat(vastData.pixels);insertionId=vastData.ad.insertionId||insertionId;dealId=vastData.ad.dealId||dealId;var data={ad:{url:vastData.ad.url||'',originalUrl:vastData.ad.url||'',creative_type:vastData.ad.creative_type||'',moat:vastData.ad.moat||'',html_usage:vastData.ad.html_usage||'',images:{bg:imageBg||'',},videos:{top:vastData.ad.video||'',bg:vastData.ad.videoBg||'',},html:vastData.ad.htmlParts.join('\r\n'),type:'video',raid:vastData.ad.raid||null,insertion_id:insertionId,deal_id:dealId,vpaid:vpaid||null,response_format:vpaid?'vpaid':'vast',supported_devices:vastData.device?[vastData.device]:[],video_resolution:vastData.ad.video_resolution||null,isWrapper:vastData.ad.isWrapper,sublimeCreativeDetected:vastData.ad.sublimeCreativeDetected,isExternal:!vastData.ad.sublimeCreativeDetected,},pixels:allPixels,hooks:null,childUri:vastData.childUri,};if(vastData.ad.rcid){data.ad.rcid=vastData.ad.rcid;}
if(vastData.ad.fixed){data.ad.fixed=vastData.ad.fixed;}
if(vastData.ad.top){data.ad.top=vastData.ad.top;}
if(vastData.device==='desktop'){var desktopSetup=sublime.helpers.tryParseJson(vastData.ad.desktop_setup);if(desktopSetup){data.ad.desktop_setup=desktopSetup;}else{data.ad.desktop_setup={reminder:0,};}}
if(vastData.device==='mobile'){var mobileSetup=sublime.helpers.tryParseJson(vastData.ad.mobile_setup);if(mobileSetup){data.ad.mobile_setup=mobileSetup;}else{data.ad.mobile_setup={top:{key:'top',type:'img',src:getImageFromId('image_top',vastData)||'',video:vastData.ad.video||'',},panel:{key:'panel',type:'img',src:getImageFromId('image_panel',vastData)||'',},bottom:{key:'bottom',type:'img',src:getImageFromId('image_bottom',vastData)||'',},js:mobileSetup?mobileSetup.js:null,css:mobileSetup?mobileSetup.css:null,};}
data.ad.type='mobile';}
var isExternalMobileCreative=(sublime.device==='mobile')&&!vastData.ad.sublimeCreativeDetected;if(isExternalMobileCreative){data.ad.type='mobile';data.ad.creative_type='mobile m-skinz2 video simple';data.ad.supported_devices=['mobile'];var placeholderImage='https://cdn.ayads.co/mskinz/transparent.png';data.ad.mobile_setup={top:{key:'top',type:'video',video:vastData.ad.video,src:placeholderImage,supportTopParallax:1,autoHideTopDuration:data.skipoffset||0,},bottom:{},panel:{transitionColors:['black','black'],},footer_fixed:1,top_sticky:1,};}
return data;};function sortCanPlayMediaFiles(mediaFilesNodeList,formatsReference){let formats=formatsReference;if(typeof formats===undefined){formats=sublime.video.SUPPORTED_PLAY_TYPES;}
let mediaFiles=Array.prototype.slice.call(mediaFilesNodeList).map(function(mediaFile){let type=mediaFile.getAttribute('type');return{mediaFile:mediaFile,bitrate:+mediaFile.getAttribute('bitrate'),type:type,canPlayType:sublime.video.canPlayType(type),supported:formats.indexOf(type),};}).filter(function(config){return config.canPlayType>0&&config.supported>=0;});mediaFiles=mediaFiles.sort(function(a,b){if(a.supported>b.supported){return 1;}
if(a.supported<b.supported){return-1;}});return mediaFiles;}
function getOneMediaFile(mediaFiles,bitrateReference){const BITRATE_REFERENCE=sublime.video.BITRATE_REFERENCE;const bitrate=bitrateReference===undefined?BITRATE_REFERENCE:bitrateReference;mediaFiles.sort(function(a,b){if(Math.abs(a.bitrate-bitrate)<Math.abs(b.bitrate-bitrate)){return-1;}
if(Math.abs(a.bitrate-bitrate)>Math.abs(b.bitrate-bitrate)){return 1;}});return mediaFiles[0];}
sublime.parseVast.pickMediaFile=function(mediaFiles){const BITRATE_REFERENCE=sublime.video.BITRATE_REFERENCE;const SUPPORTED_PLAY_TYPES=sublime.video.SUPPORTED_PLAY_TYPES;const SUPPORTED_PLAY_TYPE_3GPP=sublime.video.SUPPORTED_PLAY_TYPE_3GPP;if(mediaFiles===undefined||mediaFiles.length===0){sublime.warn('pickMediaFile: empty mediaFiles collection');return;}
let mediaFilesAvailable=sortCanPlayMediaFiles(mediaFiles,SUPPORTED_PLAY_TYPES);let playableMediaFiles;if(mediaFilesAvailable.length>0){playableMediaFiles=getOneMediaFile(mediaFilesAvailable,BITRATE_REFERENCE);}
if(!playableMediaFiles){mediaFilesAvailable=sortCanPlayMediaFiles(mediaFiles,SUPPORTED_PLAY_TYPE_3GPP);if(mediaFilesAvailable.length>0){playableMediaFiles=getOneMediaFile(mediaFilesAvailable,BITRATE_REFERENCE);}}
if(!playableMediaFiles){sublime.warn('pickMediaFile: no playable mediaFile');return;}
return playableMediaFiles.mediaFile;};function vastParse(responseXML){var o={adElement:responseXML.querySelector('Ad'),wrapperElement:responseXML.querySelector('Wrapper'),impressionElements:responseXML.querySelectorAll('Impression'),errorElements:responseXML.querySelectorAll('Error'),trackingElements:responseXML.querySelectorAll('Tracking'),videoElement:sublime.parseVast.pickMediaFile(responseXML.querySelectorAll('MediaFile')),adParametersElement:responseXML.querySelector('AdParameters'),clickThroughElement:responseXML.querySelector('ClickThrough'),customClickElement:responseXML.querySelector('CustomClick'),clickTrackingElements:responseXML.querySelectorAll('ClickTracking'),companionAdsElement:responseXML.querySelectorAll('CompanionAds'),durationElement:responseXML.querySelector('Duration'),smartMacrosElement:responseXML.querySelector('SmartMacros'),rtbMacrosElement:responseXML.querySelector('RtbMacros'),companions:{},data:{ad:{raid:null,rcid:null,insertionId:null,dealId:null,images:[],htmlParts:[],isWrapper:true,sublimeCreativeDetected:false,},hooks:{},pixels:[],childUri:null,},};if(!o.adElement){return false;}
if(o.rtbMacrosElement){dealId=getNodeValue(o.rtbMacrosElement.querySelector('DealId'));if(dealId){o.data.ad.dealId=dealId;if(sublime.isObject(sublime.ad)){sublime.ad.deal_id=dealId;}}}
if(o.smartMacrosElement){insertionId=getNodeValue(o.smartMacrosElement.querySelector('insertionID'));if(insertionId){o.data.ad.insertionId=insertionId;if(sublime.isObject(sublime.ad)){sublime.ad.insertion_id=insertionId;}}}
var vastId=o.adElement.getAttribute('id');if(vastId&&vastId.match(/^sublime-.*/i)){o.data.ad.raid=vastId.replace(/^sublime-(.*)$/i,'$1');if(sublime.isObject(sublime.ad)){sublime.ad.raid=o.data.ad.raid;}
o.data.ad.sublimeCreativeDetected=true;o.data.ad.isWrapper=false;}
var vastCampaignId=o.adElement.getAttribute('sskzCampaignId');if(vastCampaignId){o.data.ad.rcid=vastCampaignId;}
var vastType=o.adElement.getAttribute('sskzType');if(vastType==='light'){o.data.childUri=sublime.env('app_host')+'/vast/'+o.data.ad.raid;return o;}
o.data.device=o.adElement.getAttribute('sskzDevice')||sublime.device;var creativeType=o.adElement.getAttribute('sskzCreativeType');if(creativeType){o.data.ad.creative_type=creativeType;}
var mobileSetup=o.adElement.getAttribute('sskzMobileSetup');if(mobileSetup){o.data.ad.mobile_setup=mobileSetup;}
var desktopSetup=o.adElement.getAttribute('sskzDesktopSetup');if(desktopSetup){o.data.ad.desktop_setup=desktopSetup;}
var moat=parseInt(o.adElement.getAttribute('sskzMoat')||0,10);if(moat>=1){o.data.ad.moat=moat;}
var htmlUsage=o.adElement.getAttribute('sskzHtmlUsage');if(htmlUsage){o.data.ad.html_usage=htmlUsage;}
var canAddEvents=!(o.adElement&&vastId&&vastId.match(/^sublime.*/i));var eventNode;var impressionValue;var clickValue;var eventValue;var eventName;var companionNode;var companionName;var companionValue;var j;var companions;var companionAdParameters;var companionImage;var companionVideoBackground;var pixelName;o.adParametersValue=getNodeValue(o.adParametersElement);if(o.durationElement){o.data.duration=sublime.helpers.time2secs(getNodeValue(o.durationElement));}
for(i=0;i<o.clickTrackingElements.length;i+=1){clickValue=getNodeValue(o.clickTrackingElements[i]);if(clickValue&&sublime.isUrl(clickValue)){pixelName='vastClick';o.data.pixels.push({name:pixelName,slot:'click.'+pixelName,url:clickValue,});}}
for(var i=0;i<o.impressionElements.length;++i){impressionValue=getNodeValue(o.impressionElements[i]);if(impressionValue&&sublime.isUrl(impressionValue)){pixelName='vastImpression';o.data.pixels.push({name:pixelName,slot:'impression.'+pixelName,url:impressionValue,});}}
for(i=0;i<o.trackingElements.length;++i){eventNode=o.trackingElements[i];eventName=eventNode.getAttribute('event');eventValue=getNodeValue(eventNode);if(canAddEvents&&sublime.isUrl(eventValue)){if(sublime.inArray(eventName,quartileNames)){var index=sublime.inArray(eventName,quartileNames,true);pixelName='vastVideoQ'+index;o.data.pixels.push({name:pixelName,slot:'videoQ'+index+'.'+pixelName,url:eventValue,});}
if(sublime.inArray(eventName,eventNames)){pixelName='vast'+eventName;o.data.pixels.push({name:pixelName,slot:eventName+'.'+pixelName,url:eventValue,});}else if(eventName==='creativeView'){o.data.pixels.push({name:eventName,slot:'impression.'+eventName,url:eventValue,});}else if(eventName==='progress'){var secs=sublime.helpers.time2secs(eventNode.getAttribute('offset'));if(secs){var name=eventName+'_'+secs;o.data.pixels.push({name:name,slot:name,url:eventValue,});}}else{o.data.pixels.push({name:eventName,slot:eventName,url:eventValue,});}}}
if(o.videoElement&&o.clickThroughElement){o.data.ad.isWrapper=false;if(o.clickThroughElement){o.data.ad.url=getNodeValue(o.clickThroughElement);}
if(sublime.isEmpty(o.data.ad.url)&&o.customClickElement){o.data.ad.url=getNodeValue(o.customClickElement);}
if(o.videoElement){o.data.ad.video=getNodeValue(o.videoElement);if(o.videoElement.getAttribute('width')&&o.videoElement.getAttribute('height')){o.data.ad.video_resolution=o.videoElement.getAttribute('width')+'x'+o.videoElement.getAttribute('height');}}
for(i=0;i<o.companionAdsElement.length;++i){companions=o.companionAdsElement[i].querySelectorAll('Companion');for(j=0;j<companions.length;++j){companionNode=companions[j];companionName=companionNode.getAttribute('id')||i+'-'+j+'-noid';companionValue=getNodeValue(companionNode);if(!o.companions[companionName]){o.companions[companionName]=[];}
if(companionNode.getAttribute('id')===imageSelector){var fixed=companionNode.getAttribute('expandedHeight');var top=companionNode.getAttribute('expandedWidth');if(fixed){o.data.ad.fixed=sublime.pInt(fixed);}
if(top){o.data.ad.top=sublime.pInt(top);}}
companionImage=companionNode.querySelector('StaticResource[creativeType*=image]');if(companionImage){var imageValue=getNodeValue(companionImage);var image={key:companionName,url:imageValue,};for(var field in{width:1,height:1,}){if(companionNode.getAttribute(field)){image[field]=companionNode.getAttribute(field);}}
o.companions[companionName].image=image;o.data.ad.images[companionImage.getAttribute('id')]=image;}
companionAdParameters=companionNode.querySelector('CompanionAds AdParameters');if(companionAdParameters){var htmlValue=getNodeValue(companionAdParameters);o.companions[companionName].html=htmlValue;o.data.ad.htmlParts.push(htmlValue);}
companionVideoBackground=companionNode.querySelector('StaticResource[creativeType*=video]');if(companionVideoBackground){var videoBgValue=getNodeValue(companionVideoBackground);o.companions[companionName].url=videoBgValue;o.data.ad.videoBg=videoBgValue;}
if(o.companions[companionName].length){delete o.companions[companionName];}}}}
var vpaidMediafileElement=responseXML.querySelector('MediaFile[apiFramework=VPAID][type*="javascript"],[apiFramework="VPAID"] [creativeType*="javascript"]');if(vpaidMediafileElement){o.data.ad.isWrapper=false;var adParametersElement=responseXML.querySelector('AdParameters');var mediaFile=getNodeValue(vpaidMediafileElement);var adParameters=getNodeValue(adParametersElement);var vastRedirectUrlRegex=new RegExp(('sac.*?.ayads.co.*?/vast/').replace(/[/]/g,'\\/')+'(\\d+)',);var adElement=responseXML.querySelector('Ad[id^="Sublime-"]');var decodedContent='';if(sublime.helpers.tryParseJson(adParameters)){decodedContent=sublime.parseVast.decodeAppnexusWrappedContent(adParameters);}
var creativeId=parseInt((adElement&&(adElement.getAttribute('id').match(/^Sublime-(\d+)$/)||[])[1])||(adParameters&&(adParameters.toString().match(vastRedirectUrlRegex)||[])[1])||(decodeURIComponent(mediaFile).toString().match(vastRedirectUrlRegex)||[])[1]||(decodedContent&&(decodedContent.match(vastRedirectUrlRegex)||[])[1]),);if(sublime.isNum(creativeId)){o.data.ad.sublimeCreativeDetected=true;o.data.childUri=sublime.env('app_host')+'vast/'+creativeId;}
vpaid={mediaFile:mediaFile,adParameters:adParameters,adSystem:(getNodeValue(o.adElement.querySelector('AdSystem'))||'').toLowerCase().replace(/\s+/g,'-'),};var providers={adledge:'https?://[^.]*.?adledge.com',doubleverify:'https?://vpaid.doubleverify.com',ias:'https?://[^.]*.?adsafeprotected.com',moat:'https?://svastx.moatads.com',googleima:'https?://imasdk.googleapis.com',appnexus:'https?://acdn.adnxs.com',};for(var providerName in providers){if(vpaid.mediaFile.match(new RegExp(providers[providerName],'i'))){vpaid.provider=providerName;break;}}}
if(o.wrapperElement&&o.wrapperElement.querySelector('VASTAdTagURI')){o.data.childUri=getNodeValue(o.wrapperElement.querySelector('VASTAdTagURI'));}
return o;}
sublime.parseVast.remapPixels=function(pixels){var output={};var pixel;var name='';for(var i=0;i<pixels.length;i+=1){pixel=pixels[i];pixelNumber=0;do{pixelNumber+=1;name=pixel.name+'_'+pixelNumber;}while(output[name]);output[name]={inherit:'_external',slot:pixel.slot.replace(/([^.]+)$/,name),url:pixel.url,};}
return output;};sublime.parseVast.query=function queryVast(url,options){options=sublime.isObject(options)?options:{};var defaultsOptions={timeout:false,errorCallback:sublime.noOp,successCallback:sublime.noOp,};options=sublime.merge(defaultsOptions,options);var optionsXHR={async:true,timeout:options.timeout,onTimeout:function(){return options.errorCallback({message:'Timeout SSP',parseVast_response:sublime.parseVast.response.PARSE_TIMEOUT,});},success:function(){sublime.info('Vast Response received',{response:this.response,});var vastResponse=this.responseXML;if(!vastResponse){vastResponse=sublime.helpers.tryParseXml(this.responseText);}
if(!vastResponse){sublime.error('VAST Parse error : Non XML response SSP',{vastUrl:url,options:options,});return options.errorCallback({message:'Non XML response SSP',parseVast_response:sublime.parseVast.response.PARSE_ERROR,});}
if(this.response.match(sublime.parseVast.emptyResponse)){return options.errorCallback({message:'Empty response',parseVast_response:sublime.parseVast.response.EMPTY_RESPONSE,});}
try{sublime.parseVast.decodeVastResponse(vastResponse,options);}catch(e){return options.errorCallback({error:e,message:'ParseVast error',parseVast_response:sublime.parseVast.response.PARSE_ERROR,});}},error:function(){return options.errorCallback({message:'Can\'t reach SSP',parseVast_response:sublime.parseVast.response.REQUEST_ERROR,});},};sublime.xhr(url,optionsXHR);};sublime.parseVast.decodeVastResponse=function decodeVastResponse(responseXML,options){var vastData=sublime.parseVast.parse(responseXML);if(!vastData){return options.errorCallback({message:'Vast is empty',parseVast_response:sublime.parseVast.response.EMPTY_RESPONSE,});}
if(vastData&&vastData.childUri){return sublime.parseVast.query(vastData.childUri,options);}
vastData.pixels=sublime.parseVast.remapPixels(vastData.pixels);var hasUrl=sublime.isUrl(vastData.ad.url);var hasImage=sublime.isUrl(vastData.ad.images.bg);var hasVideo=sublime.isUrl(vastData.ad.videos.top);var isValidCreative=vastData&&hasUrl&&(hasImage||hasVideo);var isVpaid=!!vastData.ad.vpaid;if(!isValidCreative&&!isVpaid){return options.errorCallback({message:"Vast isn't a Creative or a VPAID",parseVast_response:sublime.parseVast.response.EMPTY_RESPONSE,ad:vastData.ad||{},});}
if(sublime.isEmpty(vastData.ad.raid)&&sublime.isEmpty(vastData.ad.supported_devices)){vastData.ad.supported_devices.push(sublime.device);}
if(sublime.device==='desktop'&&!vastData.ad.sublimeCreativeDetected){vastData.ad.desktop_setup.reminder=1;}
options.successCallback(vastData.ad,{type:'vast',pixels:vastData.pixels,});};sublime.parseVast.reinitPixels=function(){allPixels=[];};sublime.parseScript={};sublime.parseScript.response={"OK":"OK","EMPTY_RESPONSE":"EMPTY_RESPONSE","PARSE_ERROR":"PARSE_ERROR","PARSE_TIMEOUT":"PARSE_TIMEOUT","UNKNOWN_ERROR":"UNKNOWN_ERROR"};sublime.parseScript.query=function(url,options){var defaults={async:true,timeout:2500,onTimeout:sublime.noOp,success:sublime.noOp,error:sublime.noOp};options=sublime.merge(defaults,options);sublime.xhr(url,options);};sublime.parseScript.write=function(html,options){sublime.ad=sublime.ad?sublime.ad:{};sublime.ad.response_format='html';var defaults={responseReader:sublime.parseScript.readResponseFromIframe,errorCallback:sublime.noOp,successCallback:sublime.noOp,tryIntervalMs:25,tryRepeat:80};if(!options||!sublime.isObject(options)){options={};}
options=sublime.merge(defaults,options);var bannedKeyword=/tags\.adzip\.co/;if(sublime.isString(html)&&bannedKeyword.test(html)){return options.errorCallback({message:'Forbidden partner',parseScript_response:sublime.parseScript.response.PARSE_ERROR});}
html='<script src="data:application/javascript;ayads.co;charset=utf-8;base64,Ow=="></script>'+html;sublime.info('sublime.parseScript.write()',html);var iframe=sublime.write(html,options);var iframeHtml;var tries=0;var interval=sublime.timer.setInterval(function(){sublime.info('parseScript start read response ('+tries+'/'+options.tryRepeat+')');try{var result=options.responseReader(iframe.contentWindow);}catch(e){iframeHtml="-- could not retrieve iframe content --";if(iframe.contentWindow&&iframe.contentWindow.document&&iframe.contentWindow.document.body&&iframe.contentWindow.document.body.innerHTML){iframeHtml=iframe.contentWindow.document.body.innerHTML;}
sublime.error('ParseScript responseReader error',{html:encodeURIComponent(html),iframeHtml:encodeURIComponent(iframeHtml),ad:sublime.ad||'-empty ad-'},e);sublime.info('parseScript clear interval');sublime.timer.clearInterval(interval);interval=null;sublime.parseScript.removeIframe(iframe);return options.errorCallback({message:'responseReader error',parseScript_response:sublime.parseScript.response.PARSE_ERROR});}
tries++;if(result.responseFound||tries>=options.tryRepeat){sublime.info('parseScript clear interval');sublime.timer.clearInterval(interval);interval=null;if(result.adFound){return options.successCallback(result.creativeAd,{type:'script',tries:tries,result:result});}
var parseScriptResponse=sublime.parseScript.response.PARSE_TIMEOUT;if(result.responseFound){parseScriptResponse=sublime.parseScript.response.EMPTY_RESPONSE;}
if(!result.responseFound&&sublime.ad&&sublime.ad.ssp_name==="smartadserver"){iframeHtml="-- could not retrieve iframe content --";if(iframe.contentWindow&&iframe.contentWindow.document&&iframe.contentWindow.document.body&&iframe.contentWindow.document.body.innerHTML){iframeHtml=iframe.contentWindow.document.body.innerHTML;}
sublime.error("parseScript.write: parse timeout on smartAdServer",{iframeHtml:iframeHtml,tags:{ssp:"smartadserver"}});}
sublime.parseScript.removeIframe(iframe);return options.errorCallback({type:'script',tries:tries,parseScript_response:parseScriptResponse});}
sublime.log('parseScript end read response');},options.tryIntervalMs);};sublime.parseScript.removeIframe=function(iframe){if(!iframe){return false;}
var str='parseScript delete iframe';if(iframe.id&&iframe.id.length>0){str+='#'+iframe.id;if(iframe.name&&iframe.name.length>0){str+='[name='+iframe.name+']';}}
sublime.info(str);if(sublime.getLogLevel()<40){return sublime.removeElement(iframe);}else{sublime.log('parseScript delete iframe < is fake delete');}
return true;};var redirectLightRequests={};var redirectLightOutputs={};sublime.parseScript.readResponseFromIframe=function(iframeWindow){var output={responseFound:false,adFound:false,creativeAd:{}};if(!iframeWindow||!iframeWindow.document){return output;}
var redirectAd=sublime.compat.windowHasRedirect(iframeWindow);if(redirectAd){if(redirectAd.id){delete redirectAd.id;}
if(sublime.isDefined(redirectAd.raid)&&sublime.isDefined(redirectAd.rtype)&&redirectAd.rtype==='light'){sublime.info('Identified Redirect light: '+redirectAd.raid);if(!redirectLightRequests[redirectAd.raid]){sublime.info('Requesting redirect');sublime.xhr(sublime.env('sublime_url')+'ad/'+redirectAd.raid,{jsonp:true,callbackName:'sublimeCbRedLightAd',success:function successXhr(response){var creativeResponse=response;creativeResponse.originalUrl=creativeResponse.url;creativeResponse.url=redirectAd.click_macro+creativeResponse.url;creativeResponse.click_macro=redirectAd.click_macro;creativeResponse.isRedirect=true;creativeResponse.raid=redirectAd.raid;delete creativeResponse.aid;delete creativeResponse.id;redirectLightOutputs[redirectAd.raid]={responseFound:true,adFound:true,creativeAd:creativeResponse};sublime.info('Redirect light response received',redirectAd.raid,response,redirectLightOutputs[redirectAd.raid]);},error:function errorXhr(){redirectLightOutputs[redirectAd.raid]={responseFound:true,adFound:false};sublime.warn('Redirect light error',redirectAd.raid,redirectLightOutputs[redirectAd.raid]);}});redirectLightRequests[redirectAd.raid]=true;}
if(redirectLightOutputs[redirectAd.raid]){sublime.info('Redirect light usable');return redirectLightOutputs[redirectAd.raid];}else if(redirectLightRequests[redirectAd.raid]){sublime.info('Redirect light request pending');return output;}
sublime.warn("Can't find Redirect light",redirectAd.raid);return output;}
sublime.info('Compact redirect in use');output.responseFound=true;output.adFound=true;output.creativeAd=redirectAd;return output;}
var img=iframeWindow.document.querySelector('img[onclick^="window.open"]');if(img){var matches=img.getAttribute('onclick').toString().match(/^window\.open\(\'(http.*?)\'/);var url=matches&&matches[1];if(url){output.creativeAd.url=url;output.creativeAd.originalUrl=url;output.creativeAd.images={bg:img.src};output.creativeAd.type='skinz';output.responseFound=true;output.adFound=true;return output;}}
var links=iframeWindow.document.getElementsByTagName('a');if(!links.length){sublime.warn('No href found in response');return output;}
var a=links[0];var imgs=a.getElementsByTagName('img');if(!imgs.length){sublime.warn('No image found in response');return output;}
img=imgs[0];if(a&&img&&a.href&&img.src){if(a.href.charAt(0)!=='j'&&!sublime.isUrl(a.href)){output.responseFound=true;return output;}
if(img.src.indexOf('1x1')>-1||img.src.indexOf('adchoices')>-1||a.href.toString().indexOf('info.criteo')>-1||a.href.toString().indexOf('unicef')>-1){sublime.warn("Negative response");output.responseFound=true;return output;}
if(a.href.indexOf('j')===0){sublime.hook.register('event.click',function(){eval(a.href.replace('javascript:',''))});output.creativeAd.url=a.href.match(/\(.*\)/)[0].replace(/\(|\)|'/gi,'');}else{output.creativeAd.url=a.href;}
output.creativeAd.originalUrl=output.creativeAd.url;if(a.onclick){sublime.hook.register('event.click',a.onclick);}
if(sublime.isEmpty(output.creativeAd.images)){output.creativeAd.images={};}
output.creativeAd.images.bg=img.src;output.creativeAd.type='skinz';sublime.info("Href found in response",a.href);output.responseFound=true;output.adFound=true;}
return output;};sublime.ssp=sublime.ssp||{};sublime.ssp.appnexus={name:"appnexus",iframeId:'sublime-appnexus-iframe',timeout:2500};var appNexusSetup={customUrls:{query:'',prebidQuery:''}};sublime.ssp.appnexus.setQueryUrl=function(url){appNexusSetup.customUrls.query=url;};sublime.ssp.appnexus.setPrebidQueryUrl=function(url){appNexusSetup.customUrls.prebidQuery=url;};sublime.ssp.appnexus.query=function(){sublime.info('appnexus.query: PROMISE');var options={async:true,timeout:1000,isMobile:sublime.device==='mobile',acceptVideo:(!0&&!sublime.detectDevice.isDataSaverEnabled()&&(sublime.device==='mobile'||(sublime.inArray(sublime.detectDevice.categorizedScreenSize(),['large','unknown']))))};var source={url:'https://ib.adnxs.com/ut/v3/prebid',id:sublime.ad.ssp_id};return sublime.sspRequest.appnexusRequest.call(source,options).then(function(response){if(response.success){if(response.vast){var xmlDocument=sublime.helpers.tryParseXml(response.vast);return sublime.parseVast.decodeVastResponse(xmlDocument,{errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd});}
var html=response.html;return sublime.parseScript.write(html,{id:sublime.ssp.appnexus.iframeId,iframeAttributes:{"data-ssp-name":sublime.ad.ssp_name,"data-ssp":sublime.ad.ssp_id,width:"1800px",height:"1000px",style:"margin-left: -900px;"+"position: absolute;"+"z-index: 999;"+"top: 0;"+"left: 50%;"+"opacity: 0.001;"+"display: block;"+"transform: scale(0.001);"+"transform-origin: top"},errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd,tryIntervalMs:30,tryRepeat:50});}
return sublime.ssp.errorAndGoNext({message:'Error Appnexus WF query',ssp_response:response.error_code});}).catch(function(e){sublime.error('Error with appnexus call',{},e);return sublime.ssp.errorAndGoNext({message:'Error in the Appnexus Promise, error catched',ssp_response:sublime.sspRequest.ssp_response.UNKNOWN_ERROR});});};sublime.ssp=sublime.ssp||{};sublime.ssp.improve={name:"improve",iframeId:"sublime-improve-iframe"};var improveSetup={customUrls:{query:''}};sublime.ssp.improve.setQueryUrl=function(url){improveSetup.customUrls.query=url;};sublime.ssp.improve.query=function(){improveQuery();};var improveQuery=function(){var url=getQueryUrl(),html='<script type="text/javascript" src="'+url+'"></script>';sublime.parseScript.write(html,{id:sublime.ssp.improve.iframeId,iframeAttributes:{"data-ssp-name":sublime.ad.ssp_name,"data-ssp":sublime.ad.ssp_id},errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd,tryIntervalMs:100,tryRepeat:20});};var getQueryUrl=function(){var queryType='query';var nuggad_qs=sublime.storage.get('nuggad-profile-qs');var url='https://ad.360yield.com/adj?p='+
sublime.ad.ssp_id+'&w=1800&h=1000&tz='+
(new Date().getTimezoneOffset())+
(nuggad_qs?'&'+nuggad_qs:'')+'&click3rd=';if(improveSetup.customUrls&&improveSetup.customUrls[queryType]){return improveSetup.customUrls[queryType];}
url=sublime.sspRequest.improveRequest.buildGDPRQuery(url);return url;};sublime.ssp.criteo={name:'criteo',iframeId:'sublime-criteo-iframe',timeout:1000,url:null,};sublime.ssp.criteo.query=function(){sublime.write(criteoTagContent());};sublime.ssp.criteo.callback=function(response){sublime.info('Criteo response',response);if(response.response_status>0){var sspResponse=sublime.sspRequest.ssp_response.REQUEST_ERROR;if(response.response_status==1){sspResponse=sublime.sspRequest.ssp_response.EMPTY_RESPONSE;}
return sublime.ssp.errorAndGoNext({message:'Criteo request not handled',response:response.response,ssp_response:sspResponse});}
try{var shopData=remapShopData(response);}catch(e){sublime.error('sspCriteo.remapShopData error',{response:response},e);return sublime.ssp.errorAndGoNext({message:'sspCriteo.remapShopData error',ssp_response:sublime.sspRequest.ssp_response.PARSE_ERROR});}
if(!shopData){return sublime.ssp.errorAndGoNext({message:'No shop data',ssp_response:sublime.sspRequest.ssp_response.PARSE_ERROR});}
sublime.ad.sspResponse=response;sublime.ad.shopData=shopData;if(sublime.ad.type==='mobile'){sublime.ad.creative_type='mobile m-skinz shop';}else{sublime.ad.type='html5';}
if(response.impression_pixels&&response.impression_pixels.length){for(var i=0;i<response.impression_pixels.length;i++){var pixel=response.impression_pixels[i];sublime.analytics.setPixels(32097,{inherit:'_external',slot:"impression.impressionCriteo"+(i+1),url:pixel.url});}}
sublime.ssp.successAndDisplayAd(sublime.ad,{type:'criteo'});};var remapShopData=function(response){var products=[];for(var i=0;i<response.products.length;i++){var p=response.products[i];var product={url:p.click_url,name:p.title,description:p.description,logo:"",price:p.price,image:p.image.url,discount:""};products.push(product);}
var ad=sublime.ad,shopData={logo:response.advertiser.logo.url,url:response.advertiser.logo_click_url,showProduct:true,showPrice:true,products:products,prependWings:{left:'',right:''},appendWings:{left:'',right:''},privacy:{optout_click_url:"https://info.criteo.com/pac/privacy/informations",optout_image_url:"https://static.criteo.net/flash/icon/nai_small.png"}};var privacyQS=sublime.qs.parse(response.privacy.optout_click_url);var bannerId=sublime.preview.params.criteoBanner||privacyQS.bannerid;if(sublime.preview.params.criteoCampaign){bannerId+="-"+sublime.preview.params.criteoCampaign;}
var bannerData=grabBannerData(bannerId);if(bannerData){shopData=sublime.merge(shopData,bannerData);if(!shopData.showProduct){shopData.showPrice=false;}
ad.images.bg=shopData.bg;}
ad.url=sublime.display.getFinalClickUrl(ad,shopData.url);if(shopData.logo&&shopData.showProduct&&shopData.products.length){var htmlLogo='<a class="ad-logo" target="_blank" title="'+response.advertiser.description+'" href="'+shopData.url+'">'+'<img src="'+shopData.logo+'" alt="'+response.advertiser.description+'" width="120" height="20">'+'</a>';shopData.prependWings.left=htmlLogo;shopData.prependWings.right=htmlLogo;}
var knowMoreTxt="En savoir +";if(shopData.language&&shopData.language=='en'){knowMoreTxt="Learn more";}
shopData.css='@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,600,700);'+'*[id*="sublime-ad-"], *[class*="sublime-ad-"] {font-family: "Open Sans", Helvetica, sans-serif; }'+'#sublime-ad-shop-left, #sublime-ad-shop-right { background-color: #fff; padding: 0 5px;}'+'#sublime-ad-shop-left .ad-logo, #sublime-ad-shop-right .ad-logo {display: block; text-align: center; padding: 10px 0; }'+'.sublime-ad-item { padding-top: 5px; margin-bottom: 15px; text-align: center; }'+'.sublime-ad-item a { color: #000; }'+'.sublime-ad-item a:after {opacity: 0; content: "'+knowMoreTxt+'"; position: absolute; top: 50%; left: 50%; color: #000000; background-color: rgba(255,255,255,0.8); padding: 5px; font-size: 10px; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%); transition: all 0.3s ease; }'+'.sublime-ad-item:hover a:after {opacity: 1; }'+'img.sublime-ad-item-image {max-width: 100%; height: auto; }'+'.sublime-ad-item:first-child{margin-top: 50px; }'+'.sublime-ad-item-name { font-weight: 600; font-size: 12px; margin: 5px 0 0 0; padding: 0 30%; }'+'.sublime-ad-item-price-container {font-size: 16px; font-weight: 700; margin: 5px 0 0 0; padding: 0 0%; }';shopData.gutterWidth=140;shopData.repeatProducts=false;shopData.showCurrency=false;return shopData;};var grabAdData=function(html){html=html||sublime.ad.html;html=html.replace(/[\n\r\t]+/g,'').replace(/[\s]+/g,' ');var data=html.match(/\/\*\s*BEGINCRITEO\s*\*\/(.+)\/\*\s*ENDCRITEO\s*\*\//);if(!data||!data[1]){return false;}
try{eval('data = '+data[1]);}catch(e){return false;}
return data;};var grabBannerData=function(bannerId,html){var adData=grabAdData(html);if(adData&&!adData[bannerId]){return null;}
return adData[bannerId];};var criteoTagContent=function(){var tag='<script type="text/javascript" src="https://static.criteo.net/js/ld/publishertag.js" async></script>';if(sublime.ssp.criteo.url){tag='<script type="text/javascript" src="'+sublime.ssp.criteo.url+'" async></script> ';}
tag+='<script>'+'window.Criteo = window.Criteo || {};'+'window.Criteo.events = window.Criteo.events || [];'+'</script>'+'<script type="text/javascript">'+'Criteo.events.push(function() {'+'    var adUnit = {'+'        "placements": ['+'        {'+'            "slotid": "adunitid1",'+'            "zoneId": '+sublime.ad.ssp_id+','+'            "nativeCallback": sublime.ssp.criteo.callback'+'        }'+'        ]'+'    };'+'    Criteo.Passback.RequestBids(adUnit, sublime.ssp.criteo.timeout);'+'});'+'</script>'+'<div id="adunitid1">'+'<script type="text/javascript">'+'Criteo.events.push(function() {'+'    Criteo.Passback.RenderAd("adunitid1", function (adunit) {'+'        return sublime.ssp.errorAndGoNext({'+'            message: "Criteo request not handled",'+'            response: adunit,'+'            ssp_response: sublime.sspRequest.ssp_response.EMPTY_RESPONSE'+'        });'+'    });'+'});'+'</script>'+'</div>';return tag;};sublime.ssp.criteogeneric={name:'criteogeneric',iframeId:'sublime-criteogeneric-iframe',timeout:false};sublime.ssp.criteogeneric.query=sublime.ssp.criteo.query;sublime.ssp=sublime.ssp||{};sublime.ssp.rubicon={name:'rubicon',iframeId:'sublime-rubicon-iframe'};sublime.ssp.rubicon.query=function(){if(sublime.ad.header_bidding){sublime.warn('Header bidding not yet supported for Rubicon');}
var rpParams=getParameters();if(!rpParams){return sublime.ssp.errorAndGoNext({message:"sspRubicon: ssp_id incorrect: "+sublime.ad.ssp_id,ssp_response:sublime.sspRequest.ssp_response.PARAMETERS_ERROR});}
var rpParamsString=JSON.stringify(rpParams),html='<scr'+'ipt type="text/javascript" src="'+rpParams.url+'"></scr'+'ipt>'+'<scr'+'ipt type="text/javascript">'+'sublime.info("Rubicon Params", '+rpParamsString+');'+'</scr'+'ipt>';delete rpParams.url;sublime.write(html,{id:sublime.ssp.rubicon.iframeId,iframeVars:rpParams});};var getParameters=function(){var parts=sublime.ad.ssp_id.toString().split(':');if(parts.length!==3){return false;}
var zone={id:32097,site_id:10546,main_category_id:74,sub_category_id:9,html:"<style>\nbody, .viewport, .no-touchevents .letterbox, .letterbox {position: static !important;}\n/*.no-touchevents .letterbox {position: static !important;}*/\n.letterbox {padding-bottom: 0 !important;}\nheader.header {position: absolute; left: 0; width: 100%; top: 0;}\n#covid-19-banner, #true, .notification-box {position: absolute; top: 0; left: 0; width: 100%; z-index: 200;}\nbody.sublime-top-banner .notification-box {top: 95px;}\nbody.sublime-top-banner header.header {top: 95px;}\nbody.sublime-top-cookie header.header {top: 37px;}\nbody.sublime-top-banner.sublime-top-cookie header.header {top: 132px;}\n.viewport > section, .viewport .main  {background-color: #fff !important;}\n.grid-container.sticky-header.hide-fully-to-m {width:1200px !important;}\n.grid-container.main {max-width:100% !important;}\n/*.footer {position: absolute !important; left:0 !important; bottom:inherit !important;}*/\n#srp-results aside iframe, #srp-results div ul iframe, #srp-results div iframe, #srp-results div li iframe {transform: scale(0.75) !important; transform-origin: left !important;}\n#vipBanner {height: 0 !important; margin-bottom: 0 !important; min-height: 0 !important;}\n//#vipMiddleDesktop, #mpu, #fBanner {height:0 !important; margin:0 !important; min-height:0 !important;}\n//#vipMiddleDesktop, #mpu {height:0 !important; margin:0 !important; min-height:0 !important;}\n.viewport-mask {position: fixed !important;}\n.footer-banner-container {bottom: inherit !important; left:0 !important; z-index: 1000000000 !important;}\n</style>\n\n<script>\nfunction init(){\n    /* Init variables */\n    var html = sublime.window.document.querySelector(\'html\'),\n        body = sublime.window.document.body,\n        isSafari = navigator.userAgent.indexOf(\'Safari\') != -1 && navigator.userAgent.indexOf(\'Chrome\') == -1,\n        isMac = navigator.appVersion.indexOf(\"Mac\") != -1,\n        isVideo = !sublime.isEmpty(sublime.creativeAd.videos),\n        bgfix = sublime.creativeAd.fixed,\n        format = \'\',\n        ayadsVideoLayer,\n        firstCall,\n        i = 0,\n        /* Edit variables */\n        maxHeightHeader = 60,\n        minHeightHeader = 0;\n    /**************** ADAPT MARGIN TO HTML AND LAUNCH FUNCTION FOR OTHERS ELEMENTS ****************/\n    function fixSkin(){\n        html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n        if ((bgfix && !isVideo) || (!bgfix && isMac && isSafari)) {\n            body.style.cssText = \'background-position: center \'+maxHeightHeader+\'px !important;\';\n        }\n        if (bgfix) {\n            fixSkinOnScrollEvent();\n            if (firstCall) {\n                sublime.window.addEventListener(\'scroll\', fixSkinOnScrollEvent);\n                firstCall = false;\n            }\n        }\n    }\n    /**************** ADAPT MARGIN TO OTHERS ELEMENTS ****************/\n    function fixSkinOnScrollEvent(){\n        var y = sublime.window.pageYOffset,\n            newMarginTop;\n \n        if (y === 0) {\n            newMarginTop = maxHeightHeader;\n        } else if (y > 0 && y < (maxHeightHeader - minHeightHeader)) {\n            newMarginTop = Math.floor(maxHeightHeader - y);\n        } else {\n            newMarginTop = minHeightHeader;\n        }\n \n        if (isVideo && ayadsVideoLayer) {\n            ayadsVideoLayer.style.cssText = \'top: \' + newMarginTop + \'px !important;\';\n        } else {\n            body.style.cssText = \'background-position: center \' + newMarginTop + \'px !important;\';\n        }\n    }\n    /**************** CHECK IF ELEMENT IS PRESENT ****************/\n    function checkDivPresence(div, callback, bool){\n        myDiv = sublime.window.document.querySelector(div);\n        if (myDiv) {\n            if (bool) {\n                if (isVideo) {\n                    ayadsVideoLayer = myDiv;\n                }\n                firstCall = true;\n            }\n            callback(myDiv);\n        } else {\n            top.sublime.timer.setTimeout(function(){\n                if (i > 30) {\n                    top.sublime.timer.clearTimeout(function() {\n                        checkDivPresence();\n                    });\n                } else {\n                checkDivPresence(div, callback, bool);\n                }\n                i += 1;\n            }, 100);\n        }\n    }\n    function bannerRemoved(headerDyn){\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            maxHeightHeader -= headerDyn.offsetHeight;\n            body.classList.remove(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (maxHeightHeader -= 37, body.classList.remove(\'sublime-top-cookie\'));\n        fixSkin();\n    }\n    /**************** ADAPT MARGIN TO HEADER WITH A DYNAMIC HEIGHT (OPTION) ****************/\n    function getHeightDynamicHeader(headerDyn){\n        var closeButtonBanner = headerDyn.querySelector(\'.banner-close\'),\n            closeButtonCookie = headerDyn.querySelector(\'.notification-box-close\');\n        maxHeightHeader += headerDyn.offsetHeight;\n        if ((headerDyn.id === \"covid-19-banner\" || headerDyn.id === \"true\") && headerDyn.offsetHeight > 0) {\n            body.classList.add(\'sublime-top-banner\');\n        }\n        (headerDyn.classList.contains(\"notification-box\")) && (body.classList.add(\'sublime-top-cookie\'));\n        fixSkin();\n        (closeButtonBanner) && (closeButtonBanner.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n        (closeButtonCookie) && (closeButtonCookie.addEventListener(\'click\', function(){bannerRemoved(headerDyn)}));\n    }\n    /**************** LAUNCH FUNCTION CHECK ****************/\n    html.style.cssText = \'margin-top:\' + maxHeightHeader + \'px !important;\';\n    if (isVideo){\n        checkDivPresence(\'#ayads-video-layer\', fixSkin, true);\n    } else {\n        checkDivPresence(\'body\', fixSkin, true);\n    };\n    sublime.hook.register(\"event.cleanUp\", function(){\n        sublime.window.removeEventListener(\'scroll\', fixSkinOnScrollEvent);\n        html.style.marginTop = \'\';\n    });\n    checkDivPresence(\'#covid-19-banner\', getHeightDynamicHeader);\n    checkDivPresence(\'#true\', getHeightDynamicHeader);\n    checkDivPresence(\'.notification-box\', getHeightDynamicHeader);\n}\n/**************** LAUNCH GLOBAL FUNCTION ****************/\ninit();\n</script>",passback:"",mobilepassback:"",premium:0,block_cookies:0,scale:1,url:"www.gumtree.com",width:0,mobile_setup:{footer_fixed:1},sticky_setup:{js:"",css:""},mobilecss:"",mobilejs:"",mobile_bottom_selector:"",mobile_bottom_append_position:"",tag_type:"waterfall",video_mute:1,video_autoplay:1,passback_render:"",sjs_debug:0,country:"GB",site_url:"www.gumtree.com",company_id:2099,autoskinz:0,autovideo:0,supported_devices:["mobile","desktop"],main_category_name:"Consumption",sub_category_name:"Discount - Consumer Information",nortb:0,novideo:0,noreminder:0,host:"www.gumtree.com",cappings:{impressions:0,impressions_mobile:0,duration:86400},ignore_client_width:false,scaleCompat:100,continent:"EU",mmd:0,mmm:3}||{};var rpx_params=sublime.originWindow.rpx_params||sublime.window.rpx_params;var output={};output.rp_account=parts[0];output.rp_site=parts[1];output.rp_zonesize=parts[2];output.rp_adtype='jsonp';output.rp_callback=renderCallback;output.rp_smartfile='[SMART FILE URL]';output.rp_kw=(typeof rpx_params!=='undefined'&&typeof rpx_params.kw!=='undefined')?rpx_params.kw:'';output.rp_visitor=(typeof rpx_params!=='undefined'&&typeof rpx_params.visitor!=='undefined')?rpx_params.visitor:{};if(typeof rpx_params!=='undefined'&&typeof rpx_params.inventory!=='undefined'){output.rp_inventory=rpx_params.inventory;}else if(!sublime.ad.traffic_type||sublime.ad.traffic_type!=='pmp'){output.rp_inventory={zone_id:zone.id,category:zone.main_category_name+','+zone.sub_category_name,broadcasting:'',novideo:zone.novideo?1:0};}else{output.rp_inventory={main_channel:zone.main_category_name,sub_channel:zone.sub_category_name};}
output.url='https://ads.rubiconproject.com/ad/'+output.rp_account+'.js';return output;};var renderCallback=function(response){if(response.status!=="ok"){return sublime.ssp.errorAndGoNext({message:"sspRubicon: request error : "+sublime.ad.ssp_id,ssp_response:sublime.sspRequest.ssp_response.REQUEST_ERROR});}
if(sublime.isEmpty(response.ads)){return sublime.ssp.errorAndGoNext({message:"sspRubicon: empty response",ssp_response:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});}
var ad,html='';for(var i=0;i<response.ads.length;i++){ad=response.ads[i];if(ad.status!=="ok"){continue;}
if(ad.type==="script"){html='<scr'+'ipt type="text/javascript">'+ad.script+'</scr'+'ipt>';}else if(ad.type==="html"){html=ad.html;}
if(html){return sublime.parseScript.write(html,{id:sublime.ssp.rubicon.iframeId+'-callback',iframeAttributes:{"data-ssp-name":sublime.ad.ssp_name,"data-ssp":sublime.ad.ssp_id},errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd,tryIntervalMs:100,tryRepeat:30,responseReader:sublime.ssp.rubicon.readResponse,iframeVars:getParameters()});}}
return sublime.ssp.errorAndGoNext({message:"sspRubicon: empty ads",ssp_response:sublime.sspRequest.ssp_response.EMPTY_RESPONSE});};sublime.ssp.rubicon.readResponse=function(iframeWindow){var output={responseFound:false,adFound:false,creativeAd:{}};var imgs=iframeWindow.document.getElementsByTagName('img');for(var i=0,img;i<imgs.length;i++){img=imgs[i];if(img.src.indexOf('secure-assets.rubiconproject.com/static/psa/')>-1){output.responseFound=true;return output;}}
output=sublime.parseScript.readResponseFromIframe(iframeWindow);return output;};sublime.ssp.smartadserver={name:'smartadserver',iframeId:'sublime-smartadserver-iframe',timeout:false};sublime.ssp.smartadserver.query=function(){var isUSCampaign=sublime.ad.campaign_id===5691;sublime.info(sublime.ssp.smartadserver.name+'.query: PROMISE');var source={url:sublime.sspRequest.smartadserverRequest.getDefaultSourceUrl(sublime.ad.ssp_id)};var options={isUSCampaign:isUSCampaign,acceptVideo:!0&&!sublime.detectDevice.isDataSaverEnabled()};return sublime.sspRequest.smartadserverRequest.call(source,options).then(function(response){if(response.success){if(response.vast){return displayVideoAd(response.vast);}else if(response.json){return displayHTMLAd(response.json.ad.creativeScriptRAW,response.pixels);}}
return sublime.ssp.errorAndGoNext({message:response.message,ssp_response:response.error_code,sspName:sublime.ssp.smartadserver.name});}).catch(function(e){sublime.error('Error with '+sublime.ssp.smartadserver.name+'call',{},e);return sublime.ssp.errorAndGoNext({message:'Error in the SmartAdServer Promise, error catched',ssp_response:sublime.sspRequest.ssp_response.UNKNOWN_ERROR,sspName:sublime.ssp.smartadserver.name,});});};function displayVideoAd(vastString){var xmlDocument=sublime.helpers.tryParseXml(vastString);return sublime.parseVast.decodeVastResponse(xmlDocument,{errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd});}
function displayHTMLAd(html,pixels){sublime.parseScript.write(html,{id:sublime.ssp.smartadserver.iframeId,iframeAttributes:{"data-ssp-name":sublime.ad.ssp_name,"data-ssp":sublime.ad.ssp_id},errorCallback:sublime.ssp.errorAndGoNext,successCallback:function(creativeAd){sublime.info("event.ssp.ok",creativeAd);if(pixels){sublime.log("Adding Smart pixels");sublime.analytics.setPixels(32097,pixels);}
sublime.ad=sublime.merge(sublime.ad,creativeAd);sublime.ssp.fireSspPixel('sspOk',0);return sublime.adServer.displayAd();},tryIntervalMs:30,tryRepeat:50});}
sublime.ssp.sticky={name:'sticky',timeout:false};var customUrlsSspSticky={query:''};sublime.ssp.sticky.setQueryUrl=function(url){customUrlsSspSticky.query=url;};sublime.ssp.sticky.query=function(){var url;if(customUrlsSspSticky&&customUrlsSspSticky.query){url=customUrlsSspSticky.query;}else{url=sublime.ssp.sticky.getQueryUrl();}
sublime.parseVast.query(url,{sspName:'sticky',adId:sublime.ad.id,timeout:sublime.ssp.sticky.timeout,errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd});return true;};sublime.ssp.sticky.getQueryUrl=function(){var url='https://ads.stickyadstv.com/www/delivery/swfIndex.php?reqType=AdsSetup&protocolVersion=2.0&zoneId='+sublime.ad.ssp_id;url=sublime.macros.replace(url);url=sublime.sspRequest.stickyRequest.buildGDPRQuery(url);return url;};sublime.ssp.generic={name:'generic',iframeId:'sublime-generic-iframe',timeout:false};var customUrlsSspGeneric={query:''};sublime.ssp.generic.setQueryUrl=function(url){customUrlsSspGeneric.query=url;};sublime.ssp.generic.query=function(){if(sublime.ad.vast_url){sublime.parseVast.query(sublime.ad.vast_url,{timeout:sublime.ssp.generic.timeout});}else if(sublime.ad.script_url){sublime.parseScript.write('<script src="'+sublime.ad.script_url+'"></script>',{errorCallback:sublime.ssp.errorAndGoNext,successCallback:sublime.ssp.successAndDisplayAd,});}else{return sublime.ssp.errorAndGoNext({message:'Cannot use ssp generic without vast_url or script_url',ssp_response:sublime.sspRequest.ssp_response.PARAMETERS_ERROR});}};sublime.cleanUp=function cleanUp(){sublime.hook.call('event.cleanUp');sublime.timer.clearAllTimeouts();sublime.timer.clearAllIntervals();removeDomNodes();removeGlobals();};function removeDomNodes(){var elements=sublime.document.querySelectorAll('[id^="ayads"],[id^="sublime"],div[class*="celtraCloseButtonBackground"],[class*="celtra-expanded-ad"],[class*="celtra-placement-sticky"]');sublime.info("SJS Cleanup","DOM Elements to remove:",elements.length);for(var i=0;i<elements.length;i++){var node=elements[i];if(node.parentNode){node.parentNode.removeChild(node);}}}
function removeGlobals(){sublime.window.sublime=undefined;sublime.window.ayads=undefined;window.sublime=undefined;window.ayads=undefined;}
function runAdServer(){if(sublime.adServer){sublime.adServer.run();}}
if(sublime.isFeatureEnabled('sskzGDPR')){sublime.analytics.fire(32097,'call');sublime.gdpr.run().then(function(consent){sublime.info('GDPR: process end',consent);runAdServer();}).catch(function(error){sublime.error('Waterfall runner on error',{},error);runAdServer();});}else{runAdServer();}})(sublime);